{"version":3,"sources":["components/Cover.tsx","components/HorizontalSlide.tsx","views/app/Find.tsx","store/selectors.ts","components/get_started/Authenticated.tsx","components/ForYou.tsx","components/get_started/Setup.tsx","components/get_started/Unauthenticated.tsx","views/app/Home.tsx","components/Backdrop.tsx","components/FileList.tsx","hooks/toggle.ts","components/PersonList.tsx","views/app/Movie.tsx","components/ItemGrid.tsx","components/VerticalSlide.tsx","views/app/Movies.tsx","components/icons/Nucleo/FindIcon.tsx","components/icons/Nucleo/ForYouIcon.tsx","components/icons/Nucleo/MovieIcon.tsx","components/icons/Nucleo/SettingsIcon.tsx","components/icons/Nucleo/ShowIcon.tsx","components/Tab.tsx","components/Nav.tsx","views/app/Person.tsx","components/EpisodeEntry.tsx","views/app/Season.tsx","components/icons/Nucleo/AddIcon.tsx","components/ProviderButton.tsx","components/authentication/ChooseProvider.tsx","components/Modal.tsx","components/icons/Nucleo/CheckIcon.tsx","components/authentication/ProviderForm.tsx","components/authentication/SetupProvider.tsx","hooks/modal.ts","components/authentication/AddProviderModal.tsx","components/LanguageSelector.tsx","components/authentication/UpdateProviderModal.tsx","views/app/Settings.tsx","views/app/Show.tsx","views/app/Shows.tsx","views/app/index.tsx"],"names":["Cover","url","alt","className","src","HorizontalSlide","id","items","t","useTranslation","spaceBetween","slidesPerView","slidesOffsetBefore","slidesOffsetAfter","grabCursor","length","map","item","index","to","buildItemUrl","buildCoverUrl","posterPath","title","buildIndex","itemToText","FlexSearch","create","forEach","key","add","Find","history","useHistory","location","useLocation","initialQuery","useMemo","URLSearchParams","search","get","useSelector","state","movies","shows","useState","query","setQuery","moviesIndex","moviesSelector","movie","summary","showsIndex","showsSelector","show","foundMovies","useAsyncMemo","a","result","movieSelector","filter","notUndefined","foundShows","showSelector","handleInputChange","useCallback","event","replace","target","value","autoFocus","placeholder","onChange","Object","keys","inProgressSelector","createSelector","inProgressMoviesSelector","inProgressSeasonsSelector","seasons","recentlyWatchedSelector","recentlyWatchedMoviesSelector","recentlyWatchedSeasonsSelector","Authenticated","onIndex","href","rel","onClick","ForYou","inProgress","recentlyWatched","Setup","Unauthenticated","Trans","Home","dispatch","useDispatch","sortByLastWatched","providers","providersSelector","auth","handleIndex","load","Backdrop","FileList","files","file","name","useToggle","initialValue","setValue","PersonList","people","details","isWrapped","toggleIsWrapped","displayedPeople","slice","person","Movie","match","params","handleContinue","undefined","push","kind","usage","progress","handleWatch","buildBackdropUrl","backdropPath","Date","releaseDate","getFullYear","duration","splitHoursAndMinutes","isInProgress","disabled","sources","classNames","primary","trailerUrl","cast","character","crew","buildJobTitle","job","gender","captions","NotFound","ItemGrid","SwiperCore","use","EffectCoverflow","VerticalSlide","path","direction","effect","coverflowEffect","rotate","stretch","depth","modifier","slideShadows","replaceState","data-history","Movies","sortAlphabetically","FindIcon","Icon","width","height","fill","stroke","x1","x2","y1","y2","cx","cy","r","ForYouIcon","points","d","MovieIcon","x","y","SettingsIcon","ShowIcon","Tab","children","exact","isActive","matchPath","pathname","active","Nav","moviesDisabled","showsDisabled","Person","moviesPersonSelector","seasonsPersonSelector","season","moviesCast","moviesCrew","seasonsCast","seasonsCrew","reduce","acc","ItemKind","tmdbId","profilePath","jobs","Set","moviesByPersonSelector","seasonsByPersonSelector","showBackdropPath","join","EpisodeEntry","episode","number","airDate","toDateString","Season","seasonSelector","showId","episodes","sortByNumber","episodesBySeasonSelector","currentEpisode","find","showEpisodes","toggleEpisodes","episodeNumber","shown","AddIcon","ProviderButton","icon","large","ChooseProvider","onChoose","handleChoose","PROVIDER_KINDS","buildProviderIcon","buildProviderKindName","Modal","onClose","modalRef","useRef","useOnClickOutside","ref","CheckIcon","ProviderForm","submitCaption","provider","onSubmit","initalState","moviesPath","showsPath","setState","handleChange","currentTarget","handleSubmit","preventDefault","isSetupInput","isValidInput","startsWith","isValid","useEffect","setup","valid","type","SetupProvider","onSetup","useModal","setShow","AddProviderModal","onSetupAuth","onAddProvider","handleOpen","authResponse","setAuthResponse","useSetupAuthRedirect","response","handleSetup","LanguageSelector","i18next","changeLanguage","defaultValue","language","LANGUAGES","UpdateProviderModal","onUpdateProvider","onRemoveProvider","handleUpdate","handleRemoveProvider","window","confirm","Settings","handleSetupAuth","setupAuth","handleUpdateProvider","updateProvider","handleFetchMetadataAll","fetchAllMetadata","removeProvider","showAddProviderModal","handleShowAddProviderModal","handleCloseAddProviderModal","_","showUpdateProviderModals","setShowUpdateProviderModals","handleShowUpdateProviderModal","handleCloseUpdateProviderModal","warn","version","VERSION","process","buildCommitId","Show","seasonsByShowSelector","firstAirDate","lastAirDate","Shows","App","moviesCount","showsCount","component"],"mappings":"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","file":"static/js/5.be4366e6.chunk.js","sourcesContent":["import './Cover.scss'\nimport React from 'react'\n\ntype CoverProps = {\n  url: string\n  alt: string\n}\n\nexport const Cover = ({ url, alt }: CoverProps) => (\n  <img className=\"Cover\" src={url} alt={alt} />\n)\n","import './HorizontalSlide.scss'\nimport { Swiper, SwiperSlide } from 'swiper/react'\nimport { buildCoverUrl, buildItemUrl } from '../util'\nimport { Cover } from './Cover'\nimport { Link } from 'react-router-dom'\nimport { Movie } from '../types/items/Movie'\nimport React from 'react'\nimport { Season } from '../types/items/Season'\nimport { Show } from '../types/items/Show'\nimport { useTranslation } from 'react-i18next'\n\ntype HorizontalSlideProps = {\n  id: string\n  items: (Movie | Season | Show)[]\n}\n\nexport const HorizontalSlide = ({ id, items }: HorizontalSlideProps) => {\n  const { t } = useTranslation()\n\n  return (\n    <div className=\"HorizontalSlide\" id={id}>\n      <Swiper\n        spaceBetween={15}\n        slidesPerView=\"auto\"\n        slidesOffsetBefore={20}\n        slidesOffsetAfter={20}\n        grabCursor\n      >\n        {items.length > 0 ? (\n          items.map((item, index) => (\n            <SwiperSlide key={index}>\n              <Link to={buildItemUrl(item)}>\n                <Cover url={buildCoverUrl(item.posterPath)} alt={item.title} />\n              </Link>\n            </SwiperSlide>\n          ))\n        ) : (\n          <SwiperSlide>\n            <h3>{t('Nothing found.')}</h3>\n          </SwiperSlide>\n        )}\n      </Swiper>\n    </div>\n  )\n}\n","import './Find.scss'\nimport FlexSearch, { Index } from 'flexsearch'\nimport React, { useCallback, useMemo, useState } from 'react'\nimport { movieSelector, moviesSelector } from '../../store/movies/selectors'\nimport { showSelector, showsSelector } from '../../store/shows/selectors'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { HorizontalSlide } from '../../components/HorizontalSlide'\nimport { Item } from '../../types/items/Item'\nimport { RootState } from '../../store'\nimport { notUndefined } from '../../util'\nimport { useAsyncMemo } from 'use-async-memo'\nimport { useSelector } from 'react-redux'\nimport { useTranslation } from 'react-i18next'\n\nconst QUERY_PARAMETER = 'q'\n\nconst buildIndex = <T extends Item>(\n  items: T[],\n  itemToText: (item: T) => string,\n) => {\n  const index: Index<string> = FlexSearch.create()\n  items.forEach((item) => {\n    // a workaround to use strings as keys\n    const key = (item.id as unknown) as number\n\n    index.add(key, itemToText(item))\n  })\n  return index\n}\n\nexport const Find = () => {\n  const { t } = useTranslation()\n  const history = useHistory()\n  const location = useLocation()\n\n  const initialQuery = useMemo(\n    () => new URLSearchParams(location.search).get(QUERY_PARAMETER),\n    [location],\n  )\n\n  const { movies, shows } = useSelector((state: RootState) => ({\n    movies: state.movies,\n    shows: state.shows,\n  }))\n\n  const [query, setQuery] = useState(initialQuery || '')\n\n  const moviesIndex = useMemo(\n    () =>\n      buildIndex(\n        moviesSelector(movies),\n        (movie) => `${movie.title};${movie.summary}`,\n      ),\n    [movies],\n  )\n  const showsIndex = useMemo(\n    () =>\n      buildIndex(\n        showsSelector(shows),\n        (show) => `${show.title};${show.summary}`,\n      ),\n    [shows],\n  )\n\n  const foundMovies = useAsyncMemo(async () => {\n    const result = await moviesIndex.search(query)\n    return result.map((id) => movieSelector(id)(movies)).filter(notUndefined)\n  }, [moviesIndex, query])\n  const foundShows = useAsyncMemo(async () => {\n    const result = await showsIndex.search(query)\n    return result.map((id) => showSelector(id)(shows)).filter(notUndefined)\n  }, [showsIndex, query])\n\n  const handleInputChange = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      history.replace(`/app/find?${QUERY_PARAMETER}=${event.target.value}`)\n      setQuery(event.target.value)\n    },\n    [history, setQuery],\n  )\n\n  return (\n    <div className=\"Find\">\n      <form>\n        <input\n          autoFocus\n          value={query}\n          placeholder={t('Search your library')}\n          onChange={handleInputChange}\n        />\n      </form>\n\n      {foundMovies && Object.keys(foundMovies).length > 0 && (\n        <section>\n          <h2>{t('Movies')}</h2>\n          <HorizontalSlide items={foundMovies} id=\"movies\" />\n        </section>\n      )}\n\n      {foundShows && Object.keys(foundShows).length > 0 && (\n        <section>\n          <h2>{t('TV shows')}</h2>\n          <HorizontalSlide items={foundShows} id=\"shows\" />\n        </section>\n      )}\n    </div>\n  )\n}\n","import { AccPerson, Person } from '../types/items/Person'\nimport {\n  inProgressSelector as inProgressMoviesSelector,\n  moviesPersonSelector,\n  recentlyWatchedSelector as recentlyWatchedMoviesSelector,\n} from './movies/selectors'\nimport {\n  inProgressSelector as inProgressSeasonsSelector,\n  recentlyWatchedSelector as recentlyWatchedSeasonsSelector,\n  seasonsPersonSelector,\n} from './seasons/selectors'\nimport { ItemKind } from '../types/items/Item'\nimport { MoviesState } from './movies/types'\nimport { RootState } from '.'\nimport { SeasonsState } from './seasons/types'\nimport { createSelector } from 'reselect'\n\nexport const inProgressSelector = createSelector(\n  [\n    (state: RootState) => inProgressMoviesSelector(state.movies),\n    (state: RootState) => inProgressSeasonsSelector(state.seasons),\n  ],\n  (movies, seasons) => [...movies, ...seasons],\n)\n\nexport const recentlyWatchedSelector = createSelector(\n  [\n    (state: RootState) => recentlyWatchedMoviesSelector(state.movies),\n    (state: RootState) => recentlyWatchedSeasonsSelector(state.seasons),\n  ],\n  (movies, seasons) => [...movies, ...seasons],\n)\n\nexport const personSelector = (id: string) =>\n  createSelector<\n    { movies: MoviesState; seasons: SeasonsState },\n    Person[],\n    AccPerson | undefined\n  >(\n    [\n      ({ movies }) => moviesPersonSelector(id, (movie) => movie.cast)(movies),\n      ({ movies }) => moviesPersonSelector(id, (movie) => movie.crew)(movies),\n      ({ seasons }) =>\n        seasonsPersonSelector(id, (season) => season.cast)(seasons),\n      ({ seasons }) =>\n        seasonsPersonSelector(id, (season) => season.crew)(seasons),\n    ],\n    (moviesCast, moviesCrew, seasonsCast, seasonsCrew) => {\n      const roles = [\n        ...moviesCast,\n        ...moviesCrew,\n        ...seasonsCast,\n        ...seasonsCrew,\n      ]\n\n      return roles.reduce<AccPerson | undefined>(\n        (acc, person) => ({\n          kind: ItemKind.Person,\n          id,\n          tmdbId: person.tmdbId,\n          name: person.name,\n          gender: person.gender,\n          profilePath: person.profilePath,\n          jobs:\n            person.job === undefined\n              ? acc?.jobs\n              : acc !== undefined && acc.jobs !== undefined\n              ? [...new Set([...acc.jobs, person.job])]\n              : [person.job],\n        }),\n        undefined,\n      )\n    },\n  )\n","import './Authenticated.scss'\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\n\ntype AuthenticatedProps = {\n  onIndex: () => void\n}\n\nexport const Authenticated = ({ onIndex }: AuthenticatedProps) => {\n  const { t } = useTranslation()\n\n  return (\n    <div className=\"Authenticated\">\n      <h2>{t('Get started')}</h2>\n      <p>\n        {t(\n          \"You signed into a cloud service, but we didn't find any movies or TV shows.\",\n        )}\n      </p>\n      <p>\n        {t(\n          \"It's likely that you just have to move some of your files around and create some folders to make it work.\",\n        )}\n      </p>\n      <p>\n        {t(\n          \"Reference the getting started guide to learn how to organize your files so that Plaain finds them. After you're done, just re-index.\",\n        )}\n      </p>\n      <div className=\"Authenticated__buttons\">\n        <a\n          className=\"button primary\"\n          href=\"https://github.com/jonhue/plaain#getting-started\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {t('Getting started')}\n        </a>\n        <button onClick={onIndex}>{t('Index')}</button>\n      </div>\n    </div>\n  )\n}\n","import './ForYou.scss'\nimport { HorizontalSlide } from './HorizontalSlide'\nimport { Movie } from '../types/items/Movie'\nimport React from 'react'\nimport { Season } from '../types/items/Season'\nimport { useTranslation } from 'react-i18next'\n\ntype ForYouProps = {\n  inProgress: (Movie | Season)[]\n  recentlyWatched: (Movie | Season)[]\n}\n\nexport const ForYou = ({ inProgress, recentlyWatched }: ForYouProps) => {\n  const { t } = useTranslation()\n\n  return (\n    <div className=\"ForYou\">\n      {inProgress.length > 0 && (\n        <section>\n          <h2>{t('Continue watching')}</h2>\n          <HorizontalSlide items={inProgress} id=\"inProgress\" />\n        </section>\n      )}\n\n      {recentlyWatched.length > 0 && (\n        <section>\n          <h2>{t('Recently watched')}</h2>\n          <HorizontalSlide items={recentlyWatched} id=\"recentlyWatched\" />\n        </section>\n      )}\n    </div>\n  )\n}\n","import './Setup.scss'\nimport { Link } from 'react-router-dom'\nimport { Movie } from '../../types/items/Movie'\nimport React from 'react'\nimport { Show } from '../../types/items/Show'\nimport { useTranslation } from 'react-i18next'\n\ntype SetupProps = {\n  movies: Movie[]\n  shows: Show[]\n}\n\nexport const Setup = ({ movies, shows }: SetupProps) => {\n  const { t } = useTranslation()\n\n  return (\n    <div className=\"Setup\">\n      <h2>{t('Get started')}</h2>\n      <p>\n        {t(\n          \"Here, you'll be able to find your recently watched movie or the show you didn't finish yet.\",\n        )}\n      </p>\n      <div className=\"Setup__buttons\">\n        {movies.length > 0 && (\n          <Link to=\"/app/movies\" className=\"button\">\n            {t('Discover your movies')}\n          </Link>\n        )}\n        {shows.length > 0 && (\n          <Link to=\"/app/shows\" className=\"button\">\n            {t('Discover your shows')}\n          </Link>\n        )}\n      </div>\n    </div>\n  )\n}\n","import './Unauthenticated.scss'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { Link } from 'react-router-dom'\nimport React from 'react'\n\nexport const Unauthenticated = () => {\n  const { t } = useTranslation()\n\n  return (\n    <div className=\"Unauthenticated\">\n      <h2>{t('Get started')}</h2>\n      <p>\n        {t(\n          'To watch your movies and TV shows, you first have to sign in with the cloud service that hosts your media.',\n        )}\n      </p>\n      <Link to=\"/app/settings\" className=\"button\">\n        {t('Authenticate')}\n      </Link>\n      <p className=\"small\">\n        <Trans>\n          Note that Plaain may <span className=\"bold\">not</span> be used to\n          stream pirated content or publicly share your private media library.\n          You may only connect to your private cloud storage.\n        </Trans>\n      </p>\n    </div>\n  )\n}\n","import React, { useCallback } from 'react'\nimport {\n  inProgressSelector,\n  recentlyWatchedSelector,\n} from '../../store/selectors'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Authenticated } from '../../components/get_started/Authenticated'\nimport { ForYou } from '../../components/ForYou'\nimport { RootState } from '../../store'\nimport { Setup } from '../../components/get_started/Setup'\nimport { Unauthenticated } from '../../components/get_started/Unauthenticated'\nimport { index } from '../../store/thunks'\nimport { load } from '../../store/ui/thunks'\nimport { moviesSelector } from '../../store/movies/selectors'\nimport { providersSelector } from '../../store/auth/selectors'\nimport { showsSelector } from '../../store/shows/selectors'\nimport { sortByLastWatched } from '../../util'\n\nexport const Home = () => {\n  const dispatch = useDispatch()\n\n  const { inProgress, movies, providers, recentlyWatched, shows } = useSelector(\n    (state: RootState) => ({\n      inProgress: sortByLastWatched(inProgressSelector(state)),\n      movies: moviesSelector(state.movies),\n      providers: providersSelector(state.auth),\n      recentlyWatched: sortByLastWatched(recentlyWatchedSelector(state)),\n      shows: showsSelector(state.shows),\n    }),\n  )\n\n  const handleIndex = useCallback(() => {\n    dispatch(load(index(providers)))\n  }, [dispatch, providers])\n\n  return inProgress.length > 0 || recentlyWatched.length > 0 ? (\n    <ForYou inProgress={inProgress} recentlyWatched={recentlyWatched} />\n  ) : providers.length === 0 ? (\n    <Unauthenticated />\n  ) : movies.length === 0 && shows.length === 0 ? (\n    <Authenticated onIndex={handleIndex} />\n  ) : (\n    <Setup movies={movies} shows={shows} />\n  )\n}\n","import './Backdrop.scss'\nimport React from 'react'\n\ntype BackdropProps = {\n  url: string\n}\n\nexport const Backdrop = ({ url }: BackdropProps) => (\n  <picture className=\"Backdrop\">\n    <img src={url} alt=\"backdrop\" />\n  </picture>\n)\n","import { File } from '../types/files/File'\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\n\ntype FileListProps = {\n  files: File[]\n}\n\nexport const FileList = ({ files }: FileListProps) => {\n  const { t } = useTranslation()\n\n  return (\n    <div className=\"FileList\">\n      {files.map((file, index) => {\n        return (\n          <p className=\"small\" key={index}>\n            {file.name}\n          </p>\n        )\n      })}\n      {files.length === 0 && <p className=\"small\">{t('None')}</p>}\n    </div>\n  )\n}\n","import { useCallback, useState } from 'react'\n\nexport const useToggle = (\n  initialValue: boolean,\n): [value: boolean, handleToggle: () => void] => {\n  const [value, setValue] = useState(initialValue)\n  const handleToggle = useCallback(() => setValue((state) => !state), [\n    setValue,\n  ])\n\n  return [value, handleToggle]\n}\n","import './PersonList.scss'\nimport React, { useMemo } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Person } from '../types/items/Person'\nimport { buildItemUrl } from '../util'\nimport { useToggle } from '../hooks/toggle'\nimport { useTranslation } from 'react-i18next'\n\nconst WRAPPED_SIZE = 10\n\ntype PersonListProps<T extends Person> = {\n  people: T[]\n\n  details: (person: T) => string\n}\n\nexport const PersonList = <T extends Person>({\n  people,\n  details,\n}: PersonListProps<T>) => {\n  const { t } = useTranslation()\n\n  const [isWrapped, toggleIsWrapped] = useToggle(true)\n\n  const displayedPeople = useMemo(\n    () => people.slice(0, isWrapped ? WRAPPED_SIZE : people.length),\n    [isWrapped, people],\n  )\n\n  return (\n    <div className=\"PersonList\">\n      {people.length > 0 ? (\n        displayedPeople.map((person, index) => {\n          return (\n            <p key={index}>\n              <Link to={buildItemUrl(person)}>{person.name}</Link> ·{' '}\n              <span>{details(person)}</span>\n            </p>\n          )\n        })\n      ) : (\n        <p>{t('None')}</p>\n      )}\n      {people.length > WRAPPED_SIZE && (\n        <span onClick={toggleIsWrapped}>\n          {isWrapped ? t('Show more') : t('Show less')}\n        </span>\n      )}\n    </div>\n  )\n}\n","import './Movie.scss'\nimport React, { useCallback } from 'react'\nimport { RouteComponentProps, useHistory } from 'react-router-dom'\nimport {\n  buildBackdropUrl,\n  buildCoverUrl,\n  buildJobTitle,\n  isInProgress,\n  splitHoursAndMinutes,\n} from '../../util'\nimport { Backdrop } from '../../components/Backdrop'\nimport { Cover } from '../../components/Cover'\nimport { FileList } from '../../components/FileList'\nimport { NotFound } from '../NotFound'\nimport { PersonList } from '../../components/PersonList'\nimport { RootState } from '../../store'\nimport classNames from 'classnames'\nimport { movieSelector } from '../../store/movies/selectors'\nimport { useSelector } from 'react-redux'\nimport { useTranslation } from 'react-i18next'\n\ninterface MovieParams {\n  id: string\n}\n\ntype MovieProps = RouteComponentProps<MovieParams>\n\nexport const Movie = ({ match }: MovieProps) => {\n  const { t } = useTranslation()\n  const history = useHistory()\n\n  const movie = useSelector((state: RootState) =>\n    movieSelector(match.params.id)(state.movies),\n  )\n\n  const handleContinue = useCallback(() => {\n    if (movie === undefined) return\n    history.push(\n      `/player?id=${movie.id}&type=${movie.kind}&s=${movie.usage.progress}`,\n    )\n  }, [history, movie])\n\n  const handleWatch = useCallback(() => {\n    if (movie === undefined) return\n    history.push(`/player?id=${movie.id}&type=${movie.kind}`)\n  }, [history, movie])\n\n  return movie !== undefined ? (\n    <div className=\"Movie\">\n      <Backdrop url={buildBackdropUrl(movie.backdropPath)} />\n      <div className=\"Movie__details\">\n        <Cover url={buildCoverUrl(movie.posterPath)} alt=\"poster\" />\n        <h1>{movie.title}</h1>\n        <div className=\"Movie__information\">\n          <p className=\"small\">{new Date(movie.releaseDate).getFullYear()}</p>\n          {movie.duration && (\n            <p className=\"small\">{splitHoursAndMinutes(t, movie.duration)}</p>\n          )}\n        </div>\n        <div className=\"Movie__actions\">\n          {isInProgress(movie) && (\n            <button\n              className=\"primary\"\n              onClick={handleContinue}\n              disabled={movie.sources.length === 0}\n            >\n              {t('Continue')}\n            </button>\n          )}\n          <button\n            className={classNames({ primary: !isInProgress(movie) })}\n            onClick={handleWatch}\n            disabled={movie.sources.length === 0}\n          >\n            {t('Watch')}\n          </button>\n          <a\n            className=\"button\"\n            href={movie.trailerUrl}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {t('Play trailer')}\n          </a>\n        </div>\n        <p className=\"Movie__overview\">{movie.summary}</p>\n        <div className=\"Movie__people\">\n          <div className=\"Movie__people__cast\">\n            <h4>{t('Starring')}</h4>\n            <PersonList\n              people={movie.cast}\n              details={(person) => person.character}\n            />\n          </div>\n          <div className=\"Movie__people__crew\">\n            <h4>{t('Crew')}</h4>\n            <PersonList\n              people={movie.crew}\n              details={(person) => buildJobTitle(t, person.job, person.gender)}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"Movie__sources\">\n        <div>\n          <h4>{t('Sources')}</h4>\n          <div>\n            <div className=\"Movie__sources__versions\">\n              <h5>{t('Versions')}</h5>\n              <FileList files={movie.sources} />\n            </div>\n            <div className=\"Movie__sources__captions\">\n              <h5>{t('Subtitles')}</h5>\n              <FileList files={movie.captions} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  ) : (\n    <NotFound />\n  )\n}\n","import './ItemGrid.scss'\nimport { buildCoverUrl, buildItemUrl } from '../util'\nimport { Cover } from './Cover'\nimport { Link } from 'react-router-dom'\nimport { Movie } from '../types/items/Movie'\nimport React from 'react'\nimport { Season } from '../types/items/Season'\nimport { Show } from '../types/items/Show'\nimport { useTranslation } from 'react-i18next'\n\ntype ItemGridProps = {\n  items: (Movie | Season | Show)[]\n}\n\nexport const ItemGrid = ({ items }: ItemGridProps) => {\n  const { t } = useTranslation()\n\n  return (\n    <div className=\"ItemGrid\">\n      {items.length > 0 ? (\n        items.map((item, index) => (\n          <div className=\"ItemGrid__item\" key={index}>\n            <Link to={buildItemUrl(item)}>\n              <Cover url={buildCoverUrl(item.posterPath)} alt={item.title} />\n            </Link>\n          </div>\n        ))\n      ) : (\n        <div className=\"ItemGrid__item\">\n          <h3>{t('Nothing found.')}</h3>\n        </div>\n      )}\n    </div>\n  )\n}\n","import './VerticalSlide.scss'\nimport { Swiper, SwiperSlide } from 'swiper/react'\nimport SwiperCore, { EffectCoverflow } from 'swiper'\nimport { buildCoverUrl, buildItemUrl } from '../util'\nimport { Cover } from './Cover'\nimport { Link } from 'react-router-dom'\nimport { Movie } from '../types/items/Movie'\nimport React from 'react'\nimport { Season } from '../types/items/Season'\nimport { Show } from '../types/items/Show'\nimport { useTranslation } from 'react-i18next'\n\nSwiperCore.use([EffectCoverflow])\n\ntype VerticalSlideProps = {\n  id: string\n  items: (Movie | Season | Show)[]\n  path: string\n}\n\nexport const VerticalSlide = ({ id, items, path }: VerticalSlideProps) => {\n  const { t } = useTranslation()\n\n  return (\n    <div className=\"VerticalSlide\" id={id}>\n      <Swiper\n        direction=\"vertical\"\n        slidesPerView=\"auto\"\n        grabCursor\n        effect=\"coverflow\"\n        coverflowEffect={{\n          rotate: 0,\n          stretch: 425,\n          depth: 150,\n          modifier: 1,\n          slideShadows: false,\n        }}\n        history={{\n          replaceState: true,\n          key: path,\n        }}\n      >\n        {items.length > 0 ? (\n          items.map((item, index) => (\n            <SwiperSlide data-history={item.id} key={index}>\n              <Link to={buildItemUrl(item)}>\n                <Cover url={buildCoverUrl(item.posterPath)} alt={item.title} />\n              </Link>\n            </SwiperSlide>\n          ))\n        ) : (\n          <SwiperSlide>\n            <h3>{t('Nothing found.')}</h3>\n          </SwiperSlide>\n        )}\n      </Swiper>\n    </div>\n  )\n}\n","import './Movies.scss'\nimport { ItemGrid } from '../../components/ItemGrid'\nimport React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { RootState } from '../../store'\nimport { VerticalSlide } from '../../components/VerticalSlide'\nimport { moviesSelector } from '../../store/movies/selectors'\nimport { sortAlphabetically } from '../../util'\nimport { useSelector } from 'react-redux'\n\nexport const Movies = () => {\n  const movies = useSelector((state: RootState) =>\n    sortAlphabetically(moviesSelector(state.movies), (movie) => movie.title),\n  )\n\n  return movies.length > 0 ? (\n    <div className=\"Movies\">\n      <VerticalSlide items={movies} path=\"movies\" id=\"movies\" />\n      <ItemGrid items={movies} />\n    </div>\n  ) : (\n    <Redirect to=\"/app\" />\n  )\n}\n","import { Icon } from '../Icon'\nimport React from 'react'\n\nexport const FindIcon = () => (\n  <Icon className=\"zoom\" width={24} height={24}>\n    <title>Find</title>\n    <g fill=\"#ffffff\">\n      <line\n        fill=\"none\"\n        stroke=\"#ffffff\"\n        x1=\"22\"\n        x2=\"15.656\"\n        y1=\"22\"\n        y2=\"15.656\"\n      />\n      <circle cx=\"10\" cy=\"10\" fill=\"none\" r=\"8\" stroke=\"#ffffff\" />\n    </g>\n  </Icon>\n)\n","import { Icon } from '../Icon'\nimport React from 'react'\n\nexport const ForYouIcon = () => (\n  <Icon className=\"popcorn\" width={24} height={24}>\n    <title>For You</title>\n    <g fill=\"#ffffff\">\n      <polygon fill=\"none\" points=\"21 7 3 7 5 23 19 23 21 7\" stroke=\"#ffffff\" />\n      <path\n        d=\"M19,5a3,3,0,0,0-3-3,2.97,2.97,0,0,0-1.47.4,2.986,2.986,0,0,0-5.06,0A2.97,2.97,0,0,0,8,2,3,3,0,0,0,5,5\"\n        fill=\"none\"\n        stroke=\"#ffffff\"\n      />\n      <line fill=\"none\" stroke=\"#ffffff\" x1=\"9\" x2=\"8\" y1=\"23\" y2=\"7\" />\n      <line fill=\"none\" stroke=\"#ffffff\" x1=\"15\" x2=\"16\" y1=\"23\" y2=\"7\" />\n    </g>\n  </Icon>\n)\n","import { Icon } from '../Icon'\nimport React from 'react'\n\nexport const MovieIcon = () => (\n  <Icon className=\"movie-61\" width={24} height={24}>\n    <title>Movie</title>\n    <g fill=\"#ffffff\">\n      <line fill=\"none\" stroke=\"#ffffff\" x1=\"1\" x2=\"1\" y1=\"1\" y2=\"23\" />\n      <line fill=\"none\" stroke=\"#ffffff\" x1=\"23\" x2=\"23\" y1=\"1\" y2=\"23\" />\n      <rect height=\"22\" width=\"14\" fill=\"none\" stroke=\"#ffffff\" x=\"5\" y=\"1\" />\n      <line fill=\"none\" stroke=\"#ffffff\" x1=\"1\" x2=\"23\" y1=\"12\" y2=\"12\" />\n      <line fill=\"none\" stroke=\"#ffffff\" x1=\"1\" x2=\"5\" y1=\"8\" y2=\"8\" />\n      <line fill=\"none\" stroke=\"#ffffff\" x1=\"1\" x2=\"5\" y1=\"4\" y2=\"4\" />\n      <line fill=\"none\" stroke=\"#ffffff\" x1=\"19\" x2=\"23\" y1=\"8\" y2=\"8\" />\n      <line fill=\"none\" stroke=\"#ffffff\" x1=\"19\" x2=\"23\" y1=\"4\" y2=\"4\" />\n      <line fill=\"none\" stroke=\"#ffffff\" x1=\"19\" x2=\"23\" y1=\"20\" y2=\"20\" />\n      <line fill=\"none\" stroke=\"#ffffff\" x1=\"19\" x2=\"23\" y1=\"16\" y2=\"16\" />\n      <line fill=\"none\" stroke=\"#ffffff\" x1=\"1\" x2=\"5\" y1=\"20\" y2=\"20\" />\n      <line fill=\"none\" stroke=\"#ffffff\" x1=\"1\" x2=\"5\" y1=\"16\" y2=\"16\" />\n    </g>\n  </Icon>\n)\n","import { Icon } from '../Icon'\nimport React from 'react'\n\nexport const SettingsIcon = () => (\n  <Icon className=\"settings-gear\" width={24} height={24}>\n    <title>Settings</title>\n    <g fill=\"#ffffff\" stroke=\"#ffffff\">\n      <circle cx=\"12\" cy=\"12\" fill=\"none\" r=\"3\" />\n      <path\n        d=\"M20,12a8.049,8.049,0,0,0-.188-1.713l2.714-2.055-2-3.464L17.383,6.094a7.987,7.987,0,0,0-2.961-1.719L14,1H10L9.578,4.375A7.987,7.987,0,0,0,6.617,6.094L3.474,4.768l-2,3.464,2.714,2.055a7.9,7.9,0,0,0,0,3.426L1.474,15.768l2,3.464,3.143-1.326a7.987,7.987,0,0,0,2.961,1.719L10,23h4l.422-3.375a7.987,7.987,0,0,0,2.961-1.719l3.143,1.326,2-3.464-2.714-2.055A8.049,8.049,0,0,0,20,12Z\"\n        fill=\"none\"\n        stroke=\"#ffffff\"\n      />\n    </g>\n  </Icon>\n)\n","import { Icon } from '../Icon'\nimport React from 'react'\n\nexport const ShowIcon = () => (\n  <Icon className=\"desktop-screen\" width={24} height={24}>\n    <title>Show</title>\n    <g fill=\"#ffffff\">\n      <line fill=\"none\" stroke=\"#ffffff\" x1=\"12\" x2=\"12\" y1=\"22\" y2=\"18\" />\n      <line fill=\"none\" stroke=\"#ffffff\" x1=\"6\" x2=\"18\" y1=\"22\" y2=\"22\" />\n      <rect height=\"16\" width=\"22\" fill=\"none\" stroke=\"#ffffff\" x=\"1\" y=\"2\" />\n    </g>\n  </Icon>\n)\n","import './Tab.scss'\nimport React, { FunctionComponent } from 'react'\nimport { matchPath, useLocation } from 'react-router'\nimport { Link } from 'react-router-dom'\nimport classNames from 'classnames'\n\ntype TabProps = {\n  to: string\n  exact?: boolean\n  disabled?: boolean\n}\n\nexport const Tab: FunctionComponent<TabProps> = ({\n  children,\n  to,\n  exact,\n  disabled,\n}) => {\n  const location = useLocation()\n  const isActive = !!matchPath(location.pathname, { path: to, exact })\n\n  return (\n    <Link className={classNames('Tab', { active: isActive, disabled })} to={to}>\n      {children}\n    </Link>\n  )\n}\n","import './Nav.scss'\nimport { FindIcon } from './icons/Nucleo/FindIcon'\nimport { ForYouIcon } from './icons/Nucleo/ForYouIcon'\nimport { MovieIcon } from './icons/Nucleo/MovieIcon'\nimport React from 'react'\nimport { SettingsIcon } from './icons/Nucleo/SettingsIcon'\nimport { ShowIcon } from './icons/Nucleo/ShowIcon'\nimport { Tab } from './Tab'\nimport { useTranslation } from 'react-i18next'\n\ntype NavProps = {\n  moviesDisabled?: boolean\n  showsDisabled?: boolean\n}\n\nexport const Nav = ({ moviesDisabled, showsDisabled }: NavProps) => {\n  const { t } = useTranslation()\n\n  return (\n    <div className=\"Nav\">\n      <div className=\"Nav__wrapper\">\n        <Tab to=\"/app\" exact>\n          <ForYouIcon />\n          <p>{t('For you')}</p>\n        </Tab>\n        <Tab disabled={moviesDisabled} to=\"/app/movies\">\n          <MovieIcon />\n          <p>{t('Movies')}</p>\n        </Tab>\n        <Tab disabled={showsDisabled} to=\"/app/shows\">\n          <ShowIcon />\n          <p>{t('Shows')}</p>\n        </Tab>\n        <Tab disabled={moviesDisabled && showsDisabled} to=\"/app/find\">\n          <FindIcon />\n          <p>{t('Find')}</p>\n        </Tab>\n        <Tab to=\"/app/settings\">\n          <SettingsIcon />\n          <p>{t('Settings')}</p>\n        </Tab>\n      </div>\n    </div>\n  )\n}\n","import './Person.scss'\nimport React, { useMemo } from 'react'\nimport { buildBackdropUrl, buildCoverUrl, buildJobTitle } from '../../util'\nimport { Backdrop } from '../../components/Backdrop'\nimport { Cover } from '../../components/Cover'\nimport { HorizontalSlide } from '../../components/HorizontalSlide'\nimport { NotFound } from '../NotFound'\nimport { RootState } from '../../store'\nimport { RouteComponentProps } from 'react-router'\nimport { moviesByPersonSelector } from '../../store/movies/selectors'\nimport { personSelector } from '../../store/selectors'\nimport { seasonsByPersonSelector } from '../../store/seasons/selectors'\nimport { useSelector } from 'react-redux'\nimport { useTranslation } from 'react-i18next'\n\ninterface PersonParams {\n  id: string\n}\n\ntype PersonProps = RouteComponentProps<PersonParams>\n\nexport const Person = ({ match }: PersonProps) => {\n  const { t } = useTranslation()\n\n  const person = useSelector((state: RootState) =>\n    personSelector(match.params.id)(state),\n  )\n  const { movies, seasons } = useSelector((state: RootState) => ({\n    movies: person && moviesByPersonSelector(person.id)(state.movies),\n    seasons: person && seasonsByPersonSelector(person.id)(state.seasons),\n  }))\n\n  const backdropPath = useMemo(() => {\n    if (movies !== undefined && movies.length > 0) return movies[0].backdropPath\n    else if (seasons !== undefined && seasons.length > 0)\n      return seasons[0].showBackdropPath\n  }, [movies, seasons])\n\n  return person !== undefined &&\n    movies !== undefined &&\n    seasons !== undefined ? (\n    <div className=\"Person\">\n      <Backdrop url={buildBackdropUrl(backdropPath)} />\n      <div className=\"Person__details\">\n        <Cover url={buildCoverUrl(person.profilePath)} alt=\"profile\" />\n        <h1>{person.name}</h1>\n        {person.jobs && (\n          <p>\n            {person.jobs\n              .map((job) => buildJobTitle(t, job, person.gender))\n              .join(', ')}\n          </p>\n        )}\n      </div>\n\n      {movies.length > 0 && (\n        <div className=\"Person__movies\">\n          <h2>{t('Movies')}</h2>\n          <HorizontalSlide items={movies} id=\"movies\" />\n        </div>\n      )}\n\n      {seasons.length > 0 && (\n        <div className=\"Person__seasons\">\n          <h2>{t('TV seasons')}</h2>\n          <HorizontalSlide items={seasons} id=\"seasons\" />\n        </div>\n      )}\n    </div>\n  ) : (\n    <NotFound />\n  )\n}\n","import './EpisodeEntry.scss'\nimport { Episode } from '../types/items/Episode'\nimport React from 'react'\nimport classNames from 'classnames'\nimport { useTranslation } from 'react-i18next'\n\ntype EpisodeEntryProps = {\n  episode: Episode\n\n  onClick: () => void\n}\n\nexport const EpisodeEntry = ({ episode, onClick }: EpisodeEntryProps) => {\n  const { t } = useTranslation()\n\n  return (\n    <div\n      className={classNames('EpisodeEntry', {\n        disabled: episode.sources.length === 0,\n      })}\n      onClick={onClick}\n    >\n      <div className=\"EpisodeEntry__number\">{episode.number}</div>\n      <div className=\"EpisodeEntry__details\">\n        <h2>{episode.title}</h2>\n        <p className=\"small\">\n          {t('Aired')} {new Date(episode.airDate).toDateString()}\n        </p>\n        <p>{episode.summary}</p>\n      </div>\n    </div>\n  )\n}\n","import './Season.scss'\nimport React, { useCallback, useMemo } from 'react'\nimport { RouteComponentProps, useHistory } from 'react-router-dom'\nimport {\n  buildBackdropUrl,\n  buildCoverUrl,\n  buildJobTitle,\n  sortByNumber,\n} from '../../util'\nimport { Backdrop } from '../../components/Backdrop'\nimport { Cover } from '../../components/Cover'\nimport { Episode } from '../../types/items/Episode'\nimport { EpisodeEntry } from '../../components/EpisodeEntry'\nimport { NotFound } from '../NotFound'\nimport { PersonList } from '../../components/PersonList'\nimport { RootState } from '../../store'\nimport classNames from 'classnames'\nimport { episodesBySeasonSelector } from '../../store/episodes/selectors'\nimport { seasonSelector } from '../../store/seasons/selectors'\nimport { showSelector } from '../../store/shows/selectors'\nimport { useSelector } from 'react-redux'\nimport { useToggle } from '../../hooks/toggle'\nimport { useTranslation } from 'react-i18next'\n\ninterface SeasonParams {\n  id: string\n}\n\ntype SeasonProps = RouteComponentProps<SeasonParams>\n\nexport const Season = ({ match }: SeasonProps) => {\n  const { t } = useTranslation()\n  const history = useHistory()\n\n  const season = useSelector((state: RootState) =>\n    seasonSelector(match.params.id)(state.seasons),\n  )\n  const { show, episodes } = useSelector((state: RootState) => ({\n    show: season && showSelector(season.showId)(state.shows),\n    episodes:\n      season &&\n      sortByNumber(\n        episodesBySeasonSelector(season.id)(state.episodes),\n        (episode) => episode.number,\n      ),\n  }))\n  const currentEpisode = useMemo(() => {\n    if (season !== undefined && episodes !== undefined)\n      return episodes.find(\n        (episode) => episode.number === season.usage.progress,\n      )\n  }, [season, episodes])\n\n  const [showEpisodes, toggleEpisodes] = useToggle(false)\n\n  const handleContinue = useCallback(\n    (episode: Episode) => () => {\n      history.push(\n        `/player?id=${episode.id}&type=${episode.kind}&s=${episode.usage.progress}`,\n      )\n    },\n    [history],\n  )\n\n  const handleWatch = useCallback(\n    (episodeNumber: number) => () => {\n      if (episodes === undefined) return\n\n      const episode = episodes.find(\n        (episode) => episode.number === episodeNumber,\n      )!\n\n      history.push(`/player?id=${episode.id}&type=${episode.kind}`)\n    },\n    [episodes, history],\n  )\n\n  return show !== undefined &&\n    season !== undefined &&\n    episodes !== undefined ? (\n    <div className=\"Season\">\n      <Backdrop url={buildBackdropUrl(season.showBackdropPath)} />\n      <div className=\"Season__details\">\n        <Cover url={buildCoverUrl(season.posterPath)} alt=\"poster\" />\n        <h1>\n          {t('Season')} {season.number}\n        </h1>\n        <div className=\"Season__information\">\n          <p className=\"small\">{show.title}</p>\n          <p className=\"small\">{new Date(season.airDate).getFullYear()}</p>\n        </div>\n        <div className=\"Season__actions\">\n          {currentEpisode !== undefined && (\n            <button\n              className=\"primary\"\n              onClick={handleContinue(currentEpisode)}\n              disabled={currentEpisode.sources.length === 0}\n            >\n              {t('Continue episode')} {currentEpisode.number}\n            </button>\n          )}\n          {episodes.length > 0 && (\n            <button\n              className={classNames({ primary: currentEpisode === undefined })}\n              onClick={handleWatch(0)}\n              disabled={episodes[0].sources.length === 0}\n            >\n              {t('Watch')}\n            </button>\n          )}\n          <a\n            className=\"button\"\n            id=\"trailer\"\n            href={season.trailerUrl}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {t('Play trailer')}\n          </a>\n        </div>\n        <div className=\"Season__episodes\">\n          <div\n            className={classNames('Season__episodes__list', {\n              shown: showEpisodes,\n            })}\n          >\n            {episodes\n              .slice(0, showEpisodes ? episodes.length : 0)\n              .map((episode, index) => (\n                <EpisodeEntry\n                  episode={episode}\n                  onClick={handleWatch(episode.number)}\n                  key={index}\n                />\n              ))}\n          </div>\n          {episodes.length > 0 && (\n            <div className=\"Season__episodes__toggle\" onClick={toggleEpisodes}>\n              {showEpisodes ? t('Hide episodes') : t('Show all episodes')}\n            </div>\n          )}\n        </div>\n        <p className=\"Season__overview\">{season.summary}</p>\n        <div className=\"Season__people\">\n          <div className=\"Season__people__cast\">\n            <h4>{t('Starring')}</h4>\n            <PersonList\n              people={season.cast}\n              details={(person) => person.character}\n            />\n          </div>\n          <div className=\"Season__people__crew\">\n            <h4>{t('Crew')}</h4>\n            <PersonList\n              people={season.crew}\n              details={(person) => buildJobTitle(t, person.job, person.gender)}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  ) : (\n    <NotFound />\n  )\n}\n","import { Icon } from '../Icon'\nimport React from 'react'\n\nexport const AddIcon = () => (\n  <Icon className=\"e-add\" width={32} height={32}>\n    <title>Add</title>\n    <g fill=\"#ffffff\" stroke=\"#ffffff\">\n      <line fill=\"none\" stroke=\"#ffffff\" x1=\"16\" x2=\"16\" y1=\"2\" y2=\"30\" />\n      <line fill=\"none\" stroke=\"#ffffff\" x1=\"30\" x2=\"2\" y1=\"16\" y2=\"16\" />\n    </g>\n  </Icon>\n)\n","import './ProviderButton.scss'\nimport React from 'react'\nimport classNames from 'classnames'\n\ntype ProviderButtonProps = {\n  className?: string\n  icon: JSX.Element\n  title?: string\n\n  onClick: (event: React.MouseEvent) => void\n}\n\nexport const ProviderButton = ({\n  className,\n  icon,\n  title,\n  onClick,\n}: ProviderButtonProps) => (\n  <div className={classNames('ProviderButton', { large: title !== undefined })}>\n    <button className={className} onClick={onClick}>\n      {icon}\n      {title && <h3>{title}</h3>}\n    </button>\n  </div>\n)\n","import './ChooseProvider.scss'\nimport { PROVIDER_KINDS, ProviderKind } from '../../types/providers/Provider'\nimport React, { useCallback } from 'react'\nimport { buildProviderIcon, buildProviderKindName } from '../../util'\nimport { ProviderButton } from '../ProviderButton'\nimport { useTranslation } from 'react-i18next'\n\ntype ChooseProviderProps = {\n  onChoose: (kind: ProviderKind) => Promise<void>\n}\n\nexport const ChooseProvider = ({ onChoose }: ChooseProviderProps) => {\n  const { t } = useTranslation()\n\n  const handleChoose = useCallback(\n    (kind: ProviderKind) => () => onChoose(kind),\n    [onChoose],\n  )\n\n  return (\n    <div className=\"ChooseProvider\">\n      <h2>{t('Add a provider')}</h2>\n      <p>\n        {t(\n          'Select which service you want to use to stream your movies & shows.',\n        )}\n      </p>\n      <div className=\"ChooseProvider__providers\">\n        {PROVIDER_KINDS.map((kind, index) => (\n          <ProviderButton\n            icon={buildProviderIcon(kind)}\n            title={buildProviderKindName(kind)}\n            onClick={handleChoose(kind)}\n            key={index}\n          />\n        ))}\n      </div>\n    </div>\n  )\n}\n","import './Modal.scss'\nimport React, { FunctionComponent, useRef } from 'react'\nimport classNames from 'classnames'\nimport useOnClickOutside from 'use-onclickoutside'\n\ntype ModalProps = {\n  isActive: boolean\n\n  onClose: () => void\n}\n\nexport const Modal: FunctionComponent<ModalProps> = ({\n  isActive,\n  onClose,\n  children,\n}) => {\n  const modalRef = useRef(null)\n  useOnClickOutside(modalRef, onClose)\n\n  return (\n    <div className={classNames('Modal', { active: isActive })}>\n      <div className=\"Modal__wrapper\" ref={modalRef}>\n        {children}\n      </div>\n    </div>\n  )\n}\n","import { Icon } from '../Icon'\nimport React from 'react'\n\nexport const CheckIcon = () => (\n  <Icon className=\"c-check\" width={24} height={24}>\n    <title>Check</title>\n    <g fill=\"#ffffff\">\n      <path\n        d=\"M12,0A12,12,0,1,0,24,12,12.035,12.035,0,0,0,12,0ZM10,17.414,4.586,12,6,10.586l4,4,8-8L19.414,8Z\"\n        fill=\"#ffffff\"\n      />\n    </g>\n  </Icon>\n)\n","import './ProviderForm.scss'\nimport React, { useCallback, useEffect, useMemo, useState } from 'react'\nimport { CheckIcon } from '../icons/Nucleo/CheckIcon'\nimport { Provider } from '../../types/providers/Provider'\nimport classNames from 'classnames'\nimport { useTranslation } from 'react-i18next'\n\ntype ProviderFormProps = {\n  submitCaption: string\n  provider?: Provider\n\n  onSubmit: (\n    moviesPath: string | undefined,\n    showsPath: string | undefined,\n  ) => void\n}\n\ntype ProviderFormState = {\n  moviesPath?: string\n  showsPath?: string\n}\n\nexport const ProviderForm = ({\n  submitCaption,\n  provider,\n  onSubmit,\n}: ProviderFormProps) => {\n  const { t } = useTranslation()\n\n  const initalState = useMemo<ProviderFormState>(\n    () => ({\n      moviesPath: provider?.moviesPath,\n      showsPath: provider?.showsPath,\n    }),\n    [provider],\n  )\n  const [state, setState] = useState<ProviderFormState>(initalState)\n\n  const handleChange = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>): void => {\n      const target = event.currentTarget\n      setState((state) => ({\n        ...state,\n        [target.name]: target.value === '' ? undefined : target.value,\n      }))\n    },\n    [setState],\n  )\n\n  const handleSubmit = useCallback(\n    (event: React.FormEvent<HTMLFormElement>): void => {\n      event.preventDefault()\n      onSubmit(state.moviesPath, state.showsPath)\n    },\n    [onSubmit, state],\n  )\n\n  const isSetupInput = useCallback(\n    (value: string | undefined) => value !== undefined,\n    [],\n  )\n\n  const isValidInput = useCallback(\n    (value: string | undefined) => value !== undefined && value.startsWith('/'),\n    [],\n  )\n\n  const isValid = useMemo(\n    () =>\n      (!isSetupInput(state.moviesPath) || isValidInput(state.moviesPath)) &&\n      (!isSetupInput(state.showsPath) || isValidInput(state.showsPath)),\n    [isSetupInput, isValidInput, state],\n  )\n\n  useEffect(() => {\n    setState(initalState)\n  }, [initalState, setState])\n\n  return (\n    <form className=\"ProviderForm\" onSubmit={handleSubmit}>\n      <label>\n        {t('Movies path')}\n        <p className=\"small\">\n          {t(\n            'The path from your home directory to where you keep your movies.',\n          )}\n        </p>\n        <div\n          className={classNames('ProviderForm__input', {\n            setup: isSetupInput(state.moviesPath),\n            valid: isValidInput(state.moviesPath),\n          })}\n        >\n          <input\n            type=\"text\"\n            name=\"moviesPath\"\n            value={state.moviesPath || ''}\n            placeholder=\"/Plaain/movies\"\n            onChange={handleChange}\n          />\n          <CheckIcon />\n        </div>\n      </label>\n\n      <label>\n        {t('Shows path')}\n        <p className=\"small\">\n          {t('The path from your home directory to where you keep your shows.')}\n        </p>\n        <div\n          className={classNames('ProviderForm__input', {\n            setup: isSetupInput(state.showsPath),\n            valid: isValidInput(state.showsPath),\n          })}\n        >\n          <input\n            type=\"text\"\n            name=\"showsPath\"\n            value={state.showsPath || ''}\n            placeholder=\"/Plaain/shows\"\n            onChange={handleChange}\n          />\n          <CheckIcon />\n        </div>\n      </label>\n\n      <div className=\"ProviderForm__actions\">\n        <button type=\"submit\" disabled={!isValid}>\n          {submitCaption}\n        </button>\n      </div>\n    </form>\n  )\n}\n","import './SetupProvider.scss'\nimport { ProviderForm } from './ProviderForm'\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\n\ntype SetupProviderProps = {\n  onSetup: (\n    moviesPath: string | undefined,\n    showsPath: string | undefined,\n  ) => void\n}\n\nexport const SetupProvider = ({ onSetup }: SetupProviderProps) => {\n  const { t } = useTranslation()\n\n  return (\n    <div className=\"SetupProvider\">\n      <h2>{t('Setup your provider')}</h2>\n      <p>\n        {t(\n          \"All that's left is to tell Plaain where to look for your movies and shows. You can always skip this step and come back later.\",\n        )}\n      </p>\n      <ProviderForm submitCaption={t('Complete')} onSubmit={onSetup} />\n    </div>\n  )\n}\n","import { useCallback, useState } from 'react'\n\nexport const useModal = (): [\n  show: boolean,\n  handleOpen: () => void,\n  handleClose: () => void,\n] => {\n  const [show, setShow] = useState(false)\n  const handleOpen = useCallback(() => setShow(true), [setShow])\n  const handleClose = useCallback(() => setShow(false), [setShow])\n\n  return [show, handleOpen, handleClose]\n}\n","import './AddProviderModal.scss'\nimport { Provider, ProviderKind } from '../../types/providers/Provider'\nimport React, { useCallback, useState } from 'react'\nimport { AuthResponse } from '../../services/auth/types'\nimport { ChooseProvider } from './ChooseProvider'\nimport { Modal } from '../Modal'\nimport { SetupProvider } from './SetupProvider'\nimport { useModal } from '../../hooks/modal'\nimport { useSetupAuthRedirect } from '../../hooks/auth'\n\ntype AddProviderModalProps = {\n  isActive: boolean\n\n  onClose: () => void\n  onSetupAuth: (kind: ProviderKind) => Promise<AuthResponse | undefined>\n  onAddProvider: (provider: Provider) => void\n}\n\nexport const AddProviderModal = ({\n  isActive,\n  onClose,\n  onSetupAuth,\n  onAddProvider,\n}: AddProviderModalProps) => {\n  const [show, handleOpen] = useModal()\n\n  const [authResponse, setAuthResponse] = useState<AuthResponse | undefined>()\n  useSetupAuthRedirect((response) => {\n    setAuthResponse(response)\n    handleOpen()\n  })\n\n  const handleChoose = useCallback(\n    async (kind: ProviderKind) => {\n      const authResponse = await onSetupAuth(kind)\n      setAuthResponse(authResponse)\n    },\n    [setAuthResponse, onSetupAuth],\n  )\n\n  const handleSetup = useCallback(\n    (moviesPath: string | undefined, showsPath: string | undefined) => {\n      if (authResponse === undefined) return\n\n      const provider = { ...authResponse, moviesPath, showsPath }\n      onAddProvider(provider)\n      onClose()\n    },\n    [authResponse, onAddProvider, onClose],\n  )\n\n  return (\n    <div className=\"AddProviderModal\">\n      <Modal isActive={isActive || show} onClose={onClose}>\n        {authResponse === undefined ? (\n          <ChooseProvider onChoose={handleChoose} />\n        ) : (\n          <SetupProvider onSetup={handleSetup} />\n        )}\n      </Modal>\n    </div>\n  )\n}\n","import React, { useCallback } from 'react'\nimport { LANGUAGES } from '../i18n'\nimport i18next from 'i18next'\nimport { useTranslation } from 'react-i18next'\n\ntype LanguageSelectorProps = {\n  onChange?: (lng: string | undefined) => void\n}\n\nexport const LanguageSelector = ({ onChange }: LanguageSelectorProps) => {\n  const { t } = useTranslation()\n\n  const handleChange = useCallback(\n    (event) => {\n      i18next.changeLanguage(event.target.value)\n      if (onChange) onChange(event.target.value)\n    },\n    [onChange],\n  )\n\n  return (\n    <div className=\"LanguageSelector\">\n      <select defaultValue={i18next.language} onChange={handleChange}>\n        {LANGUAGES.map((language) => (\n          <option value={language} key={language}>\n            {t(language)}\n          </option>\n        ))}\n      </select>\n    </div>\n  )\n}\n","import './UpdateProviderModal.scss'\nimport React, { useCallback } from 'react'\nimport { Modal } from '../Modal'\nimport { Provider } from '../../types/providers/Provider'\nimport { ProviderForm } from './ProviderForm'\nimport { buildProviderKindName } from '../../util'\nimport { useTranslation } from 'react-i18next'\n\ntype UpdateProviderModalProps = {\n  isActive: boolean\n  provider: Provider\n\n  onClose: () => void\n  onUpdateProvider: (provider: Provider) => void\n  onRemoveProvider: () => void\n}\n\nexport const UpdateProviderModal = ({\n  isActive,\n  provider,\n  onClose,\n  onUpdateProvider,\n  onRemoveProvider,\n}: UpdateProviderModalProps) => {\n  const { t } = useTranslation()\n\n  const handleUpdate = useCallback(\n    (moviesPath: string | undefined, showsPath: string | undefined) => {\n      onUpdateProvider({ ...provider, moviesPath, showsPath })\n      onClose()\n    },\n    [onClose, onUpdateProvider, provider],\n  )\n\n  const handleRemoveProvider = useCallback(() => {\n    if (!window.confirm(t('Are you sure?'))) return\n\n    onRemoveProvider()\n    onClose()\n  }, [onClose, onRemoveProvider, t])\n\n  return (\n    <div className=\"UpdateProviderModal\">\n      <Modal isActive={isActive} onClose={onClose}>\n        <h2>{buildProviderKindName(provider.kind)}</h2>\n        <p>{provider.name}</p>\n        <ProviderForm\n          submitCaption={t('Update')}\n          provider={provider}\n          onSubmit={handleUpdate}\n        />\n        <button className=\"secondary\" onClick={handleRemoveProvider}>\n          {t('Remove')}\n        </button>\n      </Modal>\n    </div>\n  )\n}\n","import './Settings.scss'\nimport { AppDispatch, RootState } from '../../store'\nimport { Provider, ProviderKind } from '../../types/providers/Provider'\nimport React, { useCallback, useState } from 'react'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { buildCommitId, buildProviderIcon } from '../../util'\nimport { fetchAllMetadata, index } from '../../store/thunks'\nimport { removeProvider, updateProvider } from '../../store/auth/actions'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { AddIcon } from '../../components/icons/Nucleo/AddIcon'\nimport { AddProviderModal } from '../../components/authentication/AddProviderModal'\nimport { LanguageSelector } from '../../components/LanguageSelector'\nimport { ProviderButton } from '../../components/ProviderButton'\nimport { UpdateProviderModal } from '../../components/authentication/UpdateProviderModal'\nimport { VERSION } from '../../constants'\nimport classNames from 'classnames'\nimport { load } from '../../store/ui/thunks'\nimport { providersSelector } from '../../store/auth/selectors'\nimport { setupAuth } from '../../store/auth/thunks'\nimport { useModal } from '../../hooks/modal'\n\nexport const Settings = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const { t } = useTranslation()\n\n  const providers = useSelector((state: RootState) =>\n    providersSelector(state.auth),\n  )\n\n  const handleSetupAuth = useCallback(\n    (kind: ProviderKind) => dispatch(load(setupAuth(kind))),\n    [dispatch],\n  )\n\n  const handleUpdateProvider = useCallback(\n    (provider: Provider) => {\n      dispatch(updateProvider(provider))\n      dispatch(load(index([provider])))\n    },\n    [dispatch],\n  )\n\n  const handleIndex = useCallback(() => dispatch(load(index(providers))), [\n    dispatch,\n    providers,\n  ])\n\n  const handleFetchMetadataAll = useCallback(\n    () => dispatch(load(fetchAllMetadata())),\n    [dispatch],\n  )\n\n  const handleRemoveProvider = useCallback(\n    (id: string) => () => dispatch(removeProvider(id)),\n    [dispatch],\n  )\n\n  const [\n    showAddProviderModal,\n    handleShowAddProviderModal,\n    handleCloseAddProviderModal,\n  ] = useModal()\n\n  const [showUpdateProviderModals, setShowUpdateProviderModals] = useState<{\n    [index: number]: boolean\n  }>(providers.reduce((acc, _, index) => ({ ...acc, [index]: false }), {}))\n  const handleShowUpdateProviderModal = useCallback(\n    (index: number) => () =>\n      setShowUpdateProviderModals((state) => ({ ...state, [index]: true })),\n    [setShowUpdateProviderModals],\n  )\n  const handleCloseUpdateProviderModal = useCallback(\n    (index: number) => () =>\n      setShowUpdateProviderModals((state) => ({ ...state, [index]: false })),\n    [setShowUpdateProviderModals],\n  )\n\n  return (\n    <div className=\"Settings\">\n      <section className=\"Settings__auth\">\n        <h2>{t('Authentication')}</h2>\n        <p>\n          {t(\n            'Sign into your cloud to add your movies and TV shows to your library.',\n          )}\n        </p>\n        <div className=\"Settings__auth__scroll\">\n          <div className=\"Settings__auth__providers\">\n            {providers.map((provider, index) => (\n              <div className=\"Settings__auth__provider\" key={index}>\n                <ProviderButton\n                  className={classNames('primary', {\n                    warn:\n                      provider.moviesPath === undefined &&\n                      provider.showsPath === undefined,\n                  })}\n                  icon={buildProviderIcon(provider.kind)}\n                  onClick={handleShowUpdateProviderModal(index)}\n                />\n                <UpdateProviderModal\n                  isActive={showUpdateProviderModals[index]}\n                  provider={provider}\n                  onClose={handleCloseUpdateProviderModal(index)}\n                  onUpdateProvider={handleUpdateProvider}\n                  onRemoveProvider={handleRemoveProvider(provider.id)}\n                  key={7}\n                />\n              </div>\n            ))}\n            <div className=\"Settings__auth__provider\" key={providers.length}>\n              <ProviderButton\n                icon={<AddIcon />}\n                onClick={handleShowAddProviderModal}\n                key={5}\n              />\n              <AddProviderModal\n                isActive={showAddProviderModal}\n                onClose={handleCloseAddProviderModal}\n                onSetupAuth={handleSetupAuth}\n                onAddProvider={handleUpdateProvider}\n                key={7}\n              />\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section className=\"Settings__indexing\">\n        <h2>{t('Indexing')}</h2>\n        <p>\n          {t(\n            'Index to look for new media on your linked services or fetch the latest metadata.',\n          )}\n        </p>\n        <div className=\"Settings__indexing__actions\">\n          <button disabled={providers.length === 0} onClick={handleIndex}>\n            {t('Index')}\n          </button>\n          <button\n            disabled={providers.length === 0}\n            onClick={handleFetchMetadataAll}\n          >\n            {t('Update metadata')}\n          </button>\n        </div>\n      </section>\n\n      <section className=\"Settings__language\">\n        <h2>{t('Language')}</h2>\n        <p>{t('Change the display language.')}</p>\n        <LanguageSelector onChange={handleFetchMetadataAll} />\n      </section>\n\n      <section className=\"Settings__version\">\n        <h2>{t('Version')}</h2>\n        <p>{t('Plaain {{version}}.', { version: VERSION })}</p>\n        <p className=\"small\">\n          <Trans>\n            Plaain is{' '}\n            <a\n              href=\"https://github.com/jonhue/plaain\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              open-source\n            </a>\n            . See the{' '}\n            <a\n              href=\"https://github.com/jonhue/plaain/releases\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              changelog\n            </a>\n            .\n          </Trans>\n        </p>\n        <p className=\"small\">\n          <Trans>\n            You are running commit{' '}\n            <a\n              href={`https://github.com/jonhue/plaain/commit/${process.env.REACT_APP_GIT_SHA}`}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              {process.env.REACT_APP_GIT_SHA\n                ? buildCommitId(process.env.REACT_APP_GIT_SHA)\n                : t('Unknown')}\n            </a>\n            .\n          </Trans>\n        </p>\n        <p className=\"small\">\n          <Trans>\n            Note that Plaain may <span className=\"bold\">not</span> be used to\n            stream pirated content or publicly share your private media library.\n            You may only connect to your private cloud storage.\n          </Trans>\n        </p>\n      </section>\n    </div>\n  )\n}\n","import './Show.scss'\nimport { buildBackdropUrl, buildCoverUrl } from '../../util'\nimport { Backdrop } from '../../components/Backdrop'\nimport { Cover } from '../../components/Cover'\nimport { HorizontalSlide } from '../../components/HorizontalSlide'\nimport { NotFound } from '../NotFound'\nimport React from 'react'\nimport { RootState } from '../../store'\nimport { RouteComponentProps } from 'react-router'\nimport { seasonsByShowSelector } from '../../store/seasons/selectors'\nimport { showSelector } from '../../store/shows/selectors'\nimport { sortByNumber } from '../../util'\nimport { useSelector } from 'react-redux'\nimport { useTranslation } from 'react-i18next'\n\ninterface ShowParams {\n  id: string\n}\n\ntype ShowProps = RouteComponentProps<ShowParams>\n\nexport const Show = ({ match }: ShowProps) => {\n  const { t } = useTranslation()\n\n  const show = useSelector((state: RootState) =>\n    showSelector(match.params.id)(state.shows),\n  )\n\n  const seasons = useSelector(\n    (state: RootState) =>\n      show &&\n      sortByNumber(\n        seasonsByShowSelector(show.id)(state.seasons),\n        (season) => season.number,\n      ),\n  )\n\n  return show !== undefined && seasons !== undefined ? (\n    <div className=\"Show\">\n      <Backdrop url={buildBackdropUrl(show.backdropPath)} />\n      <div className=\"Show__details\">\n        <Cover url={buildCoverUrl(show.posterPath)} alt=\"poster\" />\n        <h1>{show.title}</h1>\n        <div className=\"Show__information\">\n          <p className=\"small\">\n            {new Date(show.firstAirDate).getFullYear()} -{' '}\n            {new Date(show.lastAirDate).getFullYear()}\n          </p>\n        </div>\n        <p className=\"Show__overview\">{show.summary}</p>\n      </div>\n      {seasons.length > 0 && (\n        <div className=\"Show__seasons\">\n          <h2>{t('Seasons')}</h2>\n          <HorizontalSlide items={seasons} id=\"seasons\" />\n        </div>\n      )}\n    </div>\n  ) : (\n    <NotFound />\n  )\n}\n","import './Shows.scss'\nimport { ItemGrid } from '../../components/ItemGrid'\nimport React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { RootState } from '../../store'\nimport { VerticalSlide } from '../../components/VerticalSlide'\nimport { showsSelector } from '../../store/shows/selectors'\nimport { sortAlphabetically } from '../../util'\nimport { useSelector } from 'react-redux'\n\nexport const Shows = () => {\n  const shows = useSelector((state: RootState) =>\n    sortAlphabetically(showsSelector(state.shows), (show) => show.title),\n  )\n\n  return shows.length > 0 ? (\n    <div className=\"Shows\">\n      <VerticalSlide items={shows} path=\"shows\" id=\"shows\" />\n      <ItemGrid items={shows} />\n    </div>\n  ) : (\n    <Redirect to=\"/app\" />\n  )\n}\n","import './index.scss'\nimport { Route, RouteComponentProps, Switch } from 'react-router-dom'\nimport { Find } from './Find'\nimport { Home } from './Home'\nimport { Movie } from './Movie'\nimport { Movies } from './Movies'\nimport { Nav } from '../../components/Nav'\nimport { NotFound } from '../NotFound'\nimport { Person } from './Person'\nimport React from 'react'\nimport { RootState } from '../../store'\nimport { Season } from './Season'\nimport { Settings } from './Settings'\nimport { Show } from './Show'\nimport { Shows } from './Shows'\nimport { useSelector } from 'react-redux'\n\ntype AppProps = RouteComponentProps\n\nconst App = ({ match }: AppProps) => {\n  const { moviesCount, showsCount } = useSelector((state: RootState) => ({\n    moviesCount: Object.keys(state.movies).length,\n    showsCount: Object.keys(state.shows).length,\n  }))\n\n  return (\n    <div className=\"App\">\n      <Switch>\n        <Route path={`${match.path}/`} exact component={Home} />\n        <Route path={`${match.path}/movies/:id`} exact component={Movie} />\n        <Route path={`${match.path}/movies`} component={Movies} />\n        <Route path={`${match.path}/shows/:id`} exact component={Show} />\n        <Route path={`${match.path}/shows`} component={Shows} />\n        <Route path={`${match.path}/seasons/:id`} exact component={Season} />\n        <Route path={`${match.path}/people/:id`} exact component={Person} />\n        <Route path={`${match.path}/settings`} exact component={Settings} />\n        <Route path={`${match.path}/find`} exact component={Find} />\n        <Route component={NotFound} />\n      </Switch>\n\n      <Nav\n        moviesDisabled={moviesCount === 0}\n        showsDisabled={showsCount === 0}\n      />\n    </div>\n  )\n}\n\nexport default App\n"],"sourceRoot":""}