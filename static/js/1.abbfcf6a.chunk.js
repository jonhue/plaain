(this.webpackJsonpplaain=this.webpackJsonpplaain||[]).push([[1],{118:function(n,r,t){"use strict";t.d(r,"b",(function(){return c})),t.d(r,"e",(function(){return i})),t.d(r,"a",(function(){return o})),t.d(r,"f",(function(){return s})),t.d(r,"c",(function(){return f})),t.d(r,"d",(function(){return p}));var e=t(14),a=t(32),u=t(131),c=function(n){return function(r){return r[n]}},i=function(n){return Object.keys(n).map((function(r){return n[r]}))},o=function(n){return i(n).filter(e.l)},s=function(n){return i(n).filter((function(n){return Object(e.r)(n,a.c)}))},f=function(n){return Object(u.a)(i,(function(r){return r.filter((function(r){return r.cast.find((function(r){return r.id===n}))||r.crew.find((function(r){return r.id===n}))}))}))},p=function(n,r){return Object(u.a)(i,(function(t){return t.map(r).reduce((function(n,r){return n.concat(r)}),[]).filter((function(r){return r.id===n}))}))}},119:function(n,r,t){"use strict";t.d(r,"a",(function(){return e})),t.d(r,"b",(function(){return a}));var e=function(n){return function(r){return r[n]}},a=function(n){return Object.keys(n).map((function(r){return n[r]}))}},122:function(n,r,t){"use strict";t.d(r,"c",(function(){return c})),t.d(r,"g",(function(){return i})),t.d(r,"a",(function(){return o})),t.d(r,"b",(function(){return s})),t.d(r,"e",(function(){return f})),t.d(r,"d",(function(){return p})),t.d(r,"f",(function(){return d}));var e=t(14),a=t(32),u=t(131),c=function(n){return function(r){return r[n]}},i=function(n){return Object.keys(n).map((function(r){return n[r]}))},o=function(n){return i(n).filter(e.l)},s=function(n){return i(n).filter((function(n){return Object(e.r)(n,a.c)}))},f=function(n){return Object(u.a)(i,(function(r){return r.filter((function(r){return r.showId===n}))}))},p=function(n){return Object(u.a)(i,(function(r){return r.filter((function(r){return r.cast.find((function(r){return r.id===n}))||r.crew.find((function(r){return r.id===n}))}))}))},d=function(n,r){return Object(u.a)(i,(function(t){return t.map(r).reduce((function(n,r){return n.concat(r)}),[]).filter((function(r){return r.id===n}))}))}},133:function(n,r,t){"use strict";t.d(r,"a",(function(){return a})),t.d(r,"b",(function(){return u})),t.d(r,"c",(function(){return c})),t.d(r,"e",(function(){return i})),t.d(r,"d",(function(){return o}));var e=t(20),a=function(n){return{type:e.a,payload:{provider:n}}},u=function(n){return{type:e.b,payload:{kind:n}}},c=function(){return{type:e.c}},i=function(n){return{type:e.f,payload:{provider:n}}},o=function(n){return{type:e.d,payload:{id:n}}}},134:function(n,r,t){"use strict";t.d(r,"a",(function(){return e})),t.d(r,"b",(function(){return a}));var e=function(n){return function(r){return r.providers[n]}},a=function(n){return Object.keys(n.providers).map((function(r){return n.providers[r]}))}},140:function(n,r,t){"use strict";t.d(r,"a",(function(){return d}));var e=t(111),a=t.n(e),u=t(115),c=t(62),i=t(30),o=t(154),s=t(156),f=t(168),p=t(157),d=function(n){return function(){var r=Object(u.a)(a.a.mark((function r(t){var e;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t(Object(c.b)()),r.prev=1,r.next=4,t(n);case 4:e=r.sent,r.next=11;break;case 7:r.prev=7,r.t0=r.catch(1),console.error(r.t0),r.t0 instanceof Error&&t(Object(c.a)((a=r.t0)instanceof o.a?{kind:i.a.APIError,status:a.status,message:a.message}:a instanceof s.a?{kind:i.a.AuthenticationFailure,provider:a.provider}:a instanceof f.a?{kind:i.a.CannotFindFile,file:a.file}:a instanceof p.a?{kind:i.a.ProviderAlreadyExists,provider:a.provider}:{kind:i.a.GenericError,error:a}));case 11:return t(Object(c.c)()),r.abrupt("return",e);case 13:case"end":return r.stop()}var a}),r,null,[[1,7]])})));return function(n){return r.apply(this,arguments)}}()}},143:function(n,r,t){"use strict";t.d(r,"a",(function(){return a})),t.d(r,"c",(function(){return u})),t.d(r,"b",(function(){return c}));var e=t(131),a=function(n){return function(r){return r[n]}},u=function(n){return Object.keys(n).map((function(r){return n[r]}))},c=function(n){return Object(e.a)(u,(function(r){return r.filter((function(r){return r.seasonId===n}))}))}},149:function(n,r,t){"use strict";t.d(r,"b",(function(){return hn})),t.d(r,"c",(function(){return On})),t.d(r,"a",(function(){return gn}));var e,a=t(2),u=t(111),c=t.n(u),i=t(115),o=t(143),s=t(49),f=t(116),p=t(154);!function(n){n.GET="GET"}(e||(e={}));var d,v=function(n,r,t){var e=new URL("".concat(n,"/").concat(r));if(void 0!==t)for(var a=0,u=Object.entries(t);a<u.length;a++){var c=Object(f.a)(u[a],2),i=c[0],o=c[1];e.searchParams.append(i,o)}return e},b=function(){var n=Object(i.a)(c.a.mark((function n(r,t,e,a,u){var i,o,s;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(v(r,t,u).href,{method:e,headers:{Authorization:"Bearer ".concat(a),Accept:"application/json","Content-Type":"application/json"}});case 2:return i=n.sent,n.next=5,i.text();case 5:if(o=n.sent,s=o?JSON.parse(o):{},!i.ok){n.next=11;break}return n.abrupt("return",s);case 11:throw new p.a(i.status,i.statusText);case 12:case"end":return n.stop()}}),n)})));return function(r,t,e,a,u){return n.apply(this,arguments)}}(),l=function(n,r,t,a){return b(n,r,e.GET,t,a)},h=t(59),w="https://api.themoviedb.org/3",m="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3YTEwODg2ZDE5YmRjOGIyNjRiOWQ1NzBlYWY1NGU2OCIsInN1YiI6IjVjODUxMjNjYzNhMzY4NGU4ZmRjZDBjNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.oKPj2ZU90QLq-q5-QucujCX0FMq_dmT_5nk28TogaR8",O=function(){var n=Object(i.a)(c.a.mark((function n(r){var t,e;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l(w,"search/movie",m,{language:h.a.language,query:r});case 2:if(t=n.sent,0!==(e=t.results).length){n.next=8;break}return n.abrupt("return",void 0);case 8:return n.abrupt("return",e[0].id);case 9:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),j=function(){var n=Object(i.a)(c.a.mark((function n(r){var t,e;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l(w,"search/tv",m,{language:h.a.language,query:r});case 2:if(t=n.sent,0!==(e=t.results).length){n.next=8;break}return n.abrupt("return",void 0);case 8:return n.abrupt("return",e[0].id);case 9:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),x=function(n){return l(w,"movie/".concat(n,"/credits"),m,{language:h.a.language})},k=function(n,r){return l(w,"tv/".concat(n,"/season/").concat(r,"/credits"),m,{language:h.a.language})},y=function(n,r,t){return l(w,"tv/".concat(n,"/season/").concat(r,"/episode/").concat(t),m,{language:h.a.language})},g=function(){var n=Object(i.a)(c.a.mark((function n(r,t,e){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y(e.showTmdbId,e.seasonNumber,e.number);case 2:return a=n.sent,n.abrupt("return",Object(s.a)(r,t,e,a));case 4:case"end":return n.stop()}}),n)})));return function(r,t,e){return n.apply(this,arguments)}}(),I=function(){var n=Object(i.a)(c.a.mark((function n(r){var t,e;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a=r.tmdbId,l(w,"movie/".concat(a),m,{language:h.a.language});case 2:return t=n.sent,n.next=5,x(r.tmdbId);case 5:return e=n.sent,n.abrupt("return",Object(s.b)(r,t,e));case 7:case"end":return n.stop()}var a}),n)})));return function(r){return n.apply(this,arguments)}}(),E=function(){var n=Object(i.a)(c.a.mark((function n(r,t){var e,a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u=t.showTmdbId,c=t.number,l(w,"tv/".concat(u,"/season/").concat(c),m,{language:h.a.language});case 2:return e=n.sent,n.next=5,k(t.showTmdbId,t.number);case 5:return a=n.sent,n.abrupt("return",Object(s.c)(r,t,e,a));case 7:case"end":return n.stop()}var u,c}),n)})));return function(r,t){return n.apply(this,arguments)}}(),T=function(){var n=Object(i.a)(c.a.mark((function n(r){var t;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e=r.tmdbId,l(w,"tv/".concat(e),m,{language:h.a.language});case 2:return t=n.sent,n.abrupt("return",Object(s.d)(r,t));case 4:case"end":return n.stop()}var e}),n)})));return function(r){return n.apply(this,arguments)}}(),P=t(118),D=t(122),S=t(119),N=t(7),C=t(150),U=(t(171),t(31));!function(n){n[n.Video=0]="Video",n[n.Caption=1]="Caption"}(d||(d={}));var W=t(216),J=function(n){return W.a.init({authProvider:function(r){return r(null,n)}})},z=function(n,r){return n.api("/me/drive/root:".concat(r,":/children")).get()},F=function(n,r){return n.api("/me/drive/items/".concat(r)).get()},G=function(n,r){return n.api("/me/drive/items/".concat(r,"/children")).get()},R=t(168),A=t(44),Y=function(n,r){return"".concat(n,"@").concat(r)},q=function(n){return function(r){if(void 0!==r.file){var t,e={name:(t=r.name).split(".").shift(),extension:t.split(".").pop()},a=e.name,u=e.extension;if(void 0!==u){var c=function(n){switch(n){case"vtt":return"vtt"}}(u),i=function(n){switch(n){case A.c:return A.c;case A.a:return A.a;case A.b:return A.b;case A.d:return A.d}}(u);return void 0!==c?function(n,r,t,e,a){var u=e.id,c=e.name,i=e.size,o=e.webUrl,s=e["@microsoft.graph.downloadUrl"],f=a.mimeType;return{kind:d.Caption,type:r,id:Y(U.b.OneDrive,u),name:t,provider:{kind:U.b.OneDrive,providerId:n,id:u,fileName:c,size:i,downloadUrl:s,webUrl:o,mimeType:f}}}(n,c,a,r,r.file):void 0!==i&&void 0!==r.video?function(n,r,t,e,a,u){var c=e.id,i=e.name,o=e.size,s=e.webUrl,f=e["@microsoft.graph.downloadUrl"],p=a.mimeType,v=u.bitrate,b=u.duration,l=u.height,h=u.width,w=u.audioChannels,m=u.audioFormat,O=u.fourCC,j=u.frameRate;return{kind:d.Video,type:r,id:Y(U.b.OneDrive,c),name:t,provider:{kind:U.b.OneDrive,providerId:n,id:c,fileName:i,size:o,downloadUrl:f,webUrl:s,mimeType:p,bitrate:v,duration:b,height:l,width:h,audioChannels:w,audioFormat:m,fourCC:O,frameRate:j}}}(n,i,a,r,r.file,r.video):void 0}}}},M=t(14),V=function(){var n=Object(i.a)(c.a.mark((function n(r,t,e){var a,u,i;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=J(t),n.next=3,F(a,e.provider.id);case 3:if(u=n.sent,void 0===(i=q(r)(u))){n.next=9;break}return n.abrupt("return",i);case 9:throw new R.a(e);case 10:case"end":return n.stop()}}),n)})));return function(r,t,e){return n.apply(this,arguments)}}(),Z=function(){var n=Object(i.a)(c.a.mark((function n(r,t,e){var a,u;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,G(t,e);case 2:return a=n.sent,u=a.value,n.abrupt("return",u.map(q(r)).filter(M.m));case 5:case"end":return n.stop()}}),n)})));return function(r,t,e){return n.apply(this,arguments)}}(),Q=function(){var n=Object(i.a)(c.a.mark((function n(r,t,e){var a,u;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}return n.abrupt("return",[]);case 2:return n.next=4,z(t,e);case 4:return a=n.sent,u=a.value,n.abrupt("return",Promise.all(u.map(function(){var n=Object(i.a)(c.a.mark((function n(e){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=e.name,n.next=3,Z(r,t,e.id);case 3:return n.t1=n.sent,n.abrupt("return",{name:n.t0,files:n.t1});case 5:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}())));case 7:case"end":return n.stop()}}),n)})));return function(r,t,e){return n.apply(this,arguments)}}(),B=function(){var n=Object(i.a)(c.a.mark((function n(r,t,e){var a,u,o;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,G(t,e);case 2:return a=n.sent,u=a.value,n.next=6,Promise.all(u.map(function(){var n=Object(i.a)(c.a.mark((function n(e){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=Number.parseInt(e.name),!isNaN(a)){n.next=3;break}return n.abrupt("return");case 3:return n.t0=a,n.next=6,Z(r,t,e.id);case 6:return n.t1=n.sent,n.abrupt("return",{number:n.t0,files:n.t1});case 8:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}()));case 6:return o=n.sent,n.abrupt("return",o.filter(M.m));case 8:case"end":return n.stop()}}),n)})));return function(r,t,e){return n.apply(this,arguments)}}(),L=function(){var n=Object(i.a)(c.a.mark((function n(r,t,e){var a,u,o;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,G(t,e);case 2:return a=n.sent,u=a.value,n.next=6,Promise.all(u.map(function(){var n=Object(i.a)(c.a.mark((function n(e){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=Number.parseInt(e.name),!isNaN(a)){n.next=3;break}return n.abrupt("return");case 3:return n.t0=a,n.next=6,B(r,t,e.id);case 6:return n.t1=n.sent,n.abrupt("return",{number:n.t0,episodes:n.t1});case 8:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}()));case 6:return o=n.sent,n.abrupt("return",o.filter(M.m));case 8:case"end":return n.stop()}}),n)})));return function(r,t,e){return n.apply(this,arguments)}}(),X=function(){var n=Object(i.a)(c.a.mark((function n(r,t,e){var a,u;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}return n.abrupt("return",[]);case 2:return n.next=4,z(t,e);case 4:return a=n.sent,u=a.value,n.abrupt("return",Promise.all(u.map(function(){var n=Object(i.a)(c.a.mark((function n(e){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=e.name,n.next=3,L(r,t,e.id);case 3:return n.t1=n.sent,n.abrupt("return",{name:n.t0,seasons:n.t1});case 5:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}())));case 7:case"end":return n.stop()}}),n)})));return function(r,t,e){return n.apply(this,arguments)}}(),_=function(){var n=Object(i.a)(c.a.mark((function n(r,t,e,a){var u;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=J(t),n.next=3,Q(r,u,e);case 3:return n.t0=n.sent,n.next=6,X(r,u,a);case 6:return n.t1=n.sent,n.abrupt("return",{movies:n.t0,shows:n.t1});case 8:case"end":return n.stop()}}),n)})));return function(r,t,e,a){return n.apply(this,arguments)}}(),K=function(n){return n.kind===d.Caption},H=function(n){return n.kind===d.Video},$=function(n,r){return function(t){return{kind:N.a.Episode,number:t.number,seasonNumber:r,showTmdbId:n,sources:t.files.filter(H),captions:t.files.filter(K),usage:{lastWatched:void 0,progress:void 0}}}},nn=function(n){return function(r){return{kind:N.a.Movie,tmdbId:n,sources:r.files.filter(H),captions:r.files.filter(K),usage:{lastWatched:void 0,progress:void 0}}}},rn=function(n){return function(r){return{kind:N.a.Season,number:r.number,showTmdbId:n,usage:{lastWatched:void 0,progress:void 0}}}},tn=function(n){return function(){return{kind:N.a.Show,tmdbId:n,usage:{lastWatched:void 0,progress:void 0}}}},en=function(n,r){switch(n.kind){case U.b.OneDrive:return V(n.id,n.accessToken.token,r)}},an=function(n){switch(n.kind){case U.b.OneDrive:return _(n.id,n.accessToken.token,n.moviesPath,n.showsPath)}},un=function(n,r){return Promise.all(n.map(function(){var n=Object(i.a)(c.a.mark((function n(t){var e,a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O(t.name);case 2:if(void 0!==(e=n.sent)){n.next=5;break}return n.abrupt("return");case 5:return a=nn(e)(t),n.next=8,r(a);case 8:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}()))},cn=function(n,r,t,e){return Promise.all(n.map(function(){var n=Object(i.a)(c.a.mark((function n(a){var u,i,o;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j(a.name);case 2:if(void 0!==(u=n.sent)){n.next=5;break}return n.abrupt("return");case 5:return i=tn(u)(),n.next=8,e(i);case 8:return o=n.sent,n.next=11,on(a.seasons,o,r,t);case 11:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}()))},on=function(n,r,t,e){return Promise.all(n.map(function(){var n=Object(i.a)(c.a.mark((function n(a){var u,i;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=rn(r.tmdbId)(a),n.next=3,e(r,u);case 3:return i=n.sent,n.next=6,sn(a.episodes,r,i,t);case 6:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}()))},sn=function(n,r,t,e){return Promise.all(n.map(function(){var n=Object(i.a)(c.a.mark((function n(a){var u;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=$(r.tmdbId,t.number)(a),n.next=3,e(r.id,t.id,u);case 3:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}()))},fn=function(){var n=Object(i.a)(c.a.mark((function n(r,t,e,a,u){var i,o,s;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,an(r);case 2:return i=n.sent,o=i.movies,s=i.shows,n.next=7,un(o,e);case 7:return n.next=9,cn(s,t,a,u);case 9:case"end":return n.stop()}}),n)})));return function(r,t,e,a,u){return n.apply(this,arguments)}}(),pn=(t(169),t(134)),dn=(t(133),t(158)),vn=t(170),bn=t(159),ln=t(160),hn=function(n){return function(){var r=Object(i.a)(c.a.mark((function r(t){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Promise.all(n.map(function(){var n=Object(i.a)(c.a.mark((function n(r){var e;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(Object(C.a)(r));case 2:if(void 0!==(e=n.sent)){n.next=5;break}throw new Error("cannot sign in using the redirect flow while updating files");case 5:return n.next=7,fn(e,(function(n,r,e){return t(jn(n,r,e))}),(function(n){return t(xn(n))}),(function(n,r){return t(kn(n,r))}),(function(n){return t(yn(n))}));case 7:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}()));case 2:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}()},wn=function(n){return function(){var r=Object(i.a)(c.a.mark((function r(t,e){var a,u,i,o,s;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=e(),u=a.auth,void 0!==(i=Object(pn.a)(n.provider.providerId)(u))){r.next=4;break}throw new Error("could not find provider for file");case 4:return r.next=6,t(Object(C.a)(i));case 6:if(void 0!==(o=r.sent)){r.next=9;break}throw new Error("cannot sign in using the redirect flow while updating files");case 9:return r.next=11,en(o,n);case 11:return s=r.sent,r.abrupt("return",s);case 13:case"end":return r.stop()}}),r)})));return function(n,t){return r.apply(this,arguments)}}()},mn=function(n){switch(n.kind){case N.a.Episode:return Object(dn.a)(n);case N.a.Movie:return Object(vn.a)(n)}},On=function(n){return function(){var r=Object(i.a)(c.a.mark((function r(t){var e,u,i;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Promise.all(n.sources.map((function(n){return t(wn(n))})));case 2:return e=r.sent,r.next=5,Promise.all(n.captions.map((function(n){return t(wn(n))})));case 5:return u=r.sent,i=Object(a.a)(Object(a.a)({},n),{},{sources:e,captions:u}),mn(i),r.abrupt("return",i);case 9:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}()},jn=function(n,r,t){return function(){var e=Object(i.a)(c.a.mark((function e(a,u){var i,s,f,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u(),s=i.episodes,e.next=3,g(n,r,t);case 3:return f=e.sent,void 0!==(p=Object(o.a)(f.id)(s))&&(f.usage=p.usage),a(Object(dn.a)(f)),e.abrupt("return",f);case 8:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},xn=function(n){return function(){var r=Object(i.a)(c.a.mark((function r(t,e){var a,u,i,o;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e(),u=a.movies,r.next=3,I(n);case 3:return i=r.sent,void 0!==(o=Object(P.b)(i.id)(u))&&(i.usage=o.usage),t(Object(vn.a)(i)),r.abrupt("return",i);case 8:case"end":return r.stop()}}),r)})));return function(n,t){return r.apply(this,arguments)}}()},kn=function(n,r){return function(){var t=Object(i.a)(c.a.mark((function t(e,a){var u,i,o,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=a(),i=u.seasons,t.next=3,E(n,r);case 3:return o=t.sent,void 0!==(s=Object(D.c)(o.id)(i))&&(o.usage=s.usage),e(Object(bn.a)(o)),t.abrupt("return",o);case 8:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}()},yn=function(n){return function(){var r=Object(i.a)(c.a.mark((function r(t,e){var a,u,i,o;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e(),u=a.shows,r.next=3,T(n);case 3:return i=r.sent,void 0!==(o=Object(S.a)(i.id)(u))&&(i.usage=o.usage),t(Object(ln.a)(i)),r.abrupt("return",i);case 8:case"end":return r.stop()}}),r)})));return function(n,t){return r.apply(this,arguments)}}()},gn=function(){return function(){var n=Object(i.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(function(){var n=Object(i.a)(c.a.mark((function n(r,t){var e,a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t(),a=e.movies,n.next=3,Promise.all(Object(P.e)(a).map(function(){var n=Object(i.a)(c.a.mark((function n(t){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r(xn(t)));case 1:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}()));case 3:case"end":return n.stop()}}),n)})));return function(r,t){return n.apply(this,arguments)}}());case 2:return n.next=4,r(function(){var n=Object(i.a)(c.a.mark((function n(r,t){var e,a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t(),a=e.shows,n.next=3,Promise.all(Object(S.b)(a).map(function(){var n=Object(i.a)(c.a.mark((function n(t){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r(yn(t)));case 1:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}()));case 3:case"end":return n.stop()}}),n)})));return function(r,t){return n.apply(this,arguments)}}());case 4:return n.next=6,r(function(){var n=Object(i.a)(c.a.mark((function n(r,t){var e,a,u;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t(),a=e.seasons,u=e.shows,n.next=3,Promise.all(Object(D.g)(a).map(function(){var n=Object(i.a)(c.a.mark((function n(t){var e;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==(e=Object(S.a)(t.showId)(u))){n.next=3;break}throw new Error("cannot find show for season");case 3:return n.abrupt("return",r(kn(e,t)));case 4:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}()));case 3:case"end":return n.stop()}}),n)})));return function(r,t){return n.apply(this,arguments)}}());case 6:return n.next=8,r(function(){var n=Object(i.a)(c.a.mark((function n(r,t){var e,a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t(),a=e.episodes,n.next=3,Promise.all(Object(o.c)(a).map(function(){var n=Object(i.a)(c.a.mark((function n(t){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r(jn(t.showId,t.seasonId,t)));case 1:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}()));case 3:case"end":return n.stop()}}),n)})));return function(r,t){return n.apply(this,arguments)}}());case 8:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}()}},150:function(n,r,t){"use strict";t.d(r,"a",(function(){return P})),t.d(r,"c",(function(){return S})),t.d(r,"b",(function(){return N})),t.d(r,"d",(function(){return C}));var e=t(111),a=t.n(e),u=t(2),c=t(115),i=t(31),o=t(133),s=t(183),f=t(156),p=t(184),d="c06abdd7-3e36-4e51-9ecf-8e304a3fe37f",v=["user.read","files.read.all"],b=function(n,r,t){return{kind:i.b.OneDrive,accessToken:{token:n,validUntil:t.toISOString()},id:(e=i.b.OneDrive,a=r.username,"".concat(e,"@").concat(a)),name:r.username,account:r};var e,a},l=function(){var n=Object(c.a)(a.a.mark((function n(r,t){var e,u,c,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.acquireTokenSilent({scopes:v,account:t});case 2:if(e=n.sent,u=e.accessToken,c=e.account,o=e.expiresOn,c&&o){n.next=8;break}throw new f.a(i.b.OneDrive);case 8:return n.abrupt("return",b(u,c,o));case 9:case"end":return n.stop()}}),n)})));return function(r,t){return n.apply(this,arguments)}}(),h=function(){var n=Object(c.a)(a.a.mark((function n(r){var t,e;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.loginPopup({scopes:v});case 2:if(t=n.sent,e=t.account){n.next=6;break}throw new f.a(i.b.OneDrive);case 6:return n.abrupt("return",l(r,e));case 7:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),w=function(n){return n.loginRedirect({scopes:v})},m=function(){var n=Object(c.a)(a.a.mark((function n(r,t){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!p.isMobile){n.next=3;break}return t(),n.abrupt("return",w(r));case 3:return n.next=5,h(r);case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})));return function(r,t){return n.apply(this,arguments)}}(),O=function(){var n=Object(c.a)(a.a.mark((function n(r,t,e){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t){n.next=4;break}return n.next=3,m(r,e);case 3:return n.abrupt("return",n.sent);case 4:return n.prev=4,n.next=7,l(r,t);case 7:return n.abrupt("return",n.sent);case 10:if(n.prev=10,n.t0=n.catch(4),!(n.t0 instanceof s.a)){n.next=18;break}return n.next=15,m(r,e);case 15:return n.abrupt("return",n.sent);case 18:throw n.t0;case 19:case"end":return n.stop()}}),n,null,[[4,10]])})));return function(r,t,e){return n.apply(this,arguments)}}(),j=function(){var n=Object(c.a)(a.a.mark((function n(r,t){var e;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(void 0!==r&&new Date(r.accessToken.validUntil)>new Date)){n.next=2;break}return n.abrupt("return",r);case 2:return e=new s.b({auth:{clientId:d}}),n.prev=3,n.next=6,O(e,null===r||void 0===r?void 0:r.account,t);case 6:return n.abrupt("return",n.sent);case 9:throw n.prev=9,n.t0=n.catch(3),new f.a(i.b.OneDrive);case 12:case"end":return n.stop()}}),n,null,[[3,9]])})));return function(r,t){return n.apply(this,arguments)}}(),x=function(){var n=Object(c.a)(a.a.mark((function n(){var r,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new s.b({auth:{clientId:d}}),console.log(window.location.hash),n.next=4,r.handleRedirectPromise();case 4:if(t=n.sent,console.log(t),null===t||void 0===t?void 0:t.account){n.next=8;break}throw new f.a(i.b.OneDrive);case 8:return n.abrupt("return",l(r,t.account));case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),k=t(157),y=t(134),g=function(n,r){switch(n.kind){case i.b.OneDrive:return j(n,r)}},I=function(n,r){switch(n){case i.b.OneDrive:return j(void 0,r)}},E=function(n){switch(n){case i.b.OneDrive:return x()}},T=function(n,r){return function(){var t=Object(c.a)(a.a.mark((function t(e){var c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Object(u.a)(Object(u.a)({},r),{},{moviesPath:n.moviesPath,showsPath:n.showsPath}),e(Object(o.e)(c)),t.abrupt("return",c);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},P=function(n){return function(){var r=Object(c.a)(a.a.mark((function r(t){var e;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,g(n,(function(){return t(Object(o.a)(n))}));case 2:if(void 0!==(e=r.sent)){r.next=5;break}return r.abrupt("return");case 5:return r.abrupt("return",t(T(n,e)));case 6:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}()},D=function(n,r){return function(){var t=Object(c.a)(a.a.mark((function t(e,u){var c,i,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=u(),i=c.auth,void 0===(o=Object(y.b)(i).find((function(t){return t.kind===n&&t.name===r.name})))){t.next=4;break}throw new k.a(o);case 4:return t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}()},S=function(n){return function(){var r=Object(c.a)(a.a.mark((function r(t){var e;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,I(n,(function(){return t(Object(o.b)(n))}));case 2:if(void 0!==(e=r.sent)){r.next=5;break}return r.abrupt("return");case 5:return r.abrupt("return",t(D(n,e)));case 6:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}()},N=function(n){return function(){var r=Object(c.a)(a.a.mark((function r(t){var e;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,E(n.provider.kind);case 2:return e=r.sent,r.abrupt("return",t(T(n.provider,e)));case 4:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}()},C=function(n){return function(){var r=Object(c.a)(a.a.mark((function r(t){var e;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,E(n.kind);case 2:return e=r.sent,r.abrupt("return",t(D(n.kind,e)));case 4:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}()}},154:function(n,r,t){"use strict";t.d(r,"a",(function(){return o}));var e=t(54),a=t(123),u=t(124),c=t(126),i=t(130),o=function(n){Object(u.a)(t,n);var r=Object(c.a)(t);function t(n,u){var c;return Object(e.a)(this,t),(c=r.call(this,u)).status=void 0,Error.captureStackTrace&&Error.captureStackTrace(Object(a.a)(c),t),c.name="APIError",c.status=n,c}return t}(Object(i.a)(Error))},156:function(n,r,t){"use strict";t.d(r,"a",(function(){return o}));var e=t(54),a=t(123),u=t(124),c=t(126),i=t(130),o=function(n){Object(u.a)(t,n);var r=Object(c.a)(t);function t(n){var u;return Object(e.a)(this,t),(u=r.call(this)).provider=void 0,Error.captureStackTrace&&Error.captureStackTrace(Object(a.a)(u),t),u.name="AuthenticationFailure",u.provider=n,u}return t}(Object(i.a)(Error))},157:function(n,r,t){"use strict";t.d(r,"a",(function(){return o}));var e=t(54),a=t(123),u=t(124),c=t(126),i=t(130),o=function(n){Object(u.a)(t,n);var r=Object(c.a)(t);function t(n){var u;return Object(e.a)(this,t),(u=r.call(this)).provider=void 0,Error.captureStackTrace&&Error.captureStackTrace(Object(a.a)(u),t),u.name="ProviderAlreadyExists",u.provider=n,u}return t}(Object(i.a)(Error))},158:function(n,r,t){"use strict";t.d(r,"a",(function(){return a}));var e=t(45),a=function(n){return{type:e.b,payload:{episode:n}}}},159:function(n,r,t){"use strict";t.d(r,"a",(function(){return a}));var e=t(47),a=function(n){return{type:e.b,payload:{season:n}}}},160:function(n,r,t){"use strict";t.d(r,"a",(function(){return a}));var e=t(48),a=function(n){return{type:e.b,payload:{show:n}}}},168:function(n,r,t){"use strict";t.d(r,"a",(function(){return o}));var e=t(54),a=t(123),u=t(124),c=t(126),i=t(130),o=function(n){Object(u.a)(t,n);var r=Object(c.a)(t);function t(n){var u;return Object(e.a)(this,t),(u=r.call(this)).file=void 0,Error.captureStackTrace&&Error.captureStackTrace(Object(a.a)(u),t),u.name="CannotFindFileError",u.file=n,u}return t}(Object(i.a)(Error))},169:function(n,r,t){"use strict";t.d(r,"b",(function(){return u})),t.d(r,"a",(function(){return c}));var e=t(2),a=t(170),u=function(n,r){return function(t){var u={lastWatched:(new Date).toISOString(),progress:r};t(Object(a.a)(Object(e.a)(Object(e.a)({},n),{},{usage:u})))}},c=function(n,r){return function(t){t(Object(a.a)(Object(e.a)(Object(e.a)({},n),{},{sources:n.sources.filter((function(n){return n.provider.providerId!==r})),captions:n.captions.filter((function(n){return n.provider.providerId!==r}))})))}}},170:function(n,r,t){"use strict";t.d(r,"a",(function(){return a}));var e=t(46),a=function(n){return{type:e.b,payload:{movie:n}}}},171:function(n,r,t){"use strict";t.d(r,"b",(function(){return f})),t.d(r,"a",(function(){return p}));var e=t(2),a=t(122),u=t(158),c=t(119),i=t(159),o=t(160),s=function(n,r){return function(t,a){var u={lastWatched:(new Date).toISOString(),progress:r};t(Object(i.a)(Object(e.a)(Object(e.a)({},n),{},{usage:u})));var s=a().shows,f=Object(c.a)(n.showId)(s);if(void 0===f)throw new Error("parent show of season undefined");t(function(n,r){return function(t){var a={lastWatched:(new Date).toISOString(),progress:r};t(Object(o.a)(Object(e.a)(Object(e.a)({},n),{},{usage:a})))}}(f,n.number))}},f=function(n,r){return function(t,c){var i={lastWatched:(new Date).toISOString(),progress:r};t(Object(u.a)(Object(e.a)(Object(e.a)({},n),{},{usage:i})));var o=c().seasons,f=Object(a.c)(n.seasonId)(o);if(void 0===f)throw new Error("parent season of episode undefined");t(s(f,n.number))}},p=function(n,r){return function(t){t(Object(u.a)(Object(e.a)(Object(e.a)({},n),{},{sources:n.sources.filter((function(n){return n.provider.providerId!==r})),captions:n.captions.filter((function(n){return n.provider.providerId!==r}))})))}}}}]);
//# sourceMappingURL=1.abbfcf6a.chunk.js.map