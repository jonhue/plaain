(this.webpackJsonpplaain=this.webpackJsonpplaain||[]).push([[5],{167:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},169:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},171:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},172:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},173:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},174:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},175:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},176:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},183:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},184:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},185:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},186:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},187:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},188:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},189:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},190:function(e,t,a){},191:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},192:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},193:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},194:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},195:function(e,t,a){},196:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},197:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},198:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},199:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},200:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},201:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},202:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},203:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},210:function(e,t,a){"use strict";a.r(t);a(167);var n=a(33),r=a(2),c=a(0),l=a.n(c),o=a(107),i=a.n(o),s=a(108),u=a(110),m=(a(169),a(170)),b=a.n(m),p=a(109),h=a(111),f=(a(171),a(142),a(13)),d=(a(172),function(e){var t=e.url,a=e.alt;return l.a.createElement("img",{className:"Cover",src:t,alt:a})}),v=a(20),E=a(165),g=a(105),k=function(e){var t=e.id,a=e.items,n=Object(g.a)().t;return Object(c.useEffect)((function(){new E.a(".HorizontalSlide#".concat(t," .swiper-container"),{spaceBetween:15,slidesPerView:"auto",slidesOffsetBefore:20,slidesOffsetAfter:20,grabCursor:!0})}),[t]),l.a.createElement("div",{className:"HorizontalSlide",id:t},l.a.createElement("div",{className:"swiper-container"},l.a.createElement("div",{className:"swiper-wrapper"},a.length>0?a.map((function(e,t){return l.a.createElement("div",{className:"swiper-slide",key:t},l.a.createElement(v.b,{to:Object(f.e)(e)},l.a.createElement(d,{url:Object(f.c)(e.posterPath),alt:e.title})))})):l.a.createElement("div",{className:"swiper-slide"},l.a.createElement("h3",null,n("Nothing found."))))))},x=a(145),w=function(e,t){var a=b.a.create();return e.forEach((function(e){var n=e.id;a.add(n,t(e))})),a},j=function(e){var t=e.movies,a=e.shows,n=e.query,o=Object(g.a)().t,m=Object(r.g)(),b=Object(c.useState)(n||""),d=Object(u.a)(b,2),v=d[0],E=d[1],j=Object(c.useMemo)((function(){return w(Object(p.e)(t),(function(e){return"".concat(e.title,";").concat(e.summary)}))}),[t]),O=Object(c.useMemo)((function(){return w(Object(h.b)(a),(function(e){return"".concat(e.title,";").concat(e.summary)}))}),[a]),y=Object(x.useAsyncMemo)(Object(s.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.search(v);case 2:return a=e.sent,e.abrupt("return",a.map((function(e){return Object(p.b)(e)(t)})).filter(f.k));case 4:case"end":return e.stop()}}),e)}))),[j,v]),P=Object(x.useAsyncMemo)(Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.search(v);case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return Object(h.a)(e)(a)})).filter(f.k));case 4:case"end":return e.stop()}}),e)}))),[O,v]),N=Object(c.useCallback)((function(e){m.replace("/app/find?".concat("q","=").concat(e.target.value)),E(e.target.value)}),[m,E]);return l.a.createElement("div",{className:"Find"},l.a.createElement("form",null,l.a.createElement("input",{autoFocus:!0,value:v,placeholder:o("Search your library"),onChange:N})),y&&Object.keys(y).length>0&&l.a.createElement("section",null,l.a.createElement("h2",null,o("Movies")),l.a.createElement(k,{items:y,id:"movies"})),P&&Object.keys(P).length>0&&l.a.createElement("section",null,l.a.createElement("h2",null,o("TV shows")),l.a.createElement(k,{items:P,id:"shows"})))},O=Object(n.b)((function(e){return{movies:e.movies,shows:e.shows}}))((function(e){var t=e.movies,a=e.shows,n=Object(r.h)(),o=Object(c.useMemo)((function(){return new URLSearchParams(n.search).get("q")}),[n]);return l.a.createElement(j,{movies:t,shows:a,query:o})})),y=a(57),P=a(116),N=a(6),_=a(122),C=Object(_.a)([function(e){return Object(p.a)(e.movies)},function(e){return Object(P.a)(e.seasons)}],(function(e,t){return[].concat(Object(y.a)(e),Object(y.a)(t))})),S=Object(_.a)([function(e){return Object(p.f)(e.movies)},function(e){return Object(P.b)(e.seasons)}],(function(e,t){return[].concat(Object(y.a)(e),Object(y.a)(t))})),M=(a(173),function(e){var t=e.onIndex,a=Object(g.a)().t;return l.a.createElement("div",{className:"Authenticated"},l.a.createElement("h2",null,a("Get started")),l.a.createElement("p",null,a("You signed into a cloud service, but we didn't find any movies or TV shows.")),l.a.createElement("p",null,a("It's likely that you just have to move some of your files around and create some folders to make it work.")),l.a.createElement("p",null,a("Reference the getting started guide to learn how to organize your files so that Plaain finds them. After you're done, just re-index.")),l.a.createElement("div",{className:"Authenticated__buttons"},l.a.createElement("a",{className:"button primary",href:"https://github.com/jonhue/plaain#getting-started",target:"_blank",rel:"noopener noreferrer"},a("Getting started")),l.a.createElement("button",{onClick:t},a("Index"))))}),D=(a(174),function(e){var t=e.inProgress,a=e.recentlyWatched,n=Object(g.a)().t;return l.a.createElement("div",{className:"ForYou"},t.length>0&&l.a.createElement("section",null,l.a.createElement("h2",null,n("Continue watching")),l.a.createElement(k,{items:t,id:"inProgress"})),a.length>0&&l.a.createElement("section",null,l.a.createElement("h2",null,n("Recently watched")),l.a.createElement(k,{items:a,id:"recentlyWatched"})))}),A=(a(175),function(e){var t=e.movies,a=e.shows,n=Object(g.a)().t;return l.a.createElement("div",{className:"Setup"},l.a.createElement("h2",null,n("Get started")),l.a.createElement("p",null,n("Here, you'll be able to find your recently watched movie or the show you didn't finish yet.")),l.a.createElement("div",{className:"Setup__buttons"},t.length>0&&l.a.createElement(v.b,{to:"/app/movies",className:"button"},n("Discover your movies")),a.length>0&&l.a.createElement(v.b,{to:"/app/shows",className:"button"},n("Discover your shows"))))}),L=(a(176),a(74)),T=function(){var e=Object(g.a)().t;return l.a.createElement("div",{className:"Unauthenticated"},l.a.createElement("h2",null,e("Get started")),l.a.createElement("p",null,e("To watch your movies and TV shows, you first have to sign in with the cloud service that hosts your media.")),l.a.createElement(v.b,{to:"/app/settings",className:"button"},e("Authenticate")),l.a.createElement("p",{className:"small"},l.a.createElement(L.a,null,"Note that Plaain may ",l.a.createElement("span",{className:"bold"},"not")," be used to stream pirated content or publicly share your private media library. You may only connect to your private cloud storage.")))},I=a(139),F=a(140),U=a(125),V={load:F.a},W=Object(n.b)((function(e){return{inProgress:Object(f.m)(C(e)),movies:Object(p.e)(e.movies),providers:Object(U.b)(e.auth),recentlyWatched:Object(f.m)(S(e)),shows:Object(h.b)(e.shows)}}),V)((function(e){var t=e.inProgress,a=e.movies,n=e.providers,r=e.recentlyWatched,o=e.shows,i=e.load,s=Object(c.useCallback)((function(){i(Object(I.b)(n))}),[i,n]);return t.length>0||r.length>0?l.a.createElement(D,{inProgress:t,recentlyWatched:r}):0===n.length?l.a.createElement(T,null):0===a.length&&0===o.length?l.a.createElement(M,{onIndex:s}):l.a.createElement(A,{movies:a,shows:o})})),R=(a(183),a(184),function(e){var t=e.url;return l.a.createElement("picture",{className:"Backdrop"},l.a.createElement("img",{src:t,alt:"backdrop"}))}),Y=function(e){var t=e.files,a=Object(g.a)().t;return l.a.createElement("div",{className:"FileList"},t.map((function(e,t){return l.a.createElement("p",{className:"small",key:t},e.name)})),0===t.length&&l.a.createElement("p",{className:"small"},a("None")))},G=(a(185),function(e){var t=e.people,a=e.details,n=Object(g.a)().t,r=Object(c.useState)(!0),o=Object(u.a)(r,2),i=o[0],s=o[1],m=Object(c.useCallback)((function(){return s((function(e){return!e}))}),[s]),b=Object(c.useMemo)((function(){return t.slice(0,i?10:t.length)}),[i,t]);return l.a.createElement("div",{className:"PersonList"},t.length>0?b.map((function(e,t){return l.a.createElement("p",{key:t},l.a.createElement(v.b,{to:Object(f.e)(e)},e.name)," \xb7"," ",l.a.createElement("span",null,a(e)))})):l.a.createElement("p",null,n("None")),t.length>10&&l.a.createElement("span",{onClick:m},n(i?"Show more":"Show less")))}),B=a(54),z=a.n(B),H=function(e){var t=e.movie,a=Object(g.a)().t,n=Object(r.g)(),o=Object(c.useCallback)((function(){n.push("/player?id=".concat(t.id,"&type=").concat(t.kind,"&s=").concat(t.usage.progress))}),[n,t]),i=Object(c.useCallback)((function(){n.push("/player?id=".concat(t.id,"&type=").concat(t.kind))}),[n,t]);return l.a.createElement("div",{className:"Movie"},l.a.createElement(R,{url:Object(f.a)(t.backdropPath)}),l.a.createElement("div",{className:"Movie__details"},l.a.createElement(d,{url:Object(f.c)(t.posterPath),alt:"poster"}),l.a.createElement("h1",null,t.title),l.a.createElement("div",{className:"Movie__information"},l.a.createElement("p",{className:"small"},new Date(t.releaseDate).getFullYear()),t.duration&&l.a.createElement("p",{className:"small"},Object(f.o)(a,t.duration))),l.a.createElement("div",{className:"Movie__actions"},Object(f.j)(t)&&l.a.createElement("button",{className:"primary",onClick:o,disabled:0===t.sources.length},a("Continue")),l.a.createElement("button",{className:z()({primary:!Object(f.j)(t)}),onClick:i,disabled:0===t.sources.length},a("Watch")),l.a.createElement("a",{className:"button",href:t.trailerUrl,target:"_blank",rel:"noopener noreferrer"},a("Play trailer"))),l.a.createElement("p",{className:"Movie__overview"},t.summary),l.a.createElement("div",{className:"Movie__people"},l.a.createElement("div",{className:"Movie__people__cast"},l.a.createElement("h4",null,a("Starring")),l.a.createElement(G,{people:t.cast,details:function(e){return e.character}})),l.a.createElement("div",{className:"Movie__people__crew"},l.a.createElement("h4",null,a("Crew")),l.a.createElement(G,{people:t.crew,details:function(e){return e.job}})))),l.a.createElement("div",{className:"Movie__sources"},l.a.createElement("div",null,l.a.createElement("h4",null,a("Sources")),l.a.createElement("div",null,l.a.createElement("div",{className:"Movie__sources__versions"},l.a.createElement("h5",null,a("Versions")),l.a.createElement(Y,{files:t.sources})),l.a.createElement("div",{className:"Movie__sources__captions"},l.a.createElement("h5",null,a("Subtitles")),l.a.createElement(Y,{files:t.captions}))))))},q=a(55),Z=Object(n.b)((function(e){return{movies:e.movies}}))((function(e){var t=e.match,a=e.movies,n=Object(c.useMemo)((function(){return Object(p.b)(t.params.id)(a)}),[t,a]);return void 0!==n?l.a.createElement(H,{movie:n}):l.a.createElement(q.a,null)})),J=(a(186),a(187),function(e){var t=e.items,a=Object(g.a)().t;return l.a.createElement("div",{className:"ItemGrid"},t.length>0?t.map((function(e,t){return l.a.createElement("div",{className:"ItemGrid__item",key:t},l.a.createElement(v.b,{to:Object(f.e)(e)},l.a.createElement(d,{url:Object(f.c)(e.posterPath),alt:e.title})))})):l.a.createElement("div",{className:"ItemGrid__item"},l.a.createElement("h3",null,a("Nothing found."))))}),K=(a(188),function(e){var t=e.id,a=e.items,n=e.path,r=Object(g.a)().t;return Object(c.useEffect)((function(){new E.a(".VerticalSlide#".concat(t," .swiper-container"),{direction:"vertical",slidesPerView:"auto",grabCursor:!0,effect:"coverflow",coverflowEffect:{rotate:0,stretch:425,depth:150,modifier:1,slideShadows:!1},history:{replaceState:!0,key:n}})}),[t,n]),l.a.createElement("div",{className:"VerticalSlide",id:t},l.a.createElement("div",{className:"swiper-container"},l.a.createElement("div",{className:"swiper-wrapper"},a.length>0?a.map((function(e,t){return l.a.createElement("div",{className:"swiper-slide","data-history":e.id,key:t},l.a.createElement(v.b,{to:Object(f.e)(e)},l.a.createElement(d,{url:Object(f.c)(e.posterPath),alt:e.title})))})):l.a.createElement("div",{className:"swiper-slide"},l.a.createElement("h3",null,r("Nothing found."))))))}),Q=a(21),X=function(e){var t=e.color;return l.a.createElement(Q.a,{className:"zoom",width:24,height:24},l.a.createElement("title",null,"zoom"),l.a.createElement("g",{fill:t},l.a.createElement("line",{fill:"none",stroke:t,x1:"22",x2:"15.656",y1:"22",y2:"15.656"}),l.a.createElement("circle",{cx:"10",cy:"10",fill:"none",r:"8",stroke:t})))},$=a(34),ee=a.n($),te=function(e){var t=e.movies;return l.a.createElement("div",{className:"Movies"},l.a.createElement("div",{className:"Movies__find"},l.a.createElement(v.b,{to:"/app/find"},l.a.createElement(X,{color:ee.a.white}))),window.innerWidth<Number.parseInt(ee.a.brPhone)?l.a.createElement(K,{items:t,path:"movies",id:"movies"}):l.a.createElement(J,{items:t}))},ae=Object(n.b)((function(e){return{movies:Object(f.l)(Object(p.e)(e.movies),(function(e){return e.title}))}}))((function(e){var t=e.movies;return t.length>0?l.a.createElement(te,{movies:t}):l.a.createElement(r.a,{to:"/app"})})),ne=(a(189),function(e){var t=e.color;return l.a.createElement(Q.a,{className:"settings-gear",width:24,height:24},l.a.createElement("title",null,"settings gear"),l.a.createElement("g",{fill:t,stroke:t},l.a.createElement("circle",{cx:"12",cy:"12",fill:"none",r:"3"}),l.a.createElement("path",{d:"M20,12a8.049,8.049,0,0,0-.188-1.713l2.714-2.055-2-3.464L17.383,6.094a7.987,7.987,0,0,0-2.961-1.719L14,1H10L9.578,4.375A7.987,7.987,0,0,0,6.617,6.094L3.474,4.768l-2,3.464,2.714,2.055a7.9,7.9,0,0,0,0,3.426L1.474,15.768l2,3.464,3.143-1.326a7.987,7.987,0,0,0,2.961,1.719L10,23h4l.422-3.375a7.987,7.987,0,0,0,2.961-1.719l3.143,1.326,2-3.464-2.714-2.055A8.049,8.049,0,0,0,20,12Z",fill:"none",stroke:t})))}),re=function(e){var t=e.color;return l.a.createElement(Q.a,{className:"movie-61",width:24,height:24},l.a.createElement("title",null,"movie 61"),l.a.createElement("g",{fill:t},l.a.createElement("line",{fill:"none",stroke:t,x1:"1",x2:"1",y1:"1",y2:"23"}),l.a.createElement("line",{fill:"none",stroke:t,x1:"23",x2:"23",y1:"1",y2:"23"}),l.a.createElement("rect",{height:"22",width:"14",fill:"none",stroke:t,x:"5",y:"1"}),l.a.createElement("line",{fill:"none",stroke:t,x1:"1",x2:"23",y1:"12",y2:"12"}),l.a.createElement("line",{fill:"none",stroke:t,x1:"1",x2:"5",y1:"8",y2:"8"}),l.a.createElement("line",{fill:"none",stroke:t,x1:"1",x2:"5",y1:"4",y2:"4"}),l.a.createElement("line",{fill:"none",stroke:t,x1:"19",x2:"23",y1:"8",y2:"8"}),l.a.createElement("line",{fill:"none",stroke:t,x1:"19",x2:"23",y1:"4",y2:"4"}),l.a.createElement("line",{fill:"none",stroke:t,x1:"19",x2:"23",y1:"20",y2:"20"}),l.a.createElement("line",{fill:"none",stroke:t,x1:"19",x2:"23",y1:"16",y2:"16"}),l.a.createElement("line",{fill:"none",stroke:t,x1:"1",x2:"5",y1:"20",y2:"20"}),l.a.createElement("line",{fill:"none",stroke:t,x1:"1",x2:"5",y1:"16",y2:"16"})))},ce=function(e){var t=e.color;return l.a.createElement(Q.a,{className:"popcorn",width:24,height:24},l.a.createElement("title",null,"popcorn"),l.a.createElement("g",{fill:t},l.a.createElement("polygon",{fill:"none",points:"21 7 3 7 5 23 19 23 21 7",stroke:t}),l.a.createElement("path",{d:"M19,5a3,3,0,0,0-3-3,2.97,2.97,0,0,0-1.47.4,2.986,2.986,0,0,0-5.06,0A2.97,2.97,0,0,0,8,2,3,3,0,0,0,5,5",fill:"none",stroke:t}),l.a.createElement("line",{fill:"none",stroke:t,x1:"9",x2:"8",y1:"23",y2:"7"}),l.a.createElement("line",{fill:"none",stroke:t,x1:"15",x2:"16",y1:"23",y2:"7"})))},le=function(e){var t=e.color;return l.a.createElement(Q.a,{className:"desktop-screen",width:24,height:24},l.a.createElement("title",null,"desktop screen"),l.a.createElement("g",{fill:t},l.a.createElement("line",{fill:"none",stroke:t,x1:"12",x2:"12",y1:"22",y2:"18"}),l.a.createElement("line",{fill:"none",stroke:t,x1:"6",x2:"18",y1:"22",y2:"22"}),l.a.createElement("rect",{height:"16",width:"22",fill:"none",stroke:t,x:"1",y:"2"})))},oe=(a(190),function(e){var t=e.children,a=e.to,n=e.exact,c=e.disabled,o=Object(r.h)(),i=!!Object(r.f)(o.pathname,{path:a,exact:n});return l.a.createElement(v.b,{className:z()("Tab",{active:i,disabled:c}),to:a},t)}),ie=function(e){var t=e.moviesDisabled,a=e.showsDisabled;return l.a.createElement("div",{className:"Nav"},l.a.createElement(oe,{to:"/app",exact:!0},l.a.createElement(ce,{color:ee.a.white}),l.a.createElement("p",null,"For you")),l.a.createElement(oe,{disabled:t,to:"/app/movies"},l.a.createElement(re,{color:ee.a.white}),l.a.createElement("p",null,"Movies")),l.a.createElement(oe,{disabled:a,to:"/app/shows"},l.a.createElement(le,{color:ee.a.white}),l.a.createElement("p",null,"Shows")),l.a.createElement(oe,{to:"/app/settings"},l.a.createElement(ne,{color:ee.a.white}),l.a.createElement("p",null,"Settings")))},se=(a(191),function(e){var t=e.person,a=e.movies,n=e.seasons,r=Object(g.a)().t,o=Object(c.useMemo)((function(){return a.length>0?a[0].backdropPath:n.length>0?n[0].showBackdropPath:void 0}),[a,n]);return l.a.createElement("div",{className:"Person"},l.a.createElement(R,{url:Object(f.a)(o)}),l.a.createElement("div",{className:"Person__details"},l.a.createElement(d,{url:Object(f.c)(t.profilePath),alt:"profile"}),l.a.createElement("h1",null,t.name),l.a.createElement("h5",null,r("Known as")),l.a.createElement("p",null,t.jobs.join(", "))),a.length>0&&l.a.createElement("div",{className:"Person__movies"},l.a.createElement("h2",null,r("Movies")),l.a.createElement(k,{items:a,id:"movies"})),n.length>0&&l.a.createElement("div",{className:"Person__seasons"},l.a.createElement("h2",null,r("TV seasons")),l.a.createElement(k,{items:n,id:"seasons"})))}),ue=Object(n.b)((function(e){return{movies:e.movies,seasons:e.seasons}}))((function(e){var t=e.match,a=e.movies,n=e.seasons,r=Object(c.useMemo)((function(){return(e=t.params.id,Object(_.a)([function(t){var a=t.movies;return Object(p.d)(e,(function(e){return e.cast}))(a)},function(t){var a=t.movies;return Object(p.d)(e,(function(e){return e.crew}))(a)},function(t){var a=t.seasons;return Object(P.f)(e,(function(e){return e.cast}))(a)},function(t){var a=t.seasons;return Object(P.f)(e,(function(e){return e.crew}))(a)}],(function(t,a,n,r){return[].concat(Object(y.a)(t),Object(y.a)(a),Object(y.a)(n),Object(y.a)(r)).reduce((function(t,a){return{kind:N.a.Person,id:e,tmdbId:a.tmdbId,name:a.name,gender:a.gender,profilePath:a.profilePath,jobs:void 0!==t?Object(y.a)(new Set([].concat(Object(y.a)(t.jobs),[a.job]))):[a.job]}}),void 0)})))({movies:a,seasons:n});var e}),[t,a,n]),o=Object(c.useMemo)((function(){if(void 0!==r)return Object(p.c)(r.id)(a)}),[a,r]),i=Object(c.useMemo)((function(){if(void 0!==r)return Object(P.d)(r.id)(n)}),[r,n]);return void 0!==r&&void 0!==o&&void 0!==i?l.a.createElement(se,{person:r,movies:o,seasons:i}):l.a.createElement(q.a,null)})),me=(a(192),a(193),function(e){var t=e.episode,a=e.onClick,n=Object(g.a)().t;return l.a.createElement("div",{className:z()("EpisodeEntry",{disabled:0===t.sources.length}),onClick:a},l.a.createElement("div",{className:"EpisodeEntry__number"},t.number),l.a.createElement("div",{className:"EpisodeEntry__details"},l.a.createElement("h2",null,t.title),l.a.createElement("p",{className:"small"},n("Aired")," ",new Date(t.airDate).toDateString()),l.a.createElement("p",null,t.summary)))}),be=function(e){var t=e.show,a=e.season,n=e.episodes,o=e.currentEpisode,i=Object(g.a)().t,s=Object(r.g)(),m=Object(c.useState)(!1),b=Object(u.a)(m,2),p=b[0],h=b[1],v=Object(c.useCallback)((function(){return h((function(e){return!e}))}),[h]),E=Object(c.useCallback)((function(e){return function(){s.push("/player?id=".concat(e.id,"&type=").concat(e.kind,"&s=").concat(e.usage.progress))}}),[s]),k=Object(c.useCallback)((function(e){return function(){var t=n.find((function(t){return t.number===e}));s.push("/player?id=".concat(t.id,"&type=").concat(t.kind))}}),[n,s]);return l.a.createElement("div",{className:"Season"},l.a.createElement(R,{url:Object(f.a)(a.showBackdropPath)}),l.a.createElement("div",{className:"Season__details"},l.a.createElement(d,{url:Object(f.c)(a.posterPath),alt:"poster"}),l.a.createElement("h1",null,i("Season")," ",a.number),l.a.createElement("div",{className:"Season__information"},l.a.createElement("p",{className:"small"},t.title),l.a.createElement("p",{className:"small"},new Date(a.airDate).getFullYear())),l.a.createElement("div",{className:"Season__actions"},void 0!==o&&l.a.createElement("button",{className:"primary",onClick:E(o),disabled:0===o.sources.length},i("Continue episode")," ",o.number),n.length>0&&l.a.createElement("button",{className:z()({primary:void 0===o}),onClick:k(0),disabled:0===n[0].sources.length},i("Watch")),l.a.createElement("a",{className:"button",id:"trailer",href:a.trailerUrl,target:"_blank",rel:"noopener noreferrer"},i("Play trailer"))),l.a.createElement("div",{className:"Season__episodes"},l.a.createElement("div",{className:z()("Season__episodes__list",{shown:p})},n.slice(0,p?n.length:0).map((function(e,t){return l.a.createElement(me,{episode:e,onClick:k(e.number),key:t})}))),n.length>0&&l.a.createElement("div",{className:"Season__episodes__toggle",onClick:v},i(p?"Hide episodes":"Show all episodes"))),l.a.createElement("p",{className:"Season__overview"},a.summary),l.a.createElement("div",{className:"Season__people"},l.a.createElement("div",{className:"Season__people__cast"},l.a.createElement("h4",null,i("Starring")),l.a.createElement(G,{people:a.cast,details:function(e){return e.character}})),l.a.createElement("div",{className:"Season__people__crew"},l.a.createElement("h4",null,i("Crew")),l.a.createElement(G,{people:a.crew,details:function(e){return e.job}})))))},pe=a(133),he=Object(n.b)((function(e){return{episodes:e.episodes,seasons:e.seasons,shows:e.shows}}))((function(e){var t=e.episodes,a=e.match,n=e.seasons,r=e.shows,o=Object(c.useMemo)((function(){return Object(P.c)(a.params.id)(n)}),[a,n]),i=Object(c.useMemo)((function(){if(void 0!==o)return Object(h.a)(o.showId)(r)}),[o,r]),s=Object(c.useMemo)((function(){if(void 0!==o)return Object(f.n)(Object(pe.b)(o.id)(t),(function(e){return e.number}))}),[t,o]),u=Object(c.useMemo)((function(){if(void 0!==o&&void 0!==s)return s.find((function(e){return e.number===o.usage.progress}))}),[o,s]);return void 0!==i&&void 0!==o&&void 0!==s?l.a.createElement(be,{show:i,season:o,episodes:s,currentEpisode:u}):l.a.createElement(q.a,null)})),fe=a(4),de=a(3),ve=(a(194),function(e){var t=e.color;return l.a.createElement(Q.a,{className:"e-add",width:32,height:32},l.a.createElement("title",null,"e add"),l.a.createElement("g",{fill:t,stroke:t},l.a.createElement("line",{fill:"none",stroke:t,x1:"16",x2:"16",y1:"2",y2:"30"}),l.a.createElement("line",{fill:"none",stroke:t,x1:"30",x2:"2",y1:"16",y2:"16"})))}),Ee=(a(195),a(196),a(26)),ge=(a(197),function(e){var t=e.className,a=e.icon,n=e.onClick;return l.a.createElement("div",{className:"ProviderButton"},l.a.createElement("button",{className:t,onClick:n},a))}),ke=function(e){var t=e.onChoose,a=Object(g.a)().t,n=Object(c.useCallback)((function(e){return function(){return t(e)}}),[t]);return l.a.createElement("div",{className:"ChooseProvider"},l.a.createElement("h2",null,a("Add a provider")),l.a.createElement("p",null,a("Select which service you want to use to stream your movies & shows.")),l.a.createElement("div",{className:"ChooseProvider__providers"},Ee.a.map((function(e,t){return l.a.createElement(ge,{icon:Object(f.f)(e,ee.a.white),onClick:n(e),key:t})}))))},xe=(a(198),a(208)),we=function(e){var t=e.isActive,a=e.onClose,n=e.children,r=Object(c.useRef)(null);return Object(xe.a)(r,a),l.a.createElement("div",{className:z()("Modal",{active:t})},l.a.createElement("div",{className:"Modal__wrapper",ref:r},n))},je=(a(199),a(200),function(e){var t=e.color;return l.a.createElement(Q.a,{className:"c-check",width:24,height:24},l.a.createElement("title",null,"c check"),l.a.createElement("g",{fill:t},l.a.createElement("path",{d:"M12,0A12,12,0,1,0,24,12,12.035,12.035,0,0,0,12,0ZM10,17.414,4.586,12,6,10.586l4,4,8-8L19.414,8Z",fill:t})))}),Oe=function(e){var t=e.submitCaption,a=e.provider,n=e.onSubmit,r=Object(g.a)().t,o=Object(c.useMemo)((function(){return{moviesPath:null===a||void 0===a?void 0:a.moviesPath,showsPath:null===a||void 0===a?void 0:a.showsPath}}),[a]),i=Object(c.useState)(o),s=Object(u.a)(i,2),m=s[0],b=s[1],p=Object(c.useCallback)((function(e){var t=e.currentTarget;b((function(e){return Object(de.a)({},e,Object(fe.a)({},t.name,""===t.value?void 0:t.value))}))}),[b]),h=Object(c.useCallback)((function(e){e.preventDefault(),n(m.moviesPath,m.showsPath)}),[n,m]),f=Object(c.useCallback)((function(e){return void 0!==e}),[]),d=Object(c.useCallback)((function(e){return void 0!==e&&e.startsWith("/")}),[]),v=Object(c.useMemo)((function(){return(!f(m.moviesPath)||d(m.moviesPath))&&(!f(m.showsPath)||d(m.showsPath))}),[f,d,m]);return Object(c.useEffect)((function(){b(o)}),[o,b]),l.a.createElement("form",{className:"ProviderForm",onSubmit:h},l.a.createElement("label",null,r("Movies path"),l.a.createElement("p",{className:"small"},r("The path from your home directory to where you keep your movies.")),l.a.createElement("div",{className:z()("ProviderForm__input",{setup:f(m.moviesPath),valid:d(m.moviesPath)})},l.a.createElement("input",{type:"text",name:"moviesPath",value:m.moviesPath||"",placeholder:"/Plaain/movies",onChange:p}),l.a.createElement(je,{color:ee.a.white}))),l.a.createElement("label",null,r("Shows path"),l.a.createElement("p",{className:"small"},r("The path from your home directory to where you keep your shows.")),l.a.createElement("div",{className:z()("ProviderForm__input",{setup:f(m.showsPath),valid:d(m.showsPath)})},l.a.createElement("input",{type:"text",name:"showsPath",value:m.showsPath||"",placeholder:"/Plaain/shows",onChange:p}),l.a.createElement(je,{color:ee.a.white}))),l.a.createElement("div",{className:"ProviderForm__actions"},l.a.createElement("button",{type:"submit",disabled:!v},t)))},ye=function(e){var t=e.onSetup,a=Object(g.a)().t;return l.a.createElement("div",{className:"SetupProvider"},l.a.createElement("h2",null,a("Setup your provider")),l.a.createElement("p",null,a("All that's left is to tell Plaain where to look for your movies and shows. You can always skip this step and come back later.")),l.a.createElement(Oe,{submitCaption:a("Complete"),onSubmit:t}))},Pe=function(e){var t=e.isActive,a=e.onClose,n=e.onSetupAuth,r=e.onAddProvider,o=Object(c.useState)(),m=Object(u.a)(o,2),b=m[0],p=m[1],h=Object(c.useCallback)(function(){var e=Object(s.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:a=e.sent,p(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[p,n]),f=Object(c.useCallback)((function(e,t){if(void 0!==b){var n=Object(de.a)({},b,{moviesPath:e,showsPath:t});r(n),a()}}),[b,r,a]);return l.a.createElement("div",{className:"AddProviderModal"},l.a.createElement(we,{isActive:t,onClose:a},void 0===b?l.a.createElement(ke,{onChoose:h}):l.a.createElement(ye,{onSetup:f})))},Ne=(a(201),function(e){var t=e.isActive,a=e.provider,n=e.onClose,r=e.onUpdateProvider,o=e.onRemoveProvider,i=Object(g.a)().t,s=Object(c.useCallback)((function(e,t){r(Object(de.a)({},a,{moviesPath:e,showsPath:t})),n()}),[n,r,a]),u=Object(c.useCallback)((function(){window.confirm(i("Are you sure?"))&&(o(),n())}),[n,o,i]);return l.a.createElement("div",{className:"UpdateProviderModal"},l.a.createElement(we,{isActive:t,onClose:n},l.a.createElement("h2",null,Object(f.g)(a.kind)),l.a.createElement("p",null,a.name),l.a.createElement(Oe,{submitCaption:i("Update"),provider:a,onSubmit:s}),l.a.createElement("button",{className:"secondary",onClick:u},i("Remove"))))}),_e=a(27),Ce=function(e){var t=e.providers,a=e.onSetupAuth,n=e.onAddProvider,r=e.onUpdateProvider,o=e.onRemoveProvider,i=e.onIndex,s=e.onFetchMetadataAll,m=Object(g.a)().t,b=Object(c.useState)(!1),p=Object(u.a)(b,2),h=p[0],d=p[1],v=Object(c.useState)(t.reduce((function(e,t,a){return Object(de.a)({},e,Object(fe.a)({},a,!1))}),{})),E=Object(u.a)(v,2),k=E[0],x=E[1],w=Object(c.useCallback)((function(e){return function(){return x((function(t){return Object(de.a)({},t,Object(fe.a)({},e,!0))}))}}),[x]),j=Object(c.useCallback)((function(e){return function(){return x((function(t){return Object(de.a)({},t,Object(fe.a)({},e,!1))}))}}),[x]),O=Object(c.useCallback)((function(){return d(!0)}),[d]),y=Object(c.useCallback)((function(){return d(!1)}),[d]),P=Object(c.useCallback)((function(e){return function(){return o(e)}}),[o]);return l.a.createElement("div",{className:"Settings"},l.a.createElement("section",{className:"Settings__auth"},l.a.createElement("h2",null,m("Authentication")),l.a.createElement("p",null,m("Sign into your cloud to add your movies and TV shows to your library.")),l.a.createElement("div",{className:"Settings__auth__scroll"},l.a.createElement("div",{className:"Settings__auth__providers"},t.map((function(e,t){return l.a.createElement("div",{className:"Settings__auth__provider",key:t},l.a.createElement(ge,{className:z()("primary",{warn:void 0===e.moviesPath&&void 0===e.showsPath}),icon:Object(f.f)(e.kind,ee.a.white),onClick:w(t)}),l.a.createElement(Ne,{isActive:k[t],provider:e,onClose:j(t),onUpdateProvider:r,onRemoveProvider:P(e.id),key:7}))})),l.a.createElement("div",{className:"Settings__auth__provider",key:t.length},l.a.createElement(ge,{icon:l.a.createElement(ve,{color:ee.a.white}),onClick:O,key:5}),l.a.createElement(Pe,{isActive:h,onClose:y,onSetupAuth:a,onAddProvider:n,key:7}))))),l.a.createElement("section",{className:"Settings__indexing"},l.a.createElement("h2",null,m("Indexing")),l.a.createElement("p",null,m("Index to look for new media on your linked services or fetch the latest metadata.")),l.a.createElement("div",{className:"Settings__indexing__actions"},l.a.createElement("button",{onClick:i},m("Index")),l.a.createElement("button",{onClick:s},m("Update metadata")))),l.a.createElement("section",{className:"Settings__version"},l.a.createElement("h2",null,m("Version")),l.a.createElement("p",null,m("Plaain {{version}}.",{version:_e.d})),l.a.createElement("p",{className:"small"},l.a.createElement(L.a,null,"Plaain is"," ",l.a.createElement("a",{href:"https://github.com/jonhue/plaain",target:"_blank",rel:"noopener noreferrer"},"open-source"),". See the"," ",l.a.createElement("a",{href:"https://github.com/jonhue/plaain/releases",target:"_blank",rel:"noopener noreferrer"},"changelog"),".")),l.a.createElement("p",{className:"small"},l.a.createElement(L.a,null,"Note that Plaain may ",l.a.createElement("span",{className:"bold"},"not")," be used to stream pirated content or publicly share your private media library. You may only connect to your private cloud storage."))))},Se=a(164),Me=a(135),De={load:F.a,removeProvider:I.c,updateProvider:Me.b},Ae=Object(n.b)((function(e){return{providers:Object(U.b)(e.auth)}}),De)((function(e){var t=e.providers,a=e.load,n=e.removeProvider,r=e.updateProvider,o=Object(c.useCallback)((function(e){return a(Object(Se.b)(e))}),[a]),i=Object(c.useCallback)((function(e){r(e),a(Object(I.b)([e]))}),[a,r]),s=Object(c.useCallback)((function(){return a(Object(I.b)(t))}),[a,t]),u=Object(c.useCallback)((function(){return a(Object(I.a)())}),[a]);return l.a.createElement(Ce,{providers:t,onSetupAuth:o,onAddProvider:i,onUpdateProvider:i,onRemoveProvider:n,onIndex:s,onFetchMetadataAll:u})})),Le=(a(202),function(e){var t=e.show,a=e.seasons,n=Object(g.a)().t;return l.a.createElement("div",{className:"Show"},l.a.createElement(R,{url:Object(f.a)(t.backdropPath)}),l.a.createElement("div",{className:"Show__details"},l.a.createElement(d,{url:Object(f.c)(t.posterPath),alt:"poster"}),l.a.createElement("h1",null,t.title),l.a.createElement("div",{className:"Show__information"},l.a.createElement("p",{className:"small"},new Date(t.firstAirDate).getFullYear()," -"," ",new Date(t.lastAirDate).getFullYear())),l.a.createElement("p",{className:"Show__overview"},t.summary)),a.length>0&&l.a.createElement("div",{className:"Show__seasons"},l.a.createElement("h2",null,n("Seasons")),l.a.createElement(k,{items:a,id:"seasons"})))}),Te=Object(n.b)((function(e){return{seasons:e.seasons,shows:e.shows}}))((function(e){var t=e.match,a=e.seasons,n=e.shows,r=Object(c.useMemo)((function(){return Object(h.a)(t.params.id)(n)}),[t,n]),o=Object(c.useMemo)((function(){if(void 0!==r)return Object(f.n)(Object(P.e)(r.id)(a),(function(e){return e.number}))}),[a,r]);return void 0!==r&&void 0!==o?l.a.createElement(Le,{show:r,seasons:o}):l.a.createElement(q.a,null)})),Ie=(a(203),function(e){var t=e.shows;return l.a.createElement("div",{className:"Shows"},l.a.createElement("div",{className:"Shows__find"},l.a.createElement(v.b,{to:"/app/find"},l.a.createElement(X,{color:ee.a.white}))),window.innerWidth<Number.parseInt(ee.a.brPhone)?l.a.createElement(K,{items:t,path:"shows",id:"shows"}):l.a.createElement(J,{items:t}))}),Fe=Object(n.b)((function(e){return{shows:Object(f.l)(Object(h.b)(e.shows),(function(e){return e.title}))}}))((function(e){var t=e.shows;return t.length>0?l.a.createElement(Ie,{shows:t}):l.a.createElement(r.a,{to:"/app"})})),Ue=Object(n.b)((function(e){return{moviesCount:Object.keys(e.movies).length,showsCount:Object.keys(e.shows).length}}));t.default=Ue((function(e){var t=e.match,a=e.moviesCount,n=e.showsCount;return l.a.createElement("div",{className:"App"},l.a.createElement(r.d,null,l.a.createElement(r.b,{path:"".concat(t.path,"/"),exact:!0,component:W}),l.a.createElement(r.b,{path:"".concat(t.path,"/movies/:id"),exact:!0,component:Z}),l.a.createElement(r.b,{path:"".concat(t.path,"/movies"),component:ae}),l.a.createElement(r.b,{path:"".concat(t.path,"/shows/:id"),exact:!0,component:Te}),l.a.createElement(r.b,{path:"".concat(t.path,"/shows"),component:Fe}),l.a.createElement(r.b,{path:"".concat(t.path,"/seasons/:id"),exact:!0,component:he}),l.a.createElement(r.b,{path:"".concat(t.path,"/people/:id"),exact:!0,component:ue}),l.a.createElement(r.b,{path:"".concat(t.path,"/settings"),exact:!0,component:Ae}),l.a.createElement(r.b,{path:"".concat(t.path,"/find"),exact:!0,component:O}),l.a.createElement(r.b,{component:q.a})),l.a.createElement(ie,{moviesDisabled:0===a,showsDisabled:0===n}))}))}}]);
//# sourceMappingURL=5.e6003a04.chunk.js.map