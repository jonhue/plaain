(this.webpackJsonpplaain=this.webpackJsonpplaain||[]).push([[6],{183:function(e,t,r){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},184:function(e,t,r){},192:function(e,t,r){"use strict";r.r(t);var a=r(107),n=r.n(a),s=r(108),c=r(110),o=r(33),i=r(0),l=r.n(i),u=r(6),b=r(29),d=r(55),p=(r(183),r(105)),m=r(74),f=(r(184),r(54)),v=r.n(f),h=r(2),g=function(e){var t=e.children,r=Object(h.g)(),a=r.length<=2,n=Object(i.useCallback)((function(){return r.goBack()}),[r]);return l.a.createElement("div",{className:v()("Back",{disabled:a}),onClick:n},t)},j=r(13),O=r(185),k=r.n(O),E=function(e){return{src:Object(j.d)(e.provider),type:"video/".concat(Object(j.i)(e)),size:Object(j.h)(e.provider)}},P=function(e){return{kind:"captions",label:e.name,srcLang:Object(j.b)(e),src:Object(j.d)(e.provider)}},y=function(e){var t=e.id,r=e.item,a=e.startAt,n=e.onProgress;return Object(i.useEffect)((function(){var e=new k.a("video.PlyrPlayer#".concat(t),{debug:!1,controls:["play","progress","current-time","mute","volume","captions","settings","fullscreen"],settings:["captions","quality"],autoplay:!0,invertTime:!0,toggleInvert:!0});return e.source={type:"video",title:r.title,sources:r.sources.map(E),tracks:r.captions.map(P)},e.on("ready",(function(){void 0!==a&&e.forward(a)})),function(){0!==e.currentTime&&n(e.currentTime),e.destroy()}}),[t,r,n,a]),l.a.createElement("video",{className:"PlyrPlayer",id:t,crossOrigin:"true",playsInline:!0,controls:!0})},w=function(e){var t=e.item,r=e.startAt,a=e.onProgress,n=Object(p.a)().t,s=Object(i.useCallback)((function(){return window.location.reload()}),[]);return l.a.createElement("div",{className:"Player"},l.a.createElement(y,{item:t,startAt:r,onProgress:a,id:"player"}),l.a.createElement("div",{className:"Player__content"},l.a.createElement("div",{className:"Player__content__header"},l.a.createElement("h1",null,t.title),l.a.createElement(g,null,l.a.createElement("button",{className:"secondary"},n("Go back")))),l.a.createElement("div",{className:"Player__content__reload"},l.a.createElement("p",{className:"small"},l.a.createElement(m.a,null,"The video doesn't load? Restarting may help. Please"," ",l.a.createElement("a",{href:"https://github.com/jonhue/plaain/issues/new",target:"_blank",rel:"noopener noreferrer"},"report the issue")," ","if it persists.")),l.a.createElement("button",{onClick:s},n("Reload")))))},x=r(122),_=r(127),N=r(109),M=r(144),C=r(126),A=r(142),L=r(132),R={load:_.a,updateEpisodeProgress:M.b,updateMovieProgress:A.b},T=Object(o.b)((function(e){return{episodes:e.episodes,movies:e.movies}}),R);t.default=T((function(e){var t=e.episodes,r=e.movies,a=e.load,o=e.updateEpisodeProgress,p=e.updateMovieProgress,m=Object(h.h)(),f=Object(i.useState)(!1),v=Object(c.a)(f,2),g=v[0],j=v[1],O=Object(i.useMemo)((function(){var e=new URLSearchParams(m.search).get("s");if(null!==e)return Number.parseInt(e)}),[m]),k=Object(i.useMemo)((function(){var e=new URLSearchParams(m.search).get("type");if(null!==e){var t=Number.parseInt(e);return Object.values(u.a).includes(t)?t:void 0}}),[m]),E=Object(i.useCallback)((function(e,a){switch(e){case u.a.Episode:return Object(x.a)(a)(t);case u.a.Movie:return Object(N.b)(a)(r)}}),[t,r]),P=Object(L.useAsyncMemo)(Object(s.a)(n.a.mark((function e(){var t,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==k){e.next=2;break}return e.abrupt("return",j(!0));case 2:if(null!==(t=new URLSearchParams(m.search).get("id"))){e.next=5;break}return e.abrupt("return",j(!0));case 5:if(void 0!==(r=E(k,t))){e.next=8;break}return e.abrupt("return",j(!0));case 8:return e.next=10,a(Object(C.d)(r));case 10:return s=e.sent,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),[k,a,m,j]),y=Object(i.useCallback)((function(e){if(void 0!==P)switch(P.kind){case u.a.Episode:return o(P,e);case u.a.Movie:return p(P,e)}}),[P,o,p]);return void 0!==P&&P.sources.length>0?l.a.createElement(w,{item:P,startAt:O,onProgress:y}):g?l.a.createElement(d.a,null):l.a.createElement(b.a,null)}))}}]);
//# sourceMappingURL=6.d9a06250.chunk.js.map