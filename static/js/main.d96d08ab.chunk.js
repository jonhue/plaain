(this.webpackJsonpplaain=this.webpackJsonpplaain||[]).push([[0],{196:function(e,t,a){e.exports=a(457)},235:function(e,t){},237:function(e,t){},269:function(e,t){},270:function(e,t){},338:function(e,t){},433:function(e,t,a){},434:function(e,t,a){},435:function(e,t,a){},436:function(e,t,a){},438:function(e,t,a){},439:function(e,t,a){},440:function(e,t,a){},441:function(e,t,a){},442:function(e,t,a){},443:function(e,t,a){},444:function(e,t,a){},445:function(e,t,a){},446:function(e,t,a){},447:function(e,t,a){},448:function(e,t,a){},449:function(e,t,a){},450:function(e,t,a){},451:function(e,t,a){},452:function(e,t,a){},453:function(e,t,a){},454:function(e,t,a){},455:function(e,t,a){},456:function(e,t,a){},457:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),n=a(80),i=a.n(n),o=a(9),c=a(16),l=a(12),p=a(31),h=a(188),m=a(83),d=a(189),u=a.n(d);const f="never",v="monthly",w="daily",g="always",E={MICROSOFT:"microsoft"},b={[E.MICROSOFT]:"OneDrive"},y="movie",_="show",x="season",O="episode",k="source",N="caption",j=["mp4","m4v","mkv","webm"],I=["vtt"];var S=a(4),D=a(460);class L{constructor(){this._userAgentApplication=new D.a({auth:{clientId:L.config.clientID}})}perform(){return this.silentLogIn()}silentLogIn(){return this.userAgentApplication.acquireTokenSilent({scopes:L.config.scopes}).then(e=>e.accessToken).catch(e=>(console.log(e),this.popupLogIn()))}popupLogIn(){return this.userAgentApplication.loginPopup({scopes:L.config.scopes,prompt:"select_account"}).then(()=>this.userAgentApplication.acquireTokenSilent({scopes:L.config.scopes})).then(e=>e.accessToken)}get userAgentApplication(){return this._userAgentApplication}}L.config={clientID:"c06abdd7-3e36-4e51-9ecf-8e304a3fe37f",scopes:["user.read","files.read.all"]};var A=L;const C=e=>({type:"LOADING_BEGIN",payload:e});var P=a(1),M=a.n(P),T=a(6),W=a(193);var U=class{constructor(e){this._client=W.a.init({authProvider:t=>t(null,e)})}movies(){return this.client.api("/me/drive/root:/Plaain/Movies:/children").get()}shows(){return this.client.api("/me/drive/root:/Plaain/Shows:/children").get()}children(e){return this.client.api("/me/drive/items/".concat(e,"/children")).get()}get client(){return this._client}};class F{constructor(e,t){this._oneDrive=e,this._folderId=t}perform(){return this.oneDrive.children(this.folderId).then(e=>e.value.map(e=>this.index(e)).filter(e=>null!=e))}index(e){const t=F.fileType(e.name);return null==e.file||null==t?null:{provider:E.MICROSOFT,id:e.id,type:t,name:e.name,extension:F.fileExtension(e.name),information:F.fileInformation(e.name),mimeType:e.file.mimeType,url:e["@microsoft.graph.downloadUrl"]}}static fileType(e){return j.includes(F.fileExtension(e))?k:I.includes(F.fileExtension(e))?N:null}static fileExtension(e){return e.split(".").pop()}static fileInformation(e){return e.split(".").shift()}get oneDrive(){return this._oneDrive}get folderId(){return this._folderId}}var R=F;var q=class{constructor(e){this._oneDrive=new U(e)}perform(){var e=this;return Object(T.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Promise,t.next=3,e.oneDrive.movies().then(t=>t.value.map(t=>e.index(t)));case 3:return t.t1=t.sent,t.next=6,t.t0.all.call(t.t0,t.t1).then(e=>e.filter(e=>null!==e));case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))()}index(e){var t=this;return Object(T.a)(M.a.mark((function a(){var s;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(null!=e.folder){a.next=2;break}return a.abrupt("return",null);case 2:return a.next=4,new R(t.oneDrive,e.id).perform();case 4:return s=a.sent,a.abrupt("return",{provider:E.MICROSOFT,type:y,providerId:e.id,name:e.name,files:s});case 6:case"end":return a.stop()}}),a)})))()}get oneDrive(){return this._oneDrive}};var V=class{constructor(e){this._oneDrive=new U(e)}perform(){var e=this;return Object(T.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Promise,t.next=3,e.oneDrive.shows().then(t=>t.value.map(t=>e.index(t)));case 3:return t.t1=t.sent,t.next=6,t.t0.all.call(t.t0,t.t1).then(e=>e.filter(e=>null!==e));case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))()}index(e){return Object(T.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e.folder){t.next=2;break}return t.abrupt("return",null);case 2:return t.abrupt("return",{provider:E.MICROSOFT,type:_,providerId:e.id,name:e.name});case 3:case"end":return t.stop()}}),t)})))()}get oneDrive(){return this._oneDrive}};var G=class{constructor(e,t,a){this._oneDrive=new U(e),this._shows=t,this._seasons=a}perform(){var e=this;return Object(T.a)(M.a.mark((function t(){var a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.shows.map(t=>e.performForShow(t,e.seasons)));case 2:return a=t.sent,t.abrupt("return",a.reduce((e,t)=>e.concat(t),[]));case 4:case"end":return t.stop()}}),t)})))()}performForShow(e,t){var a=this;return Object(T.a)(M.a.mark((function s(){return M.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.oneDrive.children(e.providerId).then(a=>t.filter(t=>t.showId===e.id).map(t=>{const s=a.value.find(a=>t.id==="".concat(e.id,"-").concat(Number.parseInt(a.name)));return s?Object(S.a)({},t,{provider:E.MICROSOFT,providerId:s.id}):t}));case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}}),s)})))()}get oneDrive(){return this._oneDrive}get shows(){return this._shows}get seasons(){return this._seasons}};var B=class{constructor(e,t,a){this._oneDrive=new U(e),this._seasons=t,this._episodes=a}perform(){var e=this;return Object(T.a)(M.a.mark((function t(){var a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.seasons.map(t=>e.performForSeason(t,e.episodes)));case 2:return a=t.sent,t.abrupt("return",a.reduce((e,t)=>e.concat(t),[]));case 4:case"end":return t.stop()}}),t)})))()}performForSeason(e,t){var a=this;return Object(T.a)(M.a.mark((function s(){return M.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.providerId){s.next=6;break}return s.next=3,a.oneDrive.children(e.providerId).then(s=>a.handleResponse(s,e,t));case 3:return s.abrupt("return",s.sent);case 6:return s.abrupt("return",t.filter(t=>t.seasonId===e.id));case 7:case"end":return s.stop()}}),s)})))()}handleResponse(e,t,a){var s=this;return Object(T.a)(M.a.mark((function r(){return M.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Promise.all(a.filter(e=>e.seasonId===t.id).map(a=>s.index(a,e.value.find(e=>a.id==="".concat(t.id,"-").concat(Number.parseInt(e.name))))));case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()}index(e,t){var a=this;return Object(T.a)(M.a.mark((function s(){var r;return M.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!t){s.next=7;break}return s.next=3,new R(a.oneDrive,t.id).perform();case 3:return r=s.sent,s.abrupt("return",Object(S.a)({},e,{provider:E.MICROSOFT,providerId:t.id,files:r}));case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}}),s)})))()}get oneDrive(){return this._oneDrive}get seasons(){return this._seasons}get episodes(){return this._episodes}};const Y=a(210);class H{findMovie(e){return Object(T.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.rateLimiting();case 2:return t.abrupt("return",Y(Object(S.a)({},H.config,{uri:"".concat(H.base_uri,"/search/movie"),qs:Object(S.a)({},H.config.qs,{query:e})})).then(e=>e.results.length<1?null:e.results[0].id));case 3:case"end":return t.stop()}}),t)})))()}findShow(e){return Object(T.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.rateLimiting();case 2:return t.abrupt("return",Y(Object(S.a)({},H.config,{uri:"".concat(H.base_uri,"/search/tv"),qs:Object(S.a)({},H.config.qs,{query:e})})).then(e=>e.results.length<1?null:e.results[0].id));case 3:case"end":return t.stop()}}),t)})))()}movie(e){return Object(T.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.rateLimiting();case 2:return t.abrupt("return",Y(Object(S.a)({},H.config,{uri:"".concat(H.base_uri,"/movie/").concat(e)})));case 3:case"end":return t.stop()}}),t)})))()}movieCredits(e){return Object(T.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.rateLimiting();case 2:return t.abrupt("return",Y(Object(S.a)({},H.config,{uri:"".concat(H.base_uri,"/movie/").concat(e,"/credits")})));case 3:case"end":return t.stop()}}),t)})))()}show(e){return Object(T.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.rateLimiting();case 2:return t.abrupt("return",Y(Object(S.a)({},H.config,{uri:"".concat(H.base_uri,"/tv/").concat(e)})));case 3:case"end":return t.stop()}}),t)})))()}season(e,t){return Object(T.a)(M.a.mark((function a(){return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,H.rateLimiting();case 2:return a.abrupt("return",Y(Object(S.a)({},H.config,{uri:"".concat(H.base_uri,"/tv/").concat(e,"/season/").concat(t)})));case 3:case"end":return a.stop()}}),a)})))()}seasonCredits(e,t){return Object(T.a)(M.a.mark((function a(){return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,H.rateLimiting();case 2:return a.abrupt("return",Y(Object(S.a)({},H.config,{uri:"".concat(H.base_uri,"/tv/").concat(e,"/season/").concat(t,"/credits")})));case 3:case"end":return a.stop()}}),a)})))()}episode(e,t,a){return Object(T.a)(M.a.mark((function s(){return M.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,H.rateLimiting();case 2:return s.abrupt("return",Y(Object(S.a)({},H.config,{uri:"".concat(H.base_uri,"/tv/").concat(e,"/season/").concat(t,"/episode")+"/".concat(a)})));case 3:case"end":return s.stop()}}),s)})))()}static rateLimiting(){return Object(T.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(e=>setTimeout(e,250));case 2:case"end":return e.stop()}}),e)})))()}}H.config={qs:{api_key:"7a10886d19bdc8b264b9d570eaf54e68",language:"en-US"},headers:{"User-Agent":"Request-Promise"},json:!0},H.base_uri="https://api.themoviedb.org/3";var Z=H;var X=class{constructor(e){this._shows=e,this._tmdb=new Z}perform(){var e=this;return Object(T.a)(M.a.mark((function t(){var a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.shows.map(function(){var t=Object(T.a)(M.a.mark((function t(a){var s;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tmdb.show(a.id);case 2:return s=t.sent,t.abrupt("return",s.seasons.map(e=>({id:"".concat(a.id,"-").concat(e.season_number),type:x,seasonNumber:e.season_number,showId:a.id,providerId:null})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:return a=t.sent,t.abrupt("return",a.reduce((e,t)=>e.concat(t),[]));case 4:case"end":return t.stop()}}),t)})))()}get shows(){return this._shows}get tmdb(){return this._tmdb}};var z=class{constructor(e){this._seasons=e,this._tmdb=new Z}perform(){var e=this;return Object(T.a)(M.a.mark((function t(){var a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.seasons.map(function(){var t=Object(T.a)(M.a.mark((function t(a){var s;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tmdb.season(a.showId,a.seasonNumber);case 2:return s=t.sent,t.abrupt("return",s.episodes.map(e=>({id:"".concat(a.id,"-").concat(e.episode_number),type:O,episodeNumber:e.episode_number,seasonId:a.id,providerId:null})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:return a=t.sent,t.abrupt("return",a.reduce((e,t)=>e.concat(t),[]));case 4:case"end":return t.stop()}}),t)})))()}get seasons(){return this._seasons}get tmdb(){return this._tmdb}};var J=class{constructor(e){this._string=e}perform(){return this.string.toLowerCase().replace(/\s/g,"+")}get string(){return this._string}};var K=class{constructor(e){this._movie=e,this._tmdb=new Z}perform(){return this.tmdb.findMovie(this.movie.name).then(e=>this.fetch(e))}fetch(e){var t=this;return Object(T.a)(M.a.mark((function a(){return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.movie.id=e,t.movie.path="/app/movie/".concat(t.movie.id),null!==t.movie.id){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,Promise.all([t.fetchDetails(),t.fetchCredits()]);case 6:return a.abrupt("return",t.movie);case 7:case"end":return a.stop()}}),a)})))()}fetchDetails(){return this.tmdb.movie(this.movie.id).then(e=>{this.movie.backdropUrl="https://image.tmdb.org/t/p/original".concat(e.backdrop_path),this.movie.overview=e.overview,this.movie.posterUrl="https://image.tmdb.org/t/p/original".concat(e.poster_path),this.movie.releaseDate=e.release_date,this.movie.runtime=e.runtime,this.movie.name=e.title,this.movie.trailerLink="https://www.youtube.com/results?search_query="+"".concat(new J(this.movie.name).perform(),"+official+trailer")})}fetchCredits(){return this.tmdb.movieCredits(this.movie.id).then(e=>{this.movie.cast=e.cast.map(e=>({id:e.id,character:e.character,name:e.name,gender:e.gender,profileUrl:"https://image.tmdb.org/t/p/original".concat(e.profile_path)})),this.movie.crew=e.crew.map(e=>({id:e.id,job:e.job,name:e.name,gender:e.gender,profileUrl:"https://image.tmdb.org/t/p/original".concat(e.profile_path)}))})}get movie(){return this._movie}get tmdb(){return this._tmdb}};const $=e=>t=>new K(e).perform().then(e=>{t(ee(e))}).catch(()=>t($(e))),Q=e=>({type:"REMOVE_MOVIE",payload:e}),ee=e=>({type:"UPDATE_MOVIE",payload:e});var te=class{constructor(e){this._show=e,this._tmdb=new Z}perform(){return this.tmdb.findShow(this.show.name).then(e=>this.fetch(e))}fetch(e){var t=this;return Object(T.a)(M.a.mark((function a(){return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.show.id=e,t.show.path="/app/show/".concat(t.show.id),null!==t.show.id){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,Promise.all([t.fetchDetails()]);case 6:return a.abrupt("return",t.show);case 7:case"end":return a.stop()}}),a)})))()}fetchDetails(){return this.tmdb.show(this.show.id).then(e=>{this.show.backdropUrl="https://image.tmdb.org/t/p/original".concat(e.backdrop_path),this.show.firstAirDate=e.first_air_date,this.show.lastAirDate=e.last_air_date,this.show.name=e.name,this.show.overview=e.overview,this.show.posterUrl="https://image.tmdb.org/t/p/original".concat(e.poster_path)})}get show(){return this._show}get tmdb(){return this._tmdb}};const ae=e=>t=>new te(e).perform().then(e=>{t(re(e))}).catch(()=>t(ae(e))),se=e=>({type:"REMOVE_SHOW",payload:e}),re=e=>({type:"UPDATE_SHOW",payload:e});var ne=class{constructor(e,t,a){this._show={id:e,name:t},this._season=a,this._tmdb=new Z}perform(){var e=this;return Object(T.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.season.id="".concat(e.show.id,"-").concat(e.season.seasonNumber),e.season.path="/app/season/".concat(e.season.id),t.next=4,Promise.all([e.fetchDetails(),e.fetchCredits()]);case 4:return t.abrupt("return",e.season);case 5:case"end":return t.stop()}}),t)})))()}fetchDetails(){return this.tmdb.season(this.show.id,this.season.seasonNumber).then(e=>{this.season.airDate=e.air_date,this.season.name=e.name,this.season.overview=e.overview,this.season.posterUrl="https://image.tmdb.org/t/p/original".concat(e.poster_path),this.season.trailerLink="https://www.youtube.com/results?search_query="+"".concat(new J(this.show.name).perform(),"+")+"".concat(new J(this.season.name).perform(),"+")+"official+trailer&i=movies-tv"})}fetchCredits(){return this.tmdb.seasonCredits(this.show.id,this.season.seasonNumber).then(e=>{this.season.cast=e.cast.map(e=>({id:e.id,character:e.character,name:e.name,gender:e.gender,profileUrl:"https://image.tmdb.org/t/p/original".concat(e.profile_path)})),this.season.crew=e.crew.map(e=>({id:e.id,job:e.job,name:e.name,gender:e.gender,profileUrl:"https://image.tmdb.org/t/p/original".concat(e.profile_path)}))})}get show(){return this._show}get season(){return this._season}get tmdb(){return this._tmdb}},ie=a(11);const oe=e=>e.shows,ce=e=>Object(ie.a)(oe,t=>t[e]),le=e=>(t,a)=>{const s=ce(e.showId)(a());return new ne(s.id,s.name,e).perform().then(e=>{t(he(e))}).catch(()=>t(le(e)))},pe=e=>({type:"REMOVE_SEASON",payload:e}),he=e=>({type:"UPDATE_SEASON",payload:e});var me=class{constructor(e,t,a,s,r){this._show={id:e,name:t},this._season={seasonNumber:a,name:s},this._episode=r,this._tmdb=new Z}perform(){var e=this;return Object(T.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.episode.id="".concat(e.show.id,"-").concat(e.season.seasonNumber,"-")+"".concat(e.episode.episodeNumber),t.next=3,Promise.all([e.fetchDetails()]);case 3:return t.abrupt("return",e.episode);case 4:case"end":return t.stop()}}),t)})))()}fetchDetails(){return this.tmdb.episode(this.show.id,this.season.seasonNumber,this.episode.episodeNumber).then(e=>{this.episode.airDate=e.air_date,this.episode.name=e.name,this.episode.overview=e.overview})}get show(){return this._show}get season(){return this._season}get episode(){return this._episode}get tmdb(){return this._tmdb}};const de=e=>e.seasons,ue=e=>Object(ie.a)(de,t=>t[e]),fe=e=>Object(ie.a)(de,t=>Object.values(t).filter(t=>t.lastWatched>=e.getTime()&&(void 0===t.progress||0===t.progress)).sort((e,t)=>e.lastWatched>t.lastWatched?-1:1)),ve=e=>Object(ie.a)(de,t=>Object.values(t).map(e=>e.cast).flat().filter(t=>t.id===e)),we=e=>Object(ie.a)(de,t=>Object.values(t).map(e=>e.crew).flat().filter(t=>t.id===e)),ge=e=>(t,a)=>{const s=ue(e.seasonId)(a()),r=ce(s.showId)(a());return new me(r.id,r.name,s.seasonNumber,s.name,e).perform().then(e=>{t(be(e))}).catch(()=>t(ge(e)))},Ee=e=>({type:"REMOVE_EPISODE",payload:e}),be=e=>({type:"UPDATE_EPISODE",payload:e}),ye=()=>(e,t)=>{e(C("Indexing...")),e(ke()),new q(t().auth[E.MICROSOFT].token).perform().then(a=>(_e(e,a.map(e=>e.id),Object.keys(t().movies),Q),xe(e,a,$))).then(()=>new V(t().auth[E.MICROSOFT].token).perform()).then(a=>(_e(e,a.map(e=>e.id),Object.keys(t().shows),se),xe(e,a,ae))).then(()=>new X(Object.values(t().shows)).perform()).then(e=>new G(t().auth[E.MICROSOFT].token,Object.values(t().shows),e).perform()).then(a=>(_e(e,a.map(e=>e.id),Object.keys(t().seasons),pe),xe(e,a,le))).then(()=>new z(Object.values(t().seasons)).perform()).then(e=>new B(t().auth[E.MICROSOFT].token,Object.values(t().seasons),e).perform()).then(a=>(_e(e,a.map(e=>e.id),Object.keys(t().episodes),Ee),xe(e,a,ge))).then(()=>{e((e=>({type:"UPDATE_VERSION",payload:e}))("0.0.1")),e(Ne()),e({type:"LOADING_STOP"})}).catch(t=>{console.log(t),e(je(t)),e({type:"LOADING_STOP"}),401===t.statusCode&&e(Ie(E.MICROSOFT))})};function _e(e,t,a,s){a.forEach(a=>{t.includes(a)||e(s(a))})}function xe(e,t,a){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(T.a)(M.a.mark((function e(t,a,s){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(a.map(e=>t(s(e))));case 2:return e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const ke=()=>({type:"INDEX_BEGIN"}),Ne=()=>({type:"INDEX_SUCCESS"}),je=e=>({type:"INDEX_FAILURE",payload:e}),Ie=e=>t=>t(Le(e,"expired")),Se=e=>({type:"LOG_IN_BEGIN",payload:e}),De=(e,t)=>({type:"LOG_IN_SUCCESS",payload:{provider:e,token:t}}),Le=(e,t)=>({type:"LOG_IN_FAILURE",payload:{provider:e,error:t}}),Ae=Object.values(E).reduce((e,t)=>Object(S.a)({},e,{[t]:{token:null,error:null}}),{});const Ce={automaticIndexing:f};const Pe={lastIndexed:0,error:null};var Me=a(43),Te=a(42);const We=Object(p.c)({version:(e="0.0.1",t)=>{switch(t.type){case"UPDATE_VERSION":return t.payload;default:return e}},auth:(e=Ae,t)=>{switch(t.type){case"LOG_IN_BEGIN":return Object(S.a)({},e,{[t.payload]:Object(S.a)({},e[t.payload],{error:null})});case"LOG_IN_SUCCESS":return Object(S.a)({},e,{[t.payload.provider]:Object(S.a)({},e[t.payload.provider],{token:t.payload.token,error:null})});case"LOG_IN_FAILURE":return Object(S.a)({},e,{[t.payload.provider]:Object(S.a)({},e[t.payload.provider],{error:t.payload.error})});default:return e}},settings:(e=Ce,t)=>{switch(t.type){case"SETTINGS_UPDATE":return Object(S.a)({},e,{},t.payload);default:return e}},indexing:(e=Pe,t)=>{switch(t.type){case"INDEX_BEGIN":return Object(S.a)({},e,{error:null});case"INDEX_SUCCESS":return Object(S.a)({},e,{lastIndexed:(new Date).getTime()});case"INDEX_FAILURE":return Object(S.a)({},e,{error:t.payload});default:return e}},loading:(e=!1,t)=>{switch(t.type){case"LOADING_BEGIN":return t.payload;case"LOADING_STOP":return!1;default:return e}},movies:(e={},t)=>{switch(t.type){case"REMOVE_MOVIE":{const a=t.payload;e[a];return Object(Me.a)(e,[a].map(Te.a))}case"UPDATE_MOVIE":return Object(S.a)({},e,{[t.payload.id]:Object(S.a)({},e[t.payload.id],{},t.payload)});default:return e}},shows:(e={},t)=>{switch(t.type){case"REMOVE_SHOW":{const a=t.payload;e[a];return Object(Me.a)(e,[a].map(Te.a))}case"UPDATE_SHOW":return Object(S.a)({},e,{[t.payload.id]:Object(S.a)({},e[t.payload.id],{},t.payload)});default:return e}},seasons:(e={},t)=>{switch(t.type){case"REMOVE_SEASON":{const a=t.payload;e[a];return Object(Me.a)(e,[a].map(Te.a))}case"UPDATE_SEASON":return Object(S.a)({},e,{[t.payload.id]:Object(S.a)({},e[t.payload.id],{},t.payload)});default:return e}},episodes:(e={},t)=>{switch(t.type){case"REMOVE_EPISODE":{const a=t.payload;e[a];return Object(Me.a)(e,[a].map(Te.a))}case"UPDATE_EPISODE":return Object(S.a)({},e,{[t.payload.id]:Object(S.a)({},e[t.payload.id],{},t.payload)});default:return e}}});var Ue=Object(m.a)({key:"root",storage:u.a,whitelist:["version","auth","settings","indexing","movies","shows","seasons","episodes"],debug:!1},We),Fe=Object(p.d)(Ue,Object(p.a)(h.a)),Re=a(191);const qe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ve(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const a=e.installing;null!=a&&(a.onstatechange=()=>{"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),window.newVersionAvailable=!0,t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}a(433);var Ge=class{constructor(e,t,a){this._setting=e,this._lastIndexed=t,this._indexAction=a}perform(){return this.setting!==f&&((this.setting===g||(new Date).getFullYear()!==new Date(this.lastIndexed).getFullYear()||(new Date).getMonth()!==new Date(this.lastIndexed).getMonth()||this.setting!==v&&(new Date).getDate()!==new Date(this.lastIndexed).getDate())&&(this.indexAction(),!0))}get setting(){return this._setting}get lastIndexed(){return this._lastIndexed}get indexAction(){return this._indexAction}};var Be=class{constructor(e,t){this._versionUsedForLastIndex=e,this._indexAction=t}perform(){return"0.0.1"!==this.versionUsedForLastIndex&&(this.indexAction(),!0)}get versionUsedForLastIndex(){return this._versionUsedForLastIndex}get indexAction(){return this._indexAction}},Ye=(a(434),a(459));a(186),a(435),a(436);class He extends s.Component{render(){return r.a.createElement("img",{className:"Cover",src:this.props.url,alt:this.props.alt,width:this.props.width})}}var Ze=He;class Xe extends s.Component{componentDidMount(){new Ye.a(document.querySelector(".HorizontalSlide#".concat(this.props.id," .swiper-container")),{spaceBetween:15,slidesPerView:"auto",slidesOffsetBefore:20,slidesOffsetAfter:20,grabCursor:!0})}render(){return r.a.createElement("div",{className:"HorizontalSlide",id:this.props.id},r.a.createElement("div",{className:"swiper-container"},r.a.createElement("div",{className:"swiper-wrapper"},this.props.items.length?this.props.items.map(e=>r.a.createElement("div",{className:"swiper-slide",key:e.id},r.a.createElement(o.b,{to:e.path},r.a.createElement(Ze,{url:e.posterUrl||"/cover.png",alt:e.name,width:"100%"})))):r.a.createElement("div",{className:"swiper-slide"},r.a.createElement("h3",null,"Nothing found.")))))}}var ze=Xe;const Je=e=>e.movies,Ke=e=>Object(ie.a)(Je,t=>Object.values(t).map(e=>e.cast).flat().filter(t=>t.id===e)),$e=e=>Object(ie.a)(Je,t=>Object.values(t).map(e=>e.crew).flat().filter(t=>t.id===e));class Qe extends s.Component{componentDidMount(){document.querySelector(".Nav a:first-child").classList.add("active")}componentWillUnmount(){document.querySelector(".Nav a:first-child").classList.remove("active")}render(){const e=new Date;e.setMonth(e.getMonth()-1);const t=[...Object(ie.a)(Je,e=>Object.values(e).filter(e=>void 0!==e.progress&&0!==e.progress&&e.progress/60<.95*e.runtime).sort((e,t)=>e.lastWatched>t.lastWatched?-1:1))({movies:this.props.movies}),...Object(ie.a)(de,e=>Object.values(e).filter(e=>void 0!==e.progress&&0!==e.progress).sort((e,t)=>e.lastWatched>t.lastWatched?-1:1))({seasons:this.props.seasons})].sort((e,t)=>e.lastWatched>t.lastWatched?-1:1),a=[...(s=e,Object(ie.a)(Je,e=>Object.values(e).filter(e=>e.lastWatched>=s.getTime()&&(void 0===e.progress||0===e.progress||e.progress/60>=.95*e.runtime)).sort((e,t)=>e.lastWatched>t.lastWatched?-1:1)))({movies:this.props.movies}),...fe(e)({seasons:this.props.seasons})].sort((e,t)=>e.lastWatched>t.lastWatched?-1:1);var s;return t.length>0||a.length>0?r.a.createElement("div",{className:"ForYou"},t.length>0&&r.a.createElement("section",null,r.a.createElement("h2",null,"Continue watching"),r.a.createElement(ze,{items:t,id:"inProgress"})),a.length>0&&r.a.createElement("section",null,r.a.createElement("h2",null,"Recently watched"),r.a.createElement(ze,{items:a,id:"recentlyWatched"}))):0===Object.values(E).filter(e=>null!==this.props.auth[e].token).length?r.a.createElement("div",{className:"ForYou"},r.a.createElement("h2",null,"Get started"),r.a.createElement("p",null,"To watch your movies and TV shows, you first have to sign in with the cloud service that hosts your media."),r.a.createElement(o.b,{to:"/app/settings",className:"button"},"Authenticate"),r.a.createElement("p",{className:"small"},"Note that Plaain may ",r.a.createElement("span",{className:"bold"},"not")," be used to stream pirated content or publicly share your private media library. You may only connect to your private cloud storage.")):0===Object.entries(this.props.movies).length&&0===Object.entries(this.props.shows).length?r.a.createElement("div",{className:"ForYou"},r.a.createElement("h2",null,"Get started"),r.a.createElement("p",null,"You signed into a cloud service, but we didn't find any movies or TV shows."),r.a.createElement("p",null,"It's likely that you just have to move some of your files around and create some folders to make it work."),r.a.createElement("p",null,"Reference the getting started guide to learn how to organize your files so that Plaain finds them. After you're done, just re-index."),r.a.createElement("div",{className:"ForYou__buttons"},r.a.createElement("a",{className:"button primary",href:"https://github.com/jonhue/plaain#getting-started",target:"_blank",rel:"noopener noreferrer"},"Getting started"),r.a.createElement("button",{onClick:this.props.index},"Index"))):r.a.createElement("div",{className:"ForYou"},r.a.createElement("h2",null,"Get started"),r.a.createElement("p",null,"Here, you'll be able to find your recently watched movie or the show you didn't finish yet."),r.a.createElement("div",{className:"ForYou__buttons"},Object.entries(this.props.movies).length>0&&r.a.createElement(o.b,{to:"/app/movies",className:"button"},"Discover your movies"),Object.entries(this.props.shows).length>0&&r.a.createElement(o.b,{to:"/app/shows",className:"button"},"Discover your shows")))}}var et=Object(l.b)(e=>({movies:e.movies,shows:e.shows,seasons:e.seasons,auth:e.auth}),{index:ye})(Qe);a(438),a(439);class tt extends s.Component{render(){return r.a.createElement("div",{className:"ItemGrid",id:this.props.id},this.props.items.length?this.props.items.map(e=>r.a.createElement("div",{className:"ItemGrid__item",key:e.id},r.a.createElement(o.b,{to:e.path},r.a.createElement(Ze,{url:e.posterUrl||"/cover.png",alt:e.name,width:"100%"})))):r.a.createElement("div",{className:"ItemGrid__item"},r.a.createElement("h3",null,"Nothing found.")))}}var at=tt;a(440);class st extends s.Component{componentDidMount(){new Ye.a(document.querySelector(".VerticalSlide#".concat(this.props.id," .swiper-container")),{direction:"vertical",slidesPerView:"auto",grabCursor:!0,effect:"coverflow",coverflowEffect:{rotate:0,stretch:425,depth:150,modifier:1,slideShadows:!1},history:{replaceState:!0,key:this.props.path}})}render(){return r.a.createElement("div",{className:"VerticalSlide",id:this.props.id},r.a.createElement("div",{className:"swiper-container"},r.a.createElement("div",{className:"swiper-wrapper"},this.props.items.length?this.props.items.map(e=>r.a.createElement("div",{className:"swiper-slide","data-history":e.id,key:e.id},r.a.createElement(o.b,{to:e.path},r.a.createElement(Ze,{url:e.posterUrl||"/cover.png",alt:e.name,width:"100%"})))):r.a.createElement("div",{className:"swiper-slide"},r.a.createElement("h3",null,"Nothing found.")))))}}var rt=st,nt=e=>r.a.createElement("svg",{height:e.height,width:e.width,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"zoom"),r.a.createElement("g",{fill:"#ffffff"},r.a.createElement("line",{fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2",x1:"22",x2:"15.656",y1:"22",y2:"15.656"}),r.a.createElement("circle",{cx:"10",cy:"10",fill:"none",r:"8",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2"})));class it extends s.Component{componentDidMount(){document.querySelector(".Nav a:nth-child(2)").classList.add("active")}componentWillUnmount(){document.querySelector(".Nav a:nth-child(2)").classList.remove("active")}render(){return r.a.createElement("div",{className:"Movies"},Object.entries(this.props.movies).length>0&&r.a.createElement("div",{className:"Movies__wrapper"},r.a.createElement("div",{className:"Movies__find"},r.a.createElement(o.b,{to:"/app/find"},r.a.createElement(nt,{width:24,height:24}))),window.innerWidth<600?r.a.createElement(rt,{items:Object.values(this.props.movies).sort((e,t)=>e.name<t.name?-1:1),id:"movies",path:"movies"}):r.a.createElement(at,{items:Object.values(this.props.movies).sort((e,t)=>e.name<t.name?-1:1),id:"movies"})))}}var ot=Object(l.b)(e=>({movies:e.movies}))(it);a(441),a(442);class ct extends s.Component{render(){return r.a.createElement("div",{className:"NotFound"},r.a.createElement("h2",null,"You want to get lost?"),r.a.createElement("p",null,"This path went astray... If you do want to get lost, we recommend ",r.a.createElement("a",{href:"https://www.imdb.com/title/tt6969502/",target:"_blank",rel:"noopener noreferrer"},"Get Lost! ny Mirjam de With"),"."),r.a.createElement("p",null,"If all you're looking for is to get back on track: you can ",r.a.createElement(o.b,{to:"/app"},"find home this way"),"."))}}var lt=ct;a(443);class pt extends s.Component{render(){return r.a.createElement("picture",{className:"Backdrop"},r.a.createElement("img",{src:this.props.url,alt:"backdrop"}))}}var ht=pt;a(444);class mt extends s.Component{constructor(e){super(e),this.state={wrapped:!0}}toggle(){this.setState({wrapped:!this.state.wrapped})}render(){return r.a.createElement("div",{className:"PersonList"},this.props.people.slice(0,this.state.wrapped?10:this.props.people.length).map((e,t)=>r.a.createElement("p",{key:t},r.a.createElement(o.b,{to:"/app/person/".concat(e.id)},e.name)," \xb7 ",r.a.createElement("span",null,e[this.props.attribute]))),r.a.createElement("span",{onClick:this.toggle.bind(this)},this.state.wrapped?"Show more":"Show less"))}}var dt=mt,ut=a(192),ft=a.n(ut),vt=(a(445),a(194));class wt extends s.Component{render(){return r.a.createElement("track",{kind:"captions",label:this.props.caption.information,src:this.props.caption.url,srcLang:vt.a.getCode(this.props.caption.information)||"en",default:this.props.default})}}var gt=wt;class Et extends s.Component{render(){return r.a.createElement("source",{src:this.props.source.url,type:this.props.source.mimeType,size:this.props.source.information})}}var bt=Et;class yt extends s.Component{componentDidMount(){this.player=new ft.a(document.querySelector("#player"),{debug:!1}),this.player.on("error",e=>{console.log(e),this.props.logInExpired(this.props.item.provider)}),this.player.on("timeupdate",e=>{0!==e.detail.plyr.currentTime&&this.props.updateItemAction({id:this.props.item.id,lastWatched:(new Date).getTime(),progress:e.detail.plyr.currentTime})}),this.player.on("exitfullscreen",()=>{const e=document.querySelector(".PlyrPlayer");e&&!e.dataset.preventExit&&(this.player.stop(),e.style.display="none",this.props.exitedAction&&this.props.exitedAction())}),this.player.on("ended",()=>{this.player.fullscreen.exit(),document.querySelector(".PlyrPlayer").style.display="none",this.props.endedAction&&this.props.endedAction()})}render(){return 0===this.props.item.files.filter(e=>e.type===k).length?null:r.a.createElement("div",{className:"PlyrPlayer"},r.a.createElement("video",{src:this.props.item.files.filter(e=>e.type===k)[0].url,id:"player",crossOrigin:"true",playsInline:!0,controls:!0},this.props.item.files.filter(e=>e.type===k).map((e,t)=>r.a.createElement(bt,{source:e,key:t})),this.props.item.files.filter(e=>e.type===N).map((e,t)=>r.a.createElement(gt,{caption:e,default:0===t,key:t})),r.a.createElement("a",{href:this.props.item.files.filter(e=>e.type===k)[0].src,download:!0},"Download")))}}var _t=Object(l.b)(null,{logInExpired:Ie})(yt);class xt extends s.Component{constructor(e){var t;super(e),this.state={movie:(t=this.props.match.params.id,Object(ie.a)(Je,e=>e[t]))({movies:this.props.movies})}}componentDidMount(){document.querySelector(".Nav a:nth-child(2)").classList.add("active")}componentWillUnmount(){document.querySelector(".Nav a:nth-child(2)").classList.remove("active")}continue(){this.watch(this.state.movie.progress)}watch(e=0){const t=document.querySelector(".PlyrPlayer"),a=t.querySelector("#player").plyr;t.dataset.preventExit=!0,setTimeout(()=>{t.style.display="block",a.fullscreen.enter(),a.play(),a.currentTime=e,setTimeout(()=>{delete t.dataset.preventExit},100)},100)}finishedMovie(){this.props.updateMovie({id:this.state.movie.id,progress:0})}render(){return this.state.movie?r.a.createElement("div",{className:"Movie"},this.state.movie.files.filter(e=>e.type===k).length>0&&r.a.createElement(_t,{item:this.state.movie,updateItemAction:this.props.updateMovie,endedAction:this.finishedMovie.bind(this)}),r.a.createElement(ht,{url:this.state.movie.backdropUrl}),r.a.createElement("div",{className:"Movie__details"},r.a.createElement(Ze,{url:this.state.movie.posterUrl,alt:"poster",width:"50%"}),r.a.createElement("h1",null,this.state.movie.name),r.a.createElement("div",{className:"Movie__information"},r.a.createElement("p",{className:"small"},new Date(this.state.movie.releaseDate).getFullYear()),r.a.createElement("p",{className:"small"},0!==Math.floor(this.state.movie.runtime/60)&&"".concat(Math.floor(this.state.movie.runtime/60),"h")," ",this.state.movie.runtime%60!==0&&"".concat(this.state.movie.runtime%60,"m"))),r.a.createElement("div",{className:"Movie__actions"},this.state.movie.files.filter(e=>e.type===k).length>0&&void 0!==this.state.movie.progress&&0!==this.state.movie.progress&&this.state.movie.progress/60<this.state.movie.runtime&&r.a.createElement("button",{className:"primary",id:"continue",onClick:this.continue.bind(this)},"Continue"),this.state.movie.files.filter(e=>e.type===k).length>0&&r.a.createElement("button",{className:void 0===this.state.movie.progress||0===this.state.movie.progress||this.state.movie.progress/60>=this.state.movie.runtime?"primary":"",id:"watch",onClick:()=>this.watch()},"Watch"),r.a.createElement("a",{className:"button",id:"trailer",href:this.state.movie.trailerLink,target:"_blank",rel:"noopener noreferrer"},"Play trailer")),r.a.createElement("p",{className:"Movie__overview"},this.state.movie.overview),r.a.createElement("div",{className:"Movie__people"},r.a.createElement("div",{className:"Movie__people__cast"},r.a.createElement("h4",null,"Starring"),r.a.createElement(dt,{people:this.state.movie.cast,attribute:"character"})),r.a.createElement("div",{className:"Movie__people__crew"},r.a.createElement("h4",null,"Crew"),r.a.createElement(dt,{people:this.state.movie.crew,attribute:"job"})))),r.a.createElement("div",{className:"Movie__sources"},r.a.createElement("div",null,r.a.createElement("h4",null,"Sources"),r.a.createElement("p",{className:"small"},"Hosted on ",b[this.state.movie.provider]),r.a.createElement("div",null,r.a.createElement("div",{className:"Movie__sources__versions"},r.a.createElement("h5",null,"Versions"),this.state.movie.files.filter(e=>e.type===k).map((e,t)=>r.a.createElement("p",{className:"small",key:t},e.information)),0===this.state.movie.files.filter(e=>e.type===k).length&&r.a.createElement("p",{className:"small"},"-")),r.a.createElement("div",{className:"Movie__sources__captions"},r.a.createElement("h5",null,"Subtitles"),this.state.movie.files.filter(e=>e.type===N).map((e,t)=>r.a.createElement("p",{className:"small",key:t},e.information)),0===this.state.movie.files.filter(e=>e.type===N).length&&r.a.createElement("p",{className:"small"},"-")))))):r.a.createElement(lt,null)}}var Ot=Object(l.b)(e=>({movies:e.movies}),{updateMovie:ee})(xt);a(446);class kt extends s.Component{componentDidMount(){document.querySelector(".Nav a:nth-child(3)").classList.add("active")}componentWillUnmount(){document.querySelector(".Nav a:nth-child(3)").classList.remove("active")}render(){return r.a.createElement("div",{className:"Shows"},Object.entries(this.props.shows).length>0&&r.a.createElement("div",{className:"Shows__wrapper"},r.a.createElement("div",{className:"Shows__find"},r.a.createElement(o.b,{to:"/app/find"},r.a.createElement(nt,{width:24,height:24}))),window.innerWidth<600?r.a.createElement(rt,{items:Object.values(this.props.shows).sort((e,t)=>e.name<t.name?-1:1),id:"shows",path:"shows"}):r.a.createElement(at,{items:Object.values(this.props.shows).sort((e,t)=>e.name<t.name?-1:1),id:"shows"})))}}var Nt=Object(l.b)(e=>({shows:e.shows}))(kt);a(447);class jt extends s.Component{componentDidMount(){document.querySelector(".Nav a:nth-child(3)").classList.add("active")}componentWillUnmount(){document.querySelector(".Nav a:nth-child(3)").classList.remove("active")}render(){const e=ce(this.props.match.params.id)({shows:this.props.shows}),t=(a=this.props.match.params.id,Object(ie.a)(de,e=>Object.values(e).filter(e=>e.showId.toString()===a)))({seasons:this.props.seasons});var a;return e?r.a.createElement("div",{className:"Show"},r.a.createElement(ht,{url:e.backdropUrl}),r.a.createElement("div",{className:"Show__details"},r.a.createElement(Ze,{url:e.posterUrl,alt:"poster",width:"50%"}),r.a.createElement("h1",null,e.name),r.a.createElement("div",{className:"Show__information"},r.a.createElement("p",{className:"small"},new Date(e.firstAirDate).getFullYear()," - ",new Date(e.lastAirDate).getFullYear())),r.a.createElement("p",{className:"Show__overview"},e.overview)),t.length>0&&r.a.createElement("div",{className:"Show__seasons"},r.a.createElement("h2",null,"Seasons"),r.a.createElement(ze,{items:t.sort((e,t)=>e.seasonNumber<t.seasonNumber?-1:1),id:"seasons"}))):r.a.createElement(lt,null)}}var It=Object(l.b)(e=>({shows:e.shows,seasons:e.seasons}))(jt);a(448);const St=e=>e.episodes,Dt=e=>Object(ie.a)(St,t=>Object.values(t).filter(t=>t.seasonId===e));class Lt extends s.Component{constructor(e){super(e),this.state={season:ue(this.props.match.params.id)({seasons:this.props.seasons}),episodes:Dt(this.props.match.params.id)({episodes:this.props.episodes}),watchableEpisodes:Dt(this.props.match.params.id)({episodes:this.props.episodes}).filter(e=>void 0!==e.provider&&0!==e.files.filter(e=>e.type===k).length),episodesWrapped:!0},this.state.currentEpisodeNumber=this.state.watchableEpisodes.length>0&&this.state.watchableEpisodes[0].episodeNumber}componentDidMount(){document.querySelector(".Nav a:nth-child(3)").classList.add("active")}componentWillUnmount(){document.querySelector(".Nav a:nth-child(3)").classList.remove("active")}toggleEpisodes(){this.setState({episodesWrapped:!this.state.episodesWrapped})}continue(){this.watch(this.state.season.progress||0,this.state.episodes[this.state.season.progress-1].progress||0)}watch(e,t=0){this.setState({currentEpisodeNumber:e}),this.props.updateSeason({id:this.state.season.id,lastWatched:(new Date).getTime(),progress:e});const a=document.querySelector(".PlyrPlayer"),s=a.querySelector("#player").plyr;a.dataset.preventExit=!0,setTimeout(()=>{a.style.display="block",s.fullscreen.enter(),s.play(),s.currentTime=t,setTimeout(()=>{delete a.dataset.preventExit},100)},100)}stoppedEpisode(){}finishedEpisode(){this.props.updateEpisode({id:this.state.episodes[this.state.currentEpisodeNumber-1].id,progress:0});let e=0;this.state.episodes[this.state.currentEpisodeNumber].files.filter(e=>e.type===k).length>0&&(e=this.state.currentEpisodeNumber+1),this.props.updateSeason({id:this.state.season.id,progress:e})}render(){return this.state.season?r.a.createElement("div",{className:"Season"},this.state.watchableEpisodes.length>0&&r.a.createElement(_t,{item:this.state.episodes[this.state.currentEpisodeNumber-1],updateItemAction:this.props.updateEpisode,exitedAction:this.stoppedEpisode.bind(this),endedAction:this.finishedEpisode.bind(this)}),r.a.createElement(ht,{url:ce(this.state.season.showId)({shows:this.props.shows}).backdropUrl}),r.a.createElement("div",{className:"Season__details"},r.a.createElement(Ze,{url:this.state.season.posterUrl,alt:"poster",width:"50%"}),r.a.createElement("h1",null,"Season ",this.state.season.seasonNumber),r.a.createElement("div",{className:"Season__information"},r.a.createElement("p",{className:"small"},ce(this.state.season.showId)({shows:this.props.shows}).name),r.a.createElement("p",{className:"small"},new Date(this.state.season.airDate).getFullYear())),r.a.createElement("div",{className:"Season__actions"},this.state.watchableEpisodes.length>0&&void 0!==this.state.movie.progress&&0!==this.state.season.progress&&r.a.createElement("button",{className:"primary",id:"continue",onClick:this.continue.bind(this)},"Continue episode ",this.state.season.progress),this.state.watchableEpisodes.length>0&&1!==this.state.season.progress&&r.a.createElement("button",{className:void 0===this.state.movie.progress||0===this.state.season.progress?"primary":"",id:"watch",onClick:()=>this.watch(this.state.watchableEpisodes[0].episodeNumber)},"Watch episode ",this.state.watchableEpisodes[0].episodeNumber),r.a.createElement("a",{className:"button",id:"trailer",href:this.state.season.trailerLink,target:"_blank",rel:"noopener noreferrer"},"Play trailer")),r.a.createElement("div",{className:"Season__episodes"},r.a.createElement("div",null,this.state.episodes.sort((e,t)=>e.episodeNumber<t.episodeNumber?-1:1).slice(0,this.state.episodesWrapped?0:this.state.episodes.length).map((e,t)=>r.a.createElement("div",{disabled:void 0===this.state.episodes[e.episodeNumber-1].provider||0===this.state.episodes[e.episodeNumber-1].files.filter(e=>e.type===k).length,className:"Season__episode",onClick:()=>this.watch(e.episodeNumber),key:t},r.a.createElement("div",{className:"Season__episode__number"},e.episodeNumber),r.a.createElement("div",{className:"Season__episode__details"},r.a.createElement("h2",null,e.name),r.a.createElement("p",{className:"small"},"Aired ",new Date(e.airDate).toDateString()),r.a.createElement("p",null,e.overview))))),this.state.episodes.length>0&&r.a.createElement("span",{onClick:this.toggleEpisodes.bind(this)},this.state.episodesWrapped?"Show all episodes":"Hide episodes")),r.a.createElement("p",{className:"Season__overview"},this.state.season.overview),r.a.createElement("div",{className:"Season__people"},r.a.createElement("div",{className:"Season__people__cast"},r.a.createElement("h4",null,"Starring"),r.a.createElement(dt,{people:this.state.season.cast,attribute:"character"})),r.a.createElement("div",{className:"Season__people__crew"},r.a.createElement("h4",null,"Crew"),r.a.createElement(dt,{people:this.state.season.crew,attribute:"job"}))))):r.a.createElement(lt,null)}}var At=Object(l.b)(e=>({shows:e.shows,seasons:e.seasons,episodes:e.episodes}),{updateSeason:he,updateEpisode:be})(Lt);a(449);class Ct extends s.Component{render(){const e=Number.parseInt(this.props.match.params.id),t=(e=>Object(ie.a)(Ke(e),$e(e),ve(e),we(e),(e,t,a,s)=>[...e,...t,...a,...s][0]))(e)({movies:this.props.movies,seasons:this.props.seasons}),a=(e=>Object(ie.a)(Je,t=>Object.values(t).filter(t=>t.cast.find(t=>t.id===e)||t.crew.find(t=>t.id===e))))(e)({movies:this.props.movies}),s=(e=>Object(ie.a)(de,t=>Object.values(t).filter(t=>t.cast.find(t=>t.id===e)||t.crew.find(t=>t.id===e))))(e)({seasons:this.props.seasons}),n=((e,t)=>Object(ie.a)(Ke(e),$e(e),ve(e),we(e),(e,a,s,r)=>[...new Set([e.length>0||s.length>0?1===t?"Actress":"Actor":null,...a.map(e=>e.job),...r.map(e=>e.job)])].filter(e=>null!==e)))(e,t.gender)({movies:this.props.movies,seasons:this.props.seasons});return t?r.a.createElement("div",{className:"Person"},r.a.createElement(ht,{url:(a[0]||this.props.shows[s[0].showId]).backdropUrl}),r.a.createElement("div",{className:"Person__details"},r.a.createElement(Ze,{url:t.profileUrl,alt:"profile",width:"50%"}),r.a.createElement("h1",null,t.name),r.a.createElement("h5",null,"Known as"),r.a.createElement("p",null,n.join(", "))),a.length>0&&r.a.createElement("div",{className:"Person__movies"},r.a.createElement("h2",null,"Movies"),r.a.createElement(ze,{items:a,id:"movies"})),s.length>0&&r.a.createElement("div",{className:"Person__seasons"},r.a.createElement("h2",null,"TV seasons"),r.a.createElement(ze,{items:s,id:"seasons"}))):r.a.createElement(lt,null)}}var Pt=Object(l.b)(e=>({movies:e.movies,shows:e.shows,seasons:e.seasons}))(Ct),Mt=(a(450),e=>r.a.createElement("svg",{height:e.height,width:e.width,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"e add"),r.a.createElement("g",{fill:"#ffffff",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"3"},r.a.createElement("line",{fill:"none",stroke:"#ffffff",x1:"16",x2:"16",y1:"2",y2:"30"}),r.a.createElement("line",{fill:"none",stroke:"#ffffff",x1:"30",x2:"2",y1:"16",y2:"16"})))),Tt=e=>r.a.createElement("svg",{height:e.height,width:e.width,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"logo dropbox 2"),r.a.createElement("g",{fill:"#ffffff"},r.a.createElement("polygon",{fill:"#ffffff",points:"9.41319,1.11824 0,7.26432 6.50879,12.47649 15.99985,6.61586 "}),r.a.createElement("polygon",{fill:"#ffffff",points:"0,17.68899 9.41319,23.83504 15.99985,18.33712 6.50879,12.47649 "}),r.a.createElement("polygon",{fill:"#ffffff",points:"15.99985,18.33712 22.58681,23.83504 32,17.68899 25.49121,12.47649 "}),r.a.createElement("polygon",{fill:"#ffffff",points:"32,7.26432 22.58681,1.11824 15.99985,6.61586 25.49121,12.47649 "}),r.a.createElement("polygon",{points:"16.01932,19.51992 9.41319,25.00165 6.58635,23.15606 6.58635,25.22512 16.01932,30.88176 25.45226,25.22512 25.45226,23.15606 22.62543,25.00165 "}))),Wt=e=>r.a.createElement("svg",{height:e.height,width:e.width,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"google 2"),r.a.createElement("g",{fill:"#ffffff"},r.a.createElement("path",{d:"M30.383,13.273H16.065v6.136H24.18c-1.3,4.091-4.5,5.455-8.18,5.455a8.864,8.864,0,1,1,5.691-15.65L26.15,4.967A15,15,0,1,0,16,31C24.271,31,31.747,25.545,30.383,13.273Z",fill:"#ffffff"}))),Ut=e=>r.a.createElement("svg",{height:e.height,width:e.width,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"microsoft"),r.a.createElement("g",{fill:"#ffffff"},r.a.createElement("rect",{height:"14",width:"14",fill:"#ffffff",x:"1",y:"1"}),r.a.createElement("rect",{height:"14",width:"14",x:"17",y:"1"}),r.a.createElement("rect",{height:"14",width:"14",x:"1",y:"17"}),r.a.createElement("rect",{height:"14",width:"14",fill:"#ffffff",x:"17",y:"17"})));a(451);class Ft extends s.Component{render(){return r.a.createElement("div",{className:"Banner"},r.a.createElement("h2",null,this.props.title),r.a.createElement("p",null,this.props.text),this.props.linkUrl&&r.a.createElement("a",{href:this.props.linkUrl,target:"_blank",rel:"noopener noreferrer"},this.props.linkText||"Help"))}}var Rt=Ft;const qt=e=>e.auth,Vt=e=>Object(ie.a)((e=>Object(ie.a)(qt,t=>t[e]))(e),e=>e.token),Gt=()=>Object(ie.a)(qt,e=>Object.keys(e).some(t=>null!==e[t].error));class Bt extends s.Component{componentDidMount(){document.querySelector(".Nav a:last-child").classList.add("active")}componentWillUnmount(){document.querySelector(".Nav a:last-child").classList.remove("active")}index(){this.props.index()}handleAutomaticIndexingChange(e){this.props.updateSettings(Object(S.a)({},this.props.settings,{automaticIndexing:e.target.value}))}render(){const e=window.newVersionAvailable,t=0===Object.values(E).filter(e=>null!==this.props.auth[e].token).length,a=Gt()({auth:this.props.auth}),s=0===Object.entries(this.props.movies).length&&0===Object.entries(this.props.shows).length;return r.a.createElement("div",{className:"Settings"},e&&r.a.createElement(Rt,{title:"Update available!",text:"Restart the app to apply the changes."}),t&&r.a.createElement(Rt,{title:"Authenticate with cloud service",text:"To get started, authenticate with the cloud service that hosts your media."}),s&&r.a.createElement(Rt,{title:"No media found!",text:"We indexed all your authenticated services, but weren't able to find any source files.",linkText:"Getting started with Plaain",linkUrl:"https://github.com/jonhue/plaain#getting-started"}),a&&r.a.createElement(Rt,{title:"Authentication expired!",text:"Reauthenticate with the failing service."}),r.a.createElement("section",{className:"Settings__auth"},r.a.createElement("h2",null,"Authentication"),r.a.createElement("p",null,"Sign into your cloud to add your movies and TV shows to your library."),r.a.createElement("div",{className:"Settings__auth__scroll"},r.a.createElement("div",{className:"Settings__auth__flex"},r.a.createElement("button",{className:"microsoft ".concat(Vt(E.MICROSOFT)({auth:this.props.auth})&&"primary"," ").concat((n=E.MICROSOFT,Object(ie.a)(qt,e=>null!==e[n].error))({auth:this.props.auth})&&"warn"),onClick:this.props.authenticateMicrosoft},r.a.createElement(Ut,{width:32,height:32})),r.a.createElement("button",{disabled:!0,className:"dropbox"},r.a.createElement(Tt,{width:32,height:32})),r.a.createElement("button",{disabled:!0,className:"google"},r.a.createElement(Wt,{width:32,height:32})),r.a.createElement("a",{className:"button",href:"https://github.com/jonhue/plaain",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Mt,{width:32,height:32}))))),r.a.createElement("section",{className:"Settings__indexing"},r.a.createElement("h2",null,"Indexing"),r.a.createElement("p",null,"Index to look for new media on your linked services and to fetch the latest metadata."),r.a.createElement("button",{onClick:this.index.bind(this)},"Index"),r.a.createElement("h5",null,"Automatic indexing"),r.a.createElement("p",null,"Index automatically when you launch Plaain after a given time has passed."),r.a.createElement("select",{value:this.props.settings.automaticIndexing,onChange:this.handleAutomaticIndexingChange.bind(this)},r.a.createElement("option",{value:f},"Never"),r.a.createElement("option",{value:v},"Monthly"),r.a.createElement("option",{value:w},"Daily"),r.a.createElement("option",{value:g},"Always"))),r.a.createElement("section",{className:"Settings__version"},r.a.createElement("h2",null,"Version"),r.a.createElement("p",null,"Plaain ","0.0.1",!window.newVersionAvailable&&" (latest)","."),r.a.createElement("p",{className:"small"},"Plaain is ",r.a.createElement("a",{href:"https://github.com/jonhue/plaain",target:"_blank",rel:"noopener noreferrer"},"open-source"),". See the ",r.a.createElement("a",{href:"https://github.com/jonhue/plaain/releases",target:"_blank",rel:"noopener noreferrer"},"changelog"),"."),r.a.createElement("p",{className:"small"},"Note that Plaain may ",r.a.createElement("span",{className:"bold"},"not")," be used to stream pirated content or publicly share your private media library. You may only connect to your private cloud storage.")));var n}}var Yt=Object(l.b)(e=>({auth:e.auth,settings:e.settings,movies:e.movies,shows:e.shows}),{authenticateMicrosoft:()=>(e,t)=>{e(C("Authenticating...")),e(Se(E.MICROSOFT)),(new A).perform().then(a=>{e(De(E.MICROSOFT,a)),e({type:"LOADING_STOP"}),t().indexing.lastIndexed||e(ye())}).catch(t=>{console.log(t),e(Le(E.MICROSOFT,t)),e({type:"LOADING_STOP"})})},index:ye,updateSettings:e=>({type:"SETTINGS_UPDATE",payload:e})})(Bt),Ht=a(115),Zt=a.n(Ht);a(452);class Xt extends s.Component{constructor(e){super(e),this.moviesIndex=new Zt.a,Object.values(this.props.movies).forEach(e=>{this.moviesIndex.add(e.id,"".concat(e.name,";").concat(e.overview))}),this.showsIndex=new Zt.a,Object.values(this.props.shows).forEach(e=>{this.showsIndex.add(e.id,"".concat(e.name,";").concat(e.overview))}),this.state={query:new URLSearchParams(this.props.location.search).get("q")||"",movies:[],shows:[]}}componentDidMount(){this.search(new URLSearchParams(this.props.location.search).get("q"))}search(e){this.setState({query:e||"",movies:this.moviesIndex.search(e||"").map(e=>this.props.movies[e]),shows:this.showsIndex.search(e||"").map(e=>this.props.shows[e])})}handleInputChange(e){this.props.history.replace("/app/find?q=".concat(e.target.value)),this.search(e.target.value)}render(){return r.a.createElement("div",{className:"Find"},r.a.createElement("form",null,r.a.createElement("input",{autoFocus:!0,value:this.state.query,placeholder:"Search your library",onChange:this.handleInputChange.bind(this)})),this.state.movies.length>0&&r.a.createElement("section",null,r.a.createElement("h2",null,"Movies"),r.a.createElement(ze,{items:this.state.movies,id:"movies"})),this.state.shows.length>0&&r.a.createElement("section",null,r.a.createElement("h2",null,"TV shows"),r.a.createElement(ze,{items:this.state.shows,id:"shows"})))}}var zt=Object(l.b)(e=>({movies:e.movies,shows:e.shows}))(Xt),Jt=(a(453),e=>r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height},r.a.createElement("path",{fill:"none",strokeMiterlimit:"10",d:"M2.5 26.5h4l4-6 8 20 10-32 8 26 6-8h4",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",stroke:"#ff2fc1",className:"unPUVPIZ_0"}),r.a.createElement("style",{"data-made-with":"vivus-instant"},".unPUVPIZ_0{stroke-dasharray:108 110;stroke-dashoffset:109;animation:unPUVPIZ_draw_0 750ms ease-in-out 0ms infinite,unPUVPIZ_fade 750ms linear 0ms infinite;}@keyframes unPUVPIZ_draw{100%{stroke-dashoffset:0;}}@keyframes unPUVPIZ_fade{0%{stroke-opacity:1;}100%{stroke-opacity:1;}100%{stroke-opacity:0;}}@keyframes unPUVPIZ_draw_0{0%{stroke-dashoffset: 109}66.66666666666666%{ stroke-dashoffset: 0;}100%{ stroke-dashoffset: 0;}}")));class Kt extends s.Component{render(){return r.a.createElement("div",{className:"Loading"},r.a.createElement("div",{className:"Loading__wrapper"},r.a.createElement(Jt,{width:48,height:48}),this.props.caption&&r.a.createElement("p",{className:"small"},this.props.caption)))}}var $t=Kt,Qt=(a(454),e=>r.a.createElement("svg",{height:e.height,width:e.width,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"popcorn"),r.a.createElement("g",{fill:"#ffffff"},r.a.createElement("polygon",{fill:"none",points:"21 7 3 7 5 23 19 23 21 7",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2"}),r.a.createElement("path",{d:"M19,5a3,3,0,0,0-3-3,2.97,2.97,0,0,0-1.47.4,2.986,2.986,0,0,0-5.06,0A2.97,2.97,0,0,0,8,2,3,3,0,0,0,5,5",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2"}),r.a.createElement("line",{fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2",x1:"9",x2:"8",y1:"23",y2:"7"}),r.a.createElement("line",{fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2",x1:"15",x2:"16",y1:"23",y2:"7"})))),ea=e=>r.a.createElement("svg",{height:e.height,width:e.width,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"movie 61"),r.a.createElement("g",{fill:"#ffffff"},r.a.createElement("line",{fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2",x1:"1",x2:"1",y1:"1",y2:"23"}),r.a.createElement("line",{fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2",x1:"23",x2:"23",y1:"1",y2:"23"}),r.a.createElement("rect",{height:"22",width:"14",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2",x:"5",y:"1"}),r.a.createElement("line",{fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2",x1:"1",x2:"23",y1:"12",y2:"12"}),r.a.createElement("line",{fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2",x1:"1",x2:"5",y1:"8",y2:"8"}),r.a.createElement("line",{fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2",x1:"1",x2:"5",y1:"4",y2:"4"}),r.a.createElement("line",{fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2",x1:"19",x2:"23",y1:"8",y2:"8"}),r.a.createElement("line",{fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2",x1:"19",x2:"23",y1:"4",y2:"4"}),r.a.createElement("line",{fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2",x1:"19",x2:"23",y1:"20",y2:"20"}),r.a.createElement("line",{fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2",x1:"19",x2:"23",y1:"16",y2:"16"}),r.a.createElement("line",{fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2",x1:"1",x2:"5",y1:"20",y2:"20"}),r.a.createElement("line",{fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2",x1:"1",x2:"5",y1:"16",y2:"16"}))),ta=e=>r.a.createElement("svg",{height:e.height,width:e.width,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"desktop screen"),r.a.createElement("g",{fill:"#ffffff"},r.a.createElement("line",{fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2",x1:"12",x2:"12",y1:"22",y2:"18"}),r.a.createElement("line",{fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2",x1:"6",x2:"18",y1:"22",y2:"22"}),r.a.createElement("rect",{height:"16",width:"22",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2",x:"1",y:"2"}))),aa=e=>r.a.createElement("svg",{height:e.height,width:e.width,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"settings gear"),r.a.createElement("g",{fill:"#ffffff",stroke:"#ffffff",strokeLinecap:"round",strokeWidth:"2"},r.a.createElement("circle",{cx:"12",cy:"12",fill:"none",r:"3"}),r.a.createElement("path",{d:"M20,12a8.049,8.049,0,0,0-.188-1.713l2.714-2.055-2-3.464L17.383,6.094a7.987,7.987,0,0,0-2.961-1.719L14,1H10L9.578,4.375A7.987,7.987,0,0,0,6.617,6.094L3.474,4.768l-2,3.464,2.714,2.055a7.9,7.9,0,0,0,0,3.426L1.474,15.768l2,3.464,3.143-1.326a7.987,7.987,0,0,0,2.961,1.719L10,23h4l.422-3.375a7.987,7.987,0,0,0,2.961-1.719l3.143,1.326,2-3.464-2.714-2.055A8.049,8.049,0,0,0,20,12Z",fill:"none",stroke:"#ffffff"})));class sa extends s.Component{render(){return r.a.createElement("div",{className:"Nav"},r.a.createElement(o.b,{to:"/app"},r.a.createElement(Qt,{width:24,height:24}),r.a.createElement("p",null,"For you")),r.a.createElement(o.b,{disabled:0===Object.entries(this.props.movies).length,to:"/app/movies"},r.a.createElement(ea,{width:24,height:24}),r.a.createElement("p",null,"Movies")),r.a.createElement(o.b,{disabled:0===Object.entries(this.props.shows).length,to:"/app/shows"},r.a.createElement(ta,{width:24,height:24}),r.a.createElement("p",null,"Shows")),r.a.createElement(o.b,{to:"/app/settings"},r.a.createElement(aa,{width:24,height:24}),r.a.createElement("p",null,"Settings")))}}var ra=Object(l.b)(e=>({movies:e.movies,shows:e.shows}))(sa);class na extends s.Component{constructor(e){super(e),new A}componentDidMount(){new Be(this.props.version,this.props.index).perform()||new Ge(this.props.automaticIndexing,this.props.lastIndexed,this.props.index).perform()}render(){return this.props.loading?r.a.createElement($t,{caption:this.props.loading}):r.a.createElement("div",{className:"App"},Gt()({auth:this.props.auth})&&r.a.createElement(c.a,{to:"".concat(this.props.match.path,"/settings")}),r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"".concat(this.props.match.path,"/"),exact:!0,component:et}),r.a.createElement(c.b,{path:"".concat(this.props.match.path,"/movies"),component:ot}),r.a.createElement(c.b,{path:"".concat(this.props.match.path,"/movie/:id"),exact:!0,component:Ot}),r.a.createElement(c.b,{path:"".concat(this.props.match.path,"/shows"),component:Nt}),r.a.createElement(c.b,{path:"".concat(this.props.match.path,"/show/:id"),exact:!0,component:It}),r.a.createElement(c.b,{path:"".concat(this.props.match.path,"/season/:id"),exact:!0,component:At}),r.a.createElement(c.b,{path:"".concat(this.props.match.path,"/person/:id"),exact:!0,component:Pt}),r.a.createElement(c.b,{path:"".concat(this.props.match.path,"/settings"),exact:!0,component:Yt}),r.a.createElement(c.b,{path:"".concat(this.props.match.path,"/find"),exact:!0,component:zt}),r.a.createElement(c.b,{component:lt})),r.a.createElement(ra,null))}}var ia=Object(l.b)(e=>({loading:e.loading,version:e.version,auth:e.auth,lastIndexed:e.indexing.lastIndexed,automaticIndexing:e.settings.automaticIndexing}),{index:ye})(na);a(455);class oa extends s.Component{render(){return r.a.createElement("div",{className:"Welcome"},r.a.createElement("h1",null,"Your movies & TV shows. Anywhere."),r.a.createElement("div",{className:"Welcome__details"},r.a.createElement("h3",null,"Plaain lets you stream and maintain your media library from anywhere. No server needed, no fee required."),r.a.createElement(o.b,{to:"/app",className:"button primary"},"Launch"),r.a.createElement("a",{href:"https://github.com/jonhue/plaain#getting-started",target:"_blank",rel:"noopener noreferrer",className:"button"},"How it works")))}}var ca=oa;class la extends s.Component{componentDidUpdate(e){this.props.location!==e.location&&window.scrollTo(0,0)}render(){return this.props.children}}var pa=Object(c.g)(la);a(456);i.a.render(r.a.createElement(l.a,{store:Fe},r.a.createElement(Re.a,{loading:r.a.createElement($t,{caption:"Loading..."}),persistor:Object(m.b)(Fe)},r.a.createElement(o.a,{basename:"/plaain"},r.a.createElement(pa,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/",exact:!0,component:ca}),r.a.createElement(c.b,{path:"/app",component:ia}),r.a.createElement(c.b,{component:lt})))))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/plaain",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="".concat("/plaain","/service-worker.js");qe?(!function(e,t){fetch(e).then(a=>{const s=a.headers.get("content-type");404===a.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):Ve(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Ve(t,e)})}}()}},[[196,1,2]]]);
//# sourceMappingURL=main.d96d08ab.chunk.js.map