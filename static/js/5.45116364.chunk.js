(this.webpackJsonpplaain=this.webpackJsonpplaain||[]).push([[5],{170:function(e,t,c){},172:function(e,t,c){},174:function(e,t,c){},175:function(e,t,c){},176:function(e,t,c){},177:function(e,t,c){},178:function(e,t,c){},179:function(e,t,c){},186:function(e,t,c){},187:function(e,t,c){},188:function(e,t,c){},189:function(e,t,c){},190:function(e,t,c){},191:function(e,t,c){},192:function(e,t,c){},193:function(e,t,c){},194:function(e,t,c){},195:function(e,t,c){},196:function(e,t,c){},197:function(e,t,c){},198:function(e,t,c){},199:function(e,t,c){},200:function(e,t,c){},201:function(e,t,c){},202:function(e,t,c){},203:function(e,t,c){},204:function(e,t,c){},205:function(e,t,c){},206:function(e,t,c){},213:function(e,t,c){"use strict";c.r(t);c(170);var s=c(4),n=c(0),i=c(110),r=c.n(i),a=c(111),o=c(113),j=(c(172),c(173)),l=c.n(j),b=c(112),d=c(114),u=(c(174),c(145),c(14)),h=(c(175),c(1)),O=function(e){var t=e.url,c=e.alt;return Object(h.jsx)("img",{className:"Cover",src:t,alt:c})},x=c(25),m=c(168),v=c(108),p=function(e){var t=e.id,c=e.items,s=Object(v.a)().t;return Object(n.useEffect)((function(){new m.a(".HorizontalSlide#".concat(t," .swiper-container"),{spaceBetween:15,slidesPerView:"auto",slidesOffsetBefore:20,slidesOffsetAfter:20,grabCursor:!0})}),[t]),Object(h.jsx)("div",{className:"HorizontalSlide",id:t,children:Object(h.jsx)("div",{className:"swiper-container",children:Object(h.jsx)("div",{className:"swiper-wrapper",children:c.length>0?c.map((function(e,t){return Object(h.jsx)("div",{className:"swiper-slide",children:Object(h.jsx)(x.b,{to:Object(u.e)(e),children:Object(h.jsx)(O,{url:Object(u.c)(e.posterPath),alt:e.title})})},t)})):Object(h.jsx)("div",{className:"swiper-slide",children:Object(h.jsx)("h3",{children:s("Nothing found.")})})})})})},f=c(148),w=c(23),y=function(e,t){var c=l.a.create();return e.forEach((function(e){var s=e.id;c.add(s,t(e))})),c},g=function(e){var t=e.query,c=Object(v.a)().t,i=Object(s.g)(),j=Object(w.c)((function(e){return{movies:e.movies,shows:e.shows}})),l=j.movies,O=j.shows,x=Object(n.useState)(t||""),m=Object(o.a)(x,2),g=m[0],N=m[1],_=Object(n.useMemo)((function(){return y(Object(b.e)(l),(function(e){return"".concat(e.title,";").concat(e.summary)}))}),[l]),k=Object(n.useMemo)((function(){return y(Object(d.b)(O),(function(e){return"".concat(e.title,";").concat(e.summary)}))}),[O]),P=Object(f.useAsyncMemo)(Object(a.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.search(g);case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return Object(b.b)(e)(l)})).filter(u.k));case 4:case"end":return e.stop()}}),e)}))),[_,g]),S=Object(f.useAsyncMemo)(Object(a.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.search(g);case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return Object(d.a)(e)(O)})).filter(u.k));case 4:case"end":return e.stop()}}),e)}))),[k,g]),C=Object(n.useCallback)((function(e){i.replace("/app/find?".concat("q","=").concat(e.target.value)),N(e.target.value)}),[i,N]);return Object(h.jsxs)("div",{className:"Find",children:[Object(h.jsx)("form",{children:Object(h.jsx)("input",{autoFocus:!0,value:g,placeholder:c("Search your library"),onChange:C})}),P&&Object.keys(P).length>0&&Object(h.jsxs)("section",{children:[Object(h.jsx)("h2",{children:c("Movies")}),Object(h.jsx)(p,{items:P,id:"movies"})]}),S&&Object.keys(S).length>0&&Object(h.jsxs)("section",{children:[Object(h.jsx)("h2",{children:c("TV shows")}),Object(h.jsx)(p,{items:S,id:"shows"})]})]})},N=function(){var e=Object(s.h)(),t=Object(n.useMemo)((function(){return new URLSearchParams(e.search).get("q")}),[e]);return Object(h.jsx)(g,{query:t})},_=c(59),k=c(119),P=c(7),S=c(125),C=Object(S.a)([function(e){return Object(b.a)(e.movies)},function(e){return Object(k.a)(e.seasons)}],(function(e,t){return[].concat(Object(_.a)(e),Object(_.a)(t))})),M=Object(S.a)([function(e){return Object(b.f)(e.movies)},function(e){return Object(k.b)(e.seasons)}],(function(e,t){return[].concat(Object(_.a)(e),Object(_.a)(t))})),A=(c(176),function(e){var t=e.onIndex,c=Object(v.a)().t;return Object(h.jsxs)("div",{className:"Authenticated",children:[Object(h.jsx)("h2",{children:c("Get started")}),Object(h.jsx)("p",{children:c("You signed into a cloud service, but we didn't find any movies or TV shows.")}),Object(h.jsx)("p",{children:c("It's likely that you just have to move some of your files around and create some folders to make it work.")}),Object(h.jsx)("p",{children:c("Reference the getting started guide to learn how to organize your files so that Plaain finds them. After you're done, just re-index.")}),Object(h.jsxs)("div",{className:"Authenticated__buttons",children:[Object(h.jsx)("a",{className:"button primary",href:"https://github.com/jonhue/plaain#getting-started",target:"_blank",rel:"noopener noreferrer",children:c("Getting started")}),Object(h.jsx)("button",{onClick:t,children:c("Index")})]})]})}),D=(c(177),function(e){var t=e.inProgress,c=e.recentlyWatched,s=Object(v.a)().t;return Object(h.jsxs)("div",{className:"ForYou",children:[t.length>0&&Object(h.jsxs)("section",{children:[Object(h.jsx)("h2",{children:s("Continue watching")}),Object(h.jsx)(p,{items:t,id:"inProgress"})]}),c.length>0&&Object(h.jsxs)("section",{children:[Object(h.jsx)("h2",{children:s("Recently watched")}),Object(h.jsx)(p,{items:c,id:"recentlyWatched"})]})]})}),I=(c(178),function(e){var t=e.movies,c=e.shows,s=Object(v.a)().t;return Object(h.jsxs)("div",{className:"Setup",children:[Object(h.jsx)("h2",{children:s("Get started")}),Object(h.jsx)("p",{children:s("Here, you'll be able to find your recently watched movie or the show you didn't finish yet.")}),Object(h.jsxs)("div",{className:"Setup__buttons",children:[t.length>0&&Object(h.jsx)(x.b,{to:"/app/movies",className:"button",children:s("Discover your movies")}),c.length>0&&Object(h.jsx)(x.b,{to:"/app/shows",className:"button",children:s("Discover your shows")})]})]})}),E=(c(179),c(77)),F=function(){var e=Object(v.a)().t;return Object(h.jsxs)("div",{className:"Unauthenticated",children:[Object(h.jsx)("h2",{children:e("Get started")}),Object(h.jsx)("p",{children:e("To watch your movies and TV shows, you first have to sign in with the cloud service that hosts your media.")}),Object(h.jsx)(x.b,{to:"/app/settings",className:"button",children:e("Authenticate")}),Object(h.jsx)("p",{className:"small",children:Object(h.jsxs)(E.a,{children:["Note that Plaain may ",Object(h.jsx)("span",{className:"bold",children:"not"})," be used to stream pirated content or publicly share your private media library. You may only connect to your private cloud storage."]})})]})},U=c(142),V=c(143),L=c(128),T=function(){var e=Object(w.b)(),t=Object(w.c)((function(e){return{inProgress:Object(u.m)(C(e)),movies:Object(b.e)(e.movies),providers:Object(L.b)(e.auth),recentlyWatched:Object(u.m)(M(e)),shows:Object(d.b)(e.shows)}})),c=t.inProgress,s=t.movies,i=t.providers,r=t.recentlyWatched,a=t.shows,o=Object(n.useCallback)((function(){e(Object(V.a)(Object(U.b)(i)))}),[e,i]);return c.length>0||r.length>0?Object(h.jsx)(D,{inProgress:c,recentlyWatched:r}):0===i.length?Object(h.jsx)(F,{}):0===s.length&&0===a.length?Object(h.jsx)(A,{onIndex:o}):Object(h.jsx)(I,{movies:s,shows:a})},W=(c(186),c(187),function(e){var t=e.url;return Object(h.jsx)("picture",{className:"Backdrop",children:Object(h.jsx)("img",{src:t,alt:"backdrop"})})}),R=function(e){var t=e.files,c=Object(v.a)().t;return Object(h.jsxs)("div",{className:"FileList",children:[t.map((function(e,t){return Object(h.jsx)("p",{className:"small",children:e.name},t)})),0===t.length&&Object(h.jsx)("p",{className:"small",children:c("None")})]})},Y=(c(188),function(e){var t=e.people,c=e.details,s=Object(v.a)().t,i=Object(n.useState)(!0),r=Object(o.a)(i,2),a=r[0],j=r[1],l=Object(n.useCallback)((function(){return j((function(e){return!e}))}),[j]),b=Object(n.useMemo)((function(){return t.slice(0,a?10:t.length)}),[a,t]);return Object(h.jsxs)("div",{className:"PersonList",children:[t.length>0?b.map((function(e,t){return Object(h.jsxs)("p",{children:[Object(h.jsx)(x.b,{to:Object(u.e)(e),children:e.name})," \xb7"," ",Object(h.jsx)("span",{children:c(e)})]},t)})):Object(h.jsx)("p",{children:s("None")}),t.length>10&&Object(h.jsx)("span",{onClick:l,children:s(a?"Show more":"Show less")})]})}),G=c(56),B=c.n(G),z=function(e){var t=e.movie,c=Object(v.a)().t,i=Object(s.g)(),r=Object(n.useCallback)((function(){i.push("/player?id=".concat(t.id,"&type=").concat(t.kind,"&s=").concat(t.usage.progress))}),[i,t]),a=Object(n.useCallback)((function(){i.push("/player?id=".concat(t.id,"&type=").concat(t.kind))}),[i,t]);return Object(h.jsxs)("div",{className:"Movie",children:[Object(h.jsx)(W,{url:Object(u.a)(t.backdropPath)}),Object(h.jsxs)("div",{className:"Movie__details",children:[Object(h.jsx)(O,{url:Object(u.c)(t.posterPath),alt:"poster"}),Object(h.jsx)("h1",{children:t.title}),Object(h.jsxs)("div",{className:"Movie__information",children:[Object(h.jsx)("p",{className:"small",children:new Date(t.releaseDate).getFullYear()}),t.duration&&Object(h.jsx)("p",{className:"small",children:Object(u.o)(c,t.duration)})]}),Object(h.jsxs)("div",{className:"Movie__actions",children:[Object(u.j)(t)&&Object(h.jsx)("button",{className:"primary",onClick:r,disabled:0===t.sources.length,children:c("Continue")}),Object(h.jsx)("button",{className:B()({primary:!Object(u.j)(t)}),onClick:a,disabled:0===t.sources.length,children:c("Watch")}),Object(h.jsx)("a",{className:"button",href:t.trailerUrl,target:"_blank",rel:"noopener noreferrer",children:c("Play trailer")})]}),Object(h.jsx)("p",{className:"Movie__overview",children:t.summary}),Object(h.jsxs)("div",{className:"Movie__people",children:[Object(h.jsxs)("div",{className:"Movie__people__cast",children:[Object(h.jsx)("h4",{children:c("Starring")}),Object(h.jsx)(Y,{people:t.cast,details:function(e){return e.character}})]}),Object(h.jsxs)("div",{className:"Movie__people__crew",children:[Object(h.jsx)("h4",{children:c("Crew")}),Object(h.jsx)(Y,{people:t.crew,details:function(e){return e.job}})]})]})]}),Object(h.jsx)("div",{className:"Movie__sources",children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h4",{children:c("Sources")}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"Movie__sources__versions",children:[Object(h.jsx)("h5",{children:c("Versions")}),Object(h.jsx)(R,{files:t.sources})]}),Object(h.jsxs)("div",{className:"Movie__sources__captions",children:[Object(h.jsx)("h5",{children:c("Subtitles")}),Object(h.jsx)(R,{files:t.captions})]})]})]})})]})},H=c(57),q=function(e){var t=e.match,c=Object(w.c)((function(e){return Object(b.b)(t.params.id)(e.movies)}));return void 0!==c?Object(h.jsx)(z,{movie:c}):Object(h.jsx)(H.a,{})},Z=(c(189),c(190),function(e){var t=e.items,c=Object(v.a)().t;return Object(h.jsx)("div",{className:"ItemGrid",children:t.length>0?t.map((function(e,t){return Object(h.jsx)("div",{className:"ItemGrid__item",children:Object(h.jsx)(x.b,{to:Object(u.e)(e),children:Object(h.jsx)(O,{url:Object(u.c)(e.posterPath),alt:e.title})})},t)})):Object(h.jsx)("div",{className:"ItemGrid__item",children:Object(h.jsx)("h3",{children:c("Nothing found.")})})})}),J=(c(191),function(e){var t=e.id,c=e.items,s=e.path,i=Object(v.a)().t;return Object(n.useEffect)((function(){new m.a(".VerticalSlide#".concat(t," .swiper-container"),{direction:"vertical",slidesPerView:"auto",grabCursor:!0,effect:"coverflow",coverflowEffect:{rotate:0,stretch:425,depth:150,modifier:1,slideShadows:!1},history:{replaceState:!0,key:s}})}),[t,s]),Object(h.jsx)("div",{className:"VerticalSlide",id:t,children:Object(h.jsx)("div",{className:"swiper-container",children:Object(h.jsx)("div",{className:"swiper-wrapper",children:c.length>0?c.map((function(e,t){return Object(h.jsx)("div",{className:"swiper-slide","data-history":e.id,children:Object(h.jsx)(x.b,{to:Object(u.e)(e),children:Object(h.jsx)(O,{url:Object(u.c)(e.posterPath),alt:e.title})})},t)})):Object(h.jsx)("div",{className:"swiper-slide",children:Object(h.jsx)("h3",{children:i("Nothing found.")})})})})})}),K=c(26),Q=function(e){var t=e.color;return Object(h.jsxs)(K.a,{className:"zoom",width:24,height:24,children:[Object(h.jsx)("title",{children:"zoom"}),Object(h.jsxs)("g",{fill:t,children:[Object(h.jsx)("line",{fill:"none",stroke:t,x1:"22",x2:"15.656",y1:"22",y2:"15.656"}),Object(h.jsx)("circle",{cx:"10",cy:"10",fill:"none",r:"8",stroke:t})]})]})},X=c(35),$=c.n(X),ee=function(e){var t=e.movies;return Object(h.jsxs)("div",{className:"Movies",children:[Object(h.jsx)("div",{className:"Movies__find",children:Object(h.jsx)(x.b,{to:"/app/find",children:Object(h.jsx)(Q,{color:$.a.white})})}),window.innerWidth<Number.parseInt($.a.brPhone)?Object(h.jsx)(J,{items:t,path:"movies",id:"movies"}):Object(h.jsx)(Z,{items:t})]})},te=function(){var e=Object(w.c)((function(e){return Object(u.l)(Object(b.e)(e.movies),(function(e){return e.title}))}));return e.length>0?Object(h.jsx)(ee,{movies:e}):Object(h.jsx)(s.a,{to:"/app"})},ce=(c(192),function(e){var t=e.color;return Object(h.jsxs)(K.a,{className:"settings-gear",width:24,height:24,children:[Object(h.jsx)("title",{children:"settings gear"}),Object(h.jsxs)("g",{fill:t,stroke:t,children:[Object(h.jsx)("circle",{cx:"12",cy:"12",fill:"none",r:"3"}),Object(h.jsx)("path",{d:"M20,12a8.049,8.049,0,0,0-.188-1.713l2.714-2.055-2-3.464L17.383,6.094a7.987,7.987,0,0,0-2.961-1.719L14,1H10L9.578,4.375A7.987,7.987,0,0,0,6.617,6.094L3.474,4.768l-2,3.464,2.714,2.055a7.9,7.9,0,0,0,0,3.426L1.474,15.768l2,3.464,3.143-1.326a7.987,7.987,0,0,0,2.961,1.719L10,23h4l.422-3.375a7.987,7.987,0,0,0,2.961-1.719l3.143,1.326,2-3.464-2.714-2.055A8.049,8.049,0,0,0,20,12Z",fill:"none",stroke:t})]})]})}),se=function(e){var t=e.color;return Object(h.jsxs)(K.a,{className:"movie-61",width:24,height:24,children:[Object(h.jsx)("title",{children:"movie 61"}),Object(h.jsxs)("g",{fill:t,children:[Object(h.jsx)("line",{fill:"none",stroke:t,x1:"1",x2:"1",y1:"1",y2:"23"}),Object(h.jsx)("line",{fill:"none",stroke:t,x1:"23",x2:"23",y1:"1",y2:"23"}),Object(h.jsx)("rect",{height:"22",width:"14",fill:"none",stroke:t,x:"5",y:"1"}),Object(h.jsx)("line",{fill:"none",stroke:t,x1:"1",x2:"23",y1:"12",y2:"12"}),Object(h.jsx)("line",{fill:"none",stroke:t,x1:"1",x2:"5",y1:"8",y2:"8"}),Object(h.jsx)("line",{fill:"none",stroke:t,x1:"1",x2:"5",y1:"4",y2:"4"}),Object(h.jsx)("line",{fill:"none",stroke:t,x1:"19",x2:"23",y1:"8",y2:"8"}),Object(h.jsx)("line",{fill:"none",stroke:t,x1:"19",x2:"23",y1:"4",y2:"4"}),Object(h.jsx)("line",{fill:"none",stroke:t,x1:"19",x2:"23",y1:"20",y2:"20"}),Object(h.jsx)("line",{fill:"none",stroke:t,x1:"19",x2:"23",y1:"16",y2:"16"}),Object(h.jsx)("line",{fill:"none",stroke:t,x1:"1",x2:"5",y1:"20",y2:"20"}),Object(h.jsx)("line",{fill:"none",stroke:t,x1:"1",x2:"5",y1:"16",y2:"16"})]})]})},ne=function(e){var t=e.color;return Object(h.jsxs)(K.a,{className:"popcorn",width:24,height:24,children:[Object(h.jsx)("title",{children:"popcorn"}),Object(h.jsxs)("g",{fill:t,children:[Object(h.jsx)("polygon",{fill:"none",points:"21 7 3 7 5 23 19 23 21 7",stroke:t}),Object(h.jsx)("path",{d:"M19,5a3,3,0,0,0-3-3,2.97,2.97,0,0,0-1.47.4,2.986,2.986,0,0,0-5.06,0A2.97,2.97,0,0,0,8,2,3,3,0,0,0,5,5",fill:"none",stroke:t}),Object(h.jsx)("line",{fill:"none",stroke:t,x1:"9",x2:"8",y1:"23",y2:"7"}),Object(h.jsx)("line",{fill:"none",stroke:t,x1:"15",x2:"16",y1:"23",y2:"7"})]})]})},ie=function(e){var t=e.color;return Object(h.jsxs)(K.a,{className:"desktop-screen",width:24,height:24,children:[Object(h.jsx)("title",{children:"desktop screen"}),Object(h.jsxs)("g",{fill:t,children:[Object(h.jsx)("line",{fill:"none",stroke:t,x1:"12",x2:"12",y1:"22",y2:"18"}),Object(h.jsx)("line",{fill:"none",stroke:t,x1:"6",x2:"18",y1:"22",y2:"22"}),Object(h.jsx)("rect",{height:"16",width:"22",fill:"none",stroke:t,x:"1",y:"2"})]})]})},re=(c(193),function(e){var t=e.children,c=e.to,n=e.exact,i=e.disabled,r=Object(s.h)(),a=!!Object(s.f)(r.pathname,{path:c,exact:n});return Object(h.jsx)(x.b,{className:B()("Tab",{active:a,disabled:i}),to:c,children:t})}),ae=function(e){var t=e.moviesDisabled,c=e.showsDisabled;return Object(h.jsxs)("div",{className:"Nav",children:[Object(h.jsxs)(re,{to:"/app",exact:!0,children:[Object(h.jsx)(ne,{color:$.a.white}),Object(h.jsx)("p",{children:"For you"})]}),Object(h.jsxs)(re,{disabled:t,to:"/app/movies",children:[Object(h.jsx)(se,{color:$.a.white}),Object(h.jsx)("p",{children:"Movies"})]}),Object(h.jsxs)(re,{disabled:c,to:"/app/shows",children:[Object(h.jsx)(ie,{color:$.a.white}),Object(h.jsx)("p",{children:"Shows"})]}),Object(h.jsxs)(re,{to:"/app/settings",children:[Object(h.jsx)(ce,{color:$.a.white}),Object(h.jsx)("p",{children:"Settings"})]})]})},oe=(c(194),function(e){var t=e.person,c=e.movies,s=e.seasons,i=Object(v.a)().t,r=Object(n.useMemo)((function(){return c.length>0?c[0].backdropPath:s.length>0?s[0].showBackdropPath:void 0}),[c,s]);return Object(h.jsxs)("div",{className:"Person",children:[Object(h.jsx)(W,{url:Object(u.a)(r)}),Object(h.jsxs)("div",{className:"Person__details",children:[Object(h.jsx)(O,{url:Object(u.c)(t.profilePath),alt:"profile"}),Object(h.jsx)("h1",{children:t.name}),Object(h.jsx)("h5",{children:i("Known as")}),Object(h.jsx)("p",{children:t.jobs.join(", ")})]}),c.length>0&&Object(h.jsxs)("div",{className:"Person__movies",children:[Object(h.jsx)("h2",{children:i("Movies")}),Object(h.jsx)(p,{items:c,id:"movies"})]}),s.length>0&&Object(h.jsxs)("div",{className:"Person__seasons",children:[Object(h.jsx)("h2",{children:i("TV seasons")}),Object(h.jsx)(p,{items:s,id:"seasons"})]})]})}),je=function(e){var t=e.match,c=Object(w.c)((function(e){return(c=t.params.id,Object(S.a)([function(e){var t=e.movies;return Object(b.d)(c,(function(e){return e.cast}))(t)},function(e){var t=e.movies;return Object(b.d)(c,(function(e){return e.crew}))(t)},function(e){var t=e.seasons;return Object(k.f)(c,(function(e){return e.cast}))(t)},function(e){var t=e.seasons;return Object(k.f)(c,(function(e){return e.crew}))(t)}],(function(e,t,s,n){return[].concat(Object(_.a)(e),Object(_.a)(t),Object(_.a)(s),Object(_.a)(n)).reduce((function(e,t){return{kind:P.a.Person,id:c,tmdbId:t.tmdbId,name:t.name,gender:t.gender,profilePath:t.profilePath,jobs:void 0!==e?Object(_.a)(new Set([].concat(Object(_.a)(e.jobs),[t.job]))):[t.job]}}),void 0)})))(e);var c})),s=Object(w.c)((function(e){return{involvedMovies:c&&Object(b.c)(c.id)(e.movies),involvedSeasons:c&&Object(k.d)(c.id)(e.seasons)}})),n=s.involvedMovies,i=s.involvedSeasons;return void 0!==c&&void 0!==n&&void 0!==i?Object(h.jsx)(oe,{person:c,movies:n,seasons:i}):Object(h.jsx)(H.a,{})},le=(c(195),c(196),function(e){var t=e.episode,c=e.onClick,s=Object(v.a)().t;return Object(h.jsxs)("div",{className:B()("EpisodeEntry",{disabled:0===t.sources.length}),onClick:c,children:[Object(h.jsx)("div",{className:"EpisodeEntry__number",children:t.number}),Object(h.jsxs)("div",{className:"EpisodeEntry__details",children:[Object(h.jsx)("h2",{children:t.title}),Object(h.jsxs)("p",{className:"small",children:[s("Aired")," ",new Date(t.airDate).toDateString()]}),Object(h.jsx)("p",{children:t.summary})]})]})}),be=function(e){var t=e.show,c=e.season,i=e.episodes,r=e.currentEpisode,a=Object(v.a)().t,j=Object(s.g)(),l=Object(n.useState)(!1),b=Object(o.a)(l,2),d=b[0],x=b[1],m=Object(n.useCallback)((function(){return x((function(e){return!e}))}),[x]),p=Object(n.useCallback)((function(e){return function(){j.push("/player?id=".concat(e.id,"&type=").concat(e.kind,"&s=").concat(e.usage.progress))}}),[j]),f=Object(n.useCallback)((function(e){return function(){var t=i.find((function(t){return t.number===e}));j.push("/player?id=".concat(t.id,"&type=").concat(t.kind))}}),[i,j]);return Object(h.jsxs)("div",{className:"Season",children:[Object(h.jsx)(W,{url:Object(u.a)(c.showBackdropPath)}),Object(h.jsxs)("div",{className:"Season__details",children:[Object(h.jsx)(O,{url:Object(u.c)(c.posterPath),alt:"poster"}),Object(h.jsxs)("h1",{children:[a("Season")," ",c.number]}),Object(h.jsxs)("div",{className:"Season__information",children:[Object(h.jsx)("p",{className:"small",children:t.title}),Object(h.jsx)("p",{className:"small",children:new Date(c.airDate).getFullYear()})]}),Object(h.jsxs)("div",{className:"Season__actions",children:[void 0!==r&&Object(h.jsxs)("button",{className:"primary",onClick:p(r),disabled:0===r.sources.length,children:[a("Continue episode")," ",r.number]}),i.length>0&&Object(h.jsx)("button",{className:B()({primary:void 0===r}),onClick:f(0),disabled:0===i[0].sources.length,children:a("Watch")}),Object(h.jsx)("a",{className:"button",id:"trailer",href:c.trailerUrl,target:"_blank",rel:"noopener noreferrer",children:a("Play trailer")})]}),Object(h.jsxs)("div",{className:"Season__episodes",children:[Object(h.jsx)("div",{className:B()("Season__episodes__list",{shown:d}),children:i.slice(0,d?i.length:0).map((function(e,t){return Object(h.jsx)(le,{episode:e,onClick:f(e.number)},t)}))}),i.length>0&&Object(h.jsx)("div",{className:"Season__episodes__toggle",onClick:m,children:a(d?"Hide episodes":"Show all episodes")})]}),Object(h.jsx)("p",{className:"Season__overview",children:c.summary}),Object(h.jsxs)("div",{className:"Season__people",children:[Object(h.jsxs)("div",{className:"Season__people__cast",children:[Object(h.jsx)("h4",{children:a("Starring")}),Object(h.jsx)(Y,{people:c.cast,details:function(e){return e.character}})]}),Object(h.jsxs)("div",{className:"Season__people__crew",children:[Object(h.jsx)("h4",{children:a("Crew")}),Object(h.jsx)(Y,{people:c.crew,details:function(e){return e.job}})]})]})]})]})},de=c(136),ue=function(e){var t=e.match,c=Object(w.c)((function(e){return Object(k.c)(t.params.id)(e.seasons)})),s=Object(w.c)((function(e){return{show:c&&Object(d.a)(c.showId)(e.shows),seasonEpisodes:c&&Object(u.n)(Object(de.b)(c.id)(e.episodes),(function(e){return e.number}))}})),i=s.show,r=s.seasonEpisodes,a=Object(n.useMemo)((function(){if(void 0!==c&&void 0!==r)return r.find((function(e){return e.number===c.usage.progress}))}),[c,r]);return void 0!==i&&void 0!==c&&void 0!==r?Object(h.jsx)(be,{show:i,season:c,episodes:r,currentEpisode:a}):Object(h.jsx)(H.a,{})},he=c(5),Oe=c(2),xe=(c(197),function(e){var t=e.color;return Object(h.jsxs)(K.a,{className:"e-add",width:32,height:32,children:[Object(h.jsx)("title",{children:"e add"}),Object(h.jsxs)("g",{fill:t,stroke:t,children:[Object(h.jsx)("line",{fill:"none",stroke:t,x1:"16",x2:"16",y1:"2",y2:"30"}),Object(h.jsx)("line",{fill:"none",stroke:t,x1:"30",x2:"2",y1:"16",y2:"16"})]})]})}),me=(c(198),c(199),c(29)),ve=(c(200),function(e){var t=e.className,c=e.icon,s=e.onClick;return Object(h.jsx)("div",{className:"ProviderButton",children:Object(h.jsx)("button",{className:t,onClick:s,children:c})})}),pe=function(e){var t=e.onChoose,c=Object(v.a)().t,s=Object(n.useCallback)((function(e){return function(){return t(e)}}),[t]);return Object(h.jsxs)("div",{className:"ChooseProvider",children:[Object(h.jsx)("h2",{children:c("Add a provider")}),Object(h.jsx)("p",{children:c("Select which service you want to use to stream your movies & shows.")}),Object(h.jsx)("div",{className:"ChooseProvider__providers",children:me.a.map((function(e,t){return Object(h.jsx)(ve,{icon:Object(u.f)(e,$.a.white),onClick:s(e)},t)}))})]})},fe=(c(201),c(211)),we=function(e){var t=e.isActive,c=e.onClose,s=e.children,i=Object(n.useRef)(null);return Object(fe.a)(i,c),Object(h.jsx)("div",{className:B()("Modal",{active:t}),children:Object(h.jsx)("div",{className:"Modal__wrapper",ref:i,children:s})})},ye=(c(202),c(203),function(e){var t=e.color;return Object(h.jsxs)(K.a,{className:"c-check",width:24,height:24,children:[Object(h.jsx)("title",{children:"c check"}),Object(h.jsx)("g",{fill:t,children:Object(h.jsx)("path",{d:"M12,0A12,12,0,1,0,24,12,12.035,12.035,0,0,0,12,0ZM10,17.414,4.586,12,6,10.586l4,4,8-8L19.414,8Z",fill:t})})]})}),ge=function(e){var t=e.submitCaption,c=e.provider,s=e.onSubmit,i=Object(v.a)().t,r=Object(n.useMemo)((function(){return{moviesPath:null===c||void 0===c?void 0:c.moviesPath,showsPath:null===c||void 0===c?void 0:c.showsPath}}),[c]),a=Object(n.useState)(r),j=Object(o.a)(a,2),l=j[0],b=j[1],d=Object(n.useCallback)((function(e){var t=e.currentTarget;b((function(e){return Object(Oe.a)(Object(Oe.a)({},e),{},Object(he.a)({},t.name,""===t.value?void 0:t.value))}))}),[b]),u=Object(n.useCallback)((function(e){e.preventDefault(),s(l.moviesPath,l.showsPath)}),[s,l]),O=Object(n.useCallback)((function(e){return void 0!==e}),[]),x=Object(n.useCallback)((function(e){return void 0!==e&&e.startsWith("/")}),[]),m=Object(n.useMemo)((function(){return(!O(l.moviesPath)||x(l.moviesPath))&&(!O(l.showsPath)||x(l.showsPath))}),[O,x,l]);return Object(n.useEffect)((function(){b(r)}),[r,b]),Object(h.jsxs)("form",{className:"ProviderForm",onSubmit:u,children:[Object(h.jsxs)("label",{children:[i("Movies path"),Object(h.jsx)("p",{className:"small",children:i("The path from your home directory to where you keep your movies.")}),Object(h.jsxs)("div",{className:B()("ProviderForm__input",{setup:O(l.moviesPath),valid:x(l.moviesPath)}),children:[Object(h.jsx)("input",{type:"text",name:"moviesPath",value:l.moviesPath||"",placeholder:"/Plaain/movies",onChange:d}),Object(h.jsx)(ye,{color:$.a.white})]})]}),Object(h.jsxs)("label",{children:[i("Shows path"),Object(h.jsx)("p",{className:"small",children:i("The path from your home directory to where you keep your shows.")}),Object(h.jsxs)("div",{className:B()("ProviderForm__input",{setup:O(l.showsPath),valid:x(l.showsPath)}),children:[Object(h.jsx)("input",{type:"text",name:"showsPath",value:l.showsPath||"",placeholder:"/Plaain/shows",onChange:d}),Object(h.jsx)(ye,{color:$.a.white})]})]}),Object(h.jsx)("div",{className:"ProviderForm__actions",children:Object(h.jsx)("button",{type:"submit",disabled:!m,children:t})})]})},Ne=function(e){var t=e.onSetup,c=Object(v.a)().t;return Object(h.jsxs)("div",{className:"SetupProvider",children:[Object(h.jsx)("h2",{children:c("Setup your provider")}),Object(h.jsx)("p",{children:c("All that's left is to tell Plaain where to look for your movies and shows. You can always skip this step and come back later.")}),Object(h.jsx)(ge,{submitCaption:c("Complete"),onSubmit:t})]})},_e=function(e){var t=e.isActive,c=e.onClose,s=e.onSetupAuth,i=e.onAddProvider,j=Object(n.useState)(),l=Object(o.a)(j,2),b=l[0],d=l[1],u=Object(n.useCallback)(function(){var e=Object(a.a)(r.a.mark((function e(t){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:c=e.sent,d(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[d,s]),O=Object(n.useCallback)((function(e,t){if(void 0!==b){var s=Object(Oe.a)(Object(Oe.a)({},b),{},{moviesPath:e,showsPath:t});i(s),c()}}),[b,i,c]);return Object(h.jsx)("div",{className:"AddProviderModal",children:Object(h.jsx)(we,{isActive:t,onClose:c,children:void 0===b?Object(h.jsx)(pe,{onChoose:u}):Object(h.jsx)(Ne,{onSetup:O})})})},ke=(c(204),function(e){var t=e.isActive,c=e.provider,s=e.onClose,i=e.onUpdateProvider,r=e.onRemoveProvider,a=Object(v.a)().t,o=Object(n.useCallback)((function(e,t){i(Object(Oe.a)(Object(Oe.a)({},c),{},{moviesPath:e,showsPath:t})),s()}),[s,i,c]),j=Object(n.useCallback)((function(){window.confirm(a("Are you sure?"))&&(r(),s())}),[s,r,a]);return Object(h.jsx)("div",{className:"UpdateProviderModal",children:Object(h.jsxs)(we,{isActive:t,onClose:s,children:[Object(h.jsx)("h2",{children:Object(u.g)(c.kind)}),Object(h.jsx)("p",{children:c.name}),Object(h.jsx)(ge,{submitCaption:a("Update"),provider:c,onSubmit:o}),Object(h.jsx)("button",{className:"secondary",onClick:j,children:a("Remove")})]})})}),Pe=c(30),Se=function(e){var t=e.providers,c=e.onSetupAuth,s=e.onAddProvider,i=e.onUpdateProvider,r=e.onRemoveProvider,a=e.onIndex,j=e.onFetchMetadataAll,l=Object(v.a)().t,b=Object(n.useState)(!1),d=Object(o.a)(b,2),O=d[0],x=d[1],m=Object(n.useState)(t.reduce((function(e,t,c){return Object(Oe.a)(Object(Oe.a)({},e),{},Object(he.a)({},c,!1))}),{})),p=Object(o.a)(m,2),f=p[0],w=p[1],y=Object(n.useCallback)((function(e){return function(){return w((function(t){return Object(Oe.a)(Object(Oe.a)({},t),{},Object(he.a)({},e,!0))}))}}),[w]),g=Object(n.useCallback)((function(e){return function(){return w((function(t){return Object(Oe.a)(Object(Oe.a)({},t),{},Object(he.a)({},e,!1))}))}}),[w]),N=Object(n.useCallback)((function(){return x(!0)}),[x]),_=Object(n.useCallback)((function(){return x(!1)}),[x]),k=Object(n.useCallback)((function(e){return function(){return r(e)}}),[r]);return Object(h.jsxs)("div",{className:"Settings",children:[Object(h.jsxs)("section",{className:"Settings__auth",children:[Object(h.jsx)("h2",{children:l("Authentication")}),Object(h.jsx)("p",{children:l("Sign into your cloud to add your movies and TV shows to your library.")}),Object(h.jsx)("div",{className:"Settings__auth__scroll",children:Object(h.jsxs)("div",{className:"Settings__auth__providers",children:[t.map((function(e,t){return Object(h.jsxs)("div",{className:"Settings__auth__provider",children:[Object(h.jsx)(ve,{className:B()("primary",{warn:void 0===e.moviesPath&&void 0===e.showsPath}),icon:Object(u.f)(e.kind,$.a.white),onClick:y(t)}),Object(h.jsx)(ke,{isActive:f[t],provider:e,onClose:g(t),onUpdateProvider:i,onRemoveProvider:k(e.id)},7)]},t)})),Object(h.jsxs)("div",{className:"Settings__auth__provider",children:[Object(h.jsx)(ve,{icon:Object(h.jsx)(xe,{color:$.a.white}),onClick:N},5),Object(h.jsx)(_e,{isActive:O,onClose:_,onSetupAuth:c,onAddProvider:s},7)]},t.length)]})})]}),Object(h.jsxs)("section",{className:"Settings__indexing",children:[Object(h.jsx)("h2",{children:l("Indexing")}),Object(h.jsx)("p",{children:l("Index to look for new media on your linked services or fetch the latest metadata.")}),Object(h.jsxs)("div",{className:"Settings__indexing__actions",children:[Object(h.jsx)("button",{onClick:a,children:l("Index")}),Object(h.jsx)("button",{onClick:j,children:l("Update metadata")})]})]}),Object(h.jsxs)("section",{className:"Settings__version",children:[Object(h.jsx)("h2",{children:l("Version")}),Object(h.jsx)("p",{children:l("Plaain {{version}}.",{version:Pe.d})}),Object(h.jsx)("p",{className:"small",children:Object(h.jsxs)(E.a,{children:["Plaain is"," ",Object(h.jsx)("a",{href:"https://github.com/jonhue/plaain",target:"_blank",rel:"noopener noreferrer",children:"open-source"}),". See the"," ",Object(h.jsx)("a",{href:"https://github.com/jonhue/plaain/releases",target:"_blank",rel:"noopener noreferrer",children:"changelog"}),"."]})}),Object(h.jsx)("p",{className:"small",children:Object(h.jsxs)(E.a,{children:["Note that Plaain may ",Object(h.jsx)("span",{className:"bold",children:"not"})," be used to stream pirated content or publicly share your private media library. You may only connect to your private cloud storage."]})})]})]})},Ce=c(167),Me=c(138),Ae=function(){var e=Object(w.b)(),t=Object(w.c)((function(e){return Object(L.b)(e.auth)})),c=Object(n.useCallback)((function(t){return e(Object(V.a)(Object(Ce.b)(t)))}),[e]),s=Object(n.useCallback)((function(t){e(Object(Me.b)(t)),e(Object(V.a)(Object(U.b)([t])))}),[e]),i=Object(n.useCallback)((function(){return e(Object(V.a)(Object(U.b)(t)))}),[e,t]),r=Object(n.useCallback)((function(){return e(Object(V.a)(Object(U.a)()))}),[e]);return Object(h.jsx)(Se,{providers:t,onSetupAuth:c,onAddProvider:s,onUpdateProvider:s,onRemoveProvider:U.c,onIndex:i,onFetchMetadataAll:r})},De=(c(205),function(e){var t=e.show,c=e.seasons,s=Object(v.a)().t;return Object(h.jsxs)("div",{className:"Show",children:[Object(h.jsx)(W,{url:Object(u.a)(t.backdropPath)}),Object(h.jsxs)("div",{className:"Show__details",children:[Object(h.jsx)(O,{url:Object(u.c)(t.posterPath),alt:"poster"}),Object(h.jsx)("h1",{children:t.title}),Object(h.jsx)("div",{className:"Show__information",children:Object(h.jsxs)("p",{className:"small",children:[new Date(t.firstAirDate).getFullYear()," -"," ",new Date(t.lastAirDate).getFullYear()]})}),Object(h.jsx)("p",{className:"Show__overview",children:t.summary})]}),c.length>0&&Object(h.jsxs)("div",{className:"Show__seasons",children:[Object(h.jsx)("h2",{children:s("Seasons")}),Object(h.jsx)(p,{items:c,id:"seasons"})]})]})}),Ie=function(e){var t=e.match,c=Object(w.c)((function(e){return Object(d.a)(t.params.id)(e.shows)})),s=Object(w.c)((function(e){return c&&Object(u.n)(Object(k.e)(c.id)(e.seasons),(function(e){return e.number}))}));return void 0!==c&&void 0!==s?Object(h.jsx)(De,{show:c,seasons:s}):Object(h.jsx)(H.a,{})},Ee=(c(206),function(e){var t=e.shows;return Object(h.jsxs)("div",{className:"Shows",children:[Object(h.jsx)("div",{className:"Shows__find",children:Object(h.jsx)(x.b,{to:"/app/find",children:Object(h.jsx)(Q,{color:$.a.white})})}),window.innerWidth<Number.parseInt($.a.brPhone)?Object(h.jsx)(J,{items:t,path:"shows",id:"shows"}):Object(h.jsx)(Z,{items:t})]})}),Fe=function(){var e=Object(w.c)((function(e){return Object(u.l)(Object(d.b)(e.shows),(function(e){return e.title}))}));return e.length>0?Object(h.jsx)(Ee,{shows:e}):Object(h.jsx)(s.a,{to:"/app"})};t.default=function(e){var t=e.match,c=Object(w.c)((function(e){return{moviesCount:Object.keys(e.movies).length,showsCount:Object.keys(e.shows).length}})),n=c.moviesCount,i=c.showsCount;return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)(s.d,{children:[Object(h.jsx)(s.b,{path:"".concat(t.path,"/"),exact:!0,component:T}),Object(h.jsx)(s.b,{path:"".concat(t.path,"/movies/:id"),exact:!0,component:q}),Object(h.jsx)(s.b,{path:"".concat(t.path,"/movies"),component:te}),Object(h.jsx)(s.b,{path:"".concat(t.path,"/shows/:id"),exact:!0,component:Ie}),Object(h.jsx)(s.b,{path:"".concat(t.path,"/shows"),component:Fe}),Object(h.jsx)(s.b,{path:"".concat(t.path,"/seasons/:id"),exact:!0,component:ue}),Object(h.jsx)(s.b,{path:"".concat(t.path,"/people/:id"),exact:!0,component:je}),Object(h.jsx)(s.b,{path:"".concat(t.path,"/settings"),exact:!0,component:Ae}),Object(h.jsx)(s.b,{path:"".concat(t.path,"/find"),exact:!0,component:N}),Object(h.jsx)(s.b,{component:H.a})]}),Object(h.jsx)(ae,{moviesDisabled:0===n,showsDisabled:0===i})]})}}}]);
//# sourceMappingURL=5.45116364.chunk.js.map