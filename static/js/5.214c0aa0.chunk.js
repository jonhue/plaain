(this.webpackJsonpplaain=this.webpackJsonpplaain||[]).push([[5],{175:function(e,t,c){},177:function(e,t,c){},179:function(e,t,c){},180:function(e,t,c){},181:function(e,t,c){},182:function(e,t,c){},183:function(e,t,c){},184:function(e,t,c){},191:function(e,t,c){},192:function(e,t,c){},193:function(e,t,c){},194:function(e,t,c){},195:function(e,t,c){},196:function(e,t,c){},197:function(e,t,c){},198:function(e,t,c){},199:function(e,t,c){},200:function(e,t,c){},201:function(e,t,c){},202:function(e,t,c){},203:function(e,t,c){},204:function(e,t,c){},205:function(e,t,c){},206:function(e,t,c){},207:function(e,t,c){},208:function(e,t,c){},209:function(e,t,c){},210:function(e,t,c){},211:function(e,t,c){},222:function(e,t,c){"use strict";c.r(t);c(175);var s=c(4),n=c(109),i=c.n(n),a=c(114),r=c(117),o=(c(177),c(178)),j=c.n(o),l=c(0),b=c(116),d=c(118),u=(c(179),c(224)),h=c(218),O=c(14),f=(c(180),c(1)),x=function(e){var t=e.url,c=e.alt;return Object(f.jsx)("img",{className:"Cover",src:t,alt:c})},m=c(24),p=c(108),v=function(e){var t=e.id,c=e.items,s=Object(p.a)().t;return Object(f.jsx)("div",{className:"HorizontalSlide",id:t,children:Object(f.jsx)(u.a,{spaceBetween:15,slidesPerView:"auto",slidesOffsetBefore:20,slidesOffsetAfter:20,grabCursor:!0,children:c.length>0?c.map((function(e,t){return Object(f.jsx)(h.a,{children:Object(f.jsx)(m.b,{to:Object(O.e)(e),children:Object(f.jsx)(x,{url:Object(O.c)(e.posterPath),alt:e.title})})},t)})):Object(f.jsx)(h.a,{children:Object(f.jsx)("h3",{children:s("Nothing found.")})})})})},g=c(152),y=c(22),_=function(e,t){var c=j.a.create();return e.forEach((function(e){var s=e.id;c.add(s,t(e))})),c},w=function(){var e=Object(p.a)().t,t=Object(s.g)(),c=Object(s.h)(),n=Object(l.useMemo)((function(){return new URLSearchParams(c.search).get("q")}),[c]),o=Object(y.c)((function(e){return{movies:e.movies,shows:e.shows}})),j=o.movies,u=o.shows,h=Object(l.useState)(n||""),x=Object(r.a)(h,2),m=x[0],w=x[1],N=Object(l.useMemo)((function(){return _(Object(b.e)(j),(function(e){return"".concat(e.title,";").concat(e.summary)}))}),[j]),k=Object(l.useMemo)((function(){return _(Object(d.b)(u),(function(e){return"".concat(e.title,";").concat(e.summary)}))}),[u]),C=Object(g.useAsyncMemo)(Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.search(m);case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return Object(b.b)(e)(j)})).filter(O.k));case 4:case"end":return e.stop()}}),e)}))),[N,m]),P=Object(g.useAsyncMemo)(Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.search(m);case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return Object(d.a)(e)(u)})).filter(O.k));case 4:case"end":return e.stop()}}),e)}))),[k,m]),S=Object(l.useCallback)((function(e){t.replace("/app/find?".concat("q","=").concat(e.target.value)),w(e.target.value)}),[t,w]);return Object(f.jsxs)("div",{className:"Find",children:[Object(f.jsx)("form",{children:Object(f.jsx)("input",{autoFocus:!0,value:m,placeholder:e("Search your library"),onChange:S})}),C&&Object.keys(C).length>0&&Object(f.jsxs)("section",{children:[Object(f.jsx)("h2",{children:e("Movies")}),Object(f.jsx)(v,{items:C,id:"movies"})]}),P&&Object.keys(P).length>0&&Object(f.jsxs)("section",{children:[Object(f.jsx)("h2",{children:e("TV shows")}),Object(f.jsx)(v,{items:P,id:"shows"})]})]})},N=c(59),k=c(121),C=c(7),P=c(130),S=Object(P.a)([function(e){return Object(b.a)(e.movies)},function(e){return Object(k.a)(e.seasons)}],(function(e,t){return[].concat(Object(N.a)(e),Object(N.a)(t))})),M=Object(P.a)([function(e){return Object(b.f)(e.movies)},function(e){return Object(k.b)(e.seasons)}],(function(e,t){return[].concat(Object(N.a)(e),Object(N.a)(t))})),A=(c(181),function(e){var t=e.onIndex,c=Object(p.a)().t;return Object(f.jsxs)("div",{className:"Authenticated",children:[Object(f.jsx)("h2",{children:c("Get started")}),Object(f.jsx)("p",{children:c("You signed into a cloud service, but we didn't find any movies or TV shows.")}),Object(f.jsx)("p",{children:c("It's likely that you just have to move some of your files around and create some folders to make it work.")}),Object(f.jsx)("p",{children:c("Reference the getting started guide to learn how to organize your files so that Plaain finds them. After you're done, just re-index.")}),Object(f.jsxs)("div",{className:"Authenticated__buttons",children:[Object(f.jsx)("a",{className:"button primary",href:"https://github.com/jonhue/plaain#getting-started",target:"_blank",rel:"noopener noreferrer",children:c("Getting started")}),Object(f.jsx)("button",{onClick:t,children:c("Index")})]})]})}),D=(c(182),function(e){var t=e.inProgress,c=e.recentlyWatched,s=Object(p.a)().t;return Object(f.jsxs)("div",{className:"ForYou",children:[t.length>0&&Object(f.jsxs)("section",{children:[Object(f.jsx)("h2",{children:s("Continue watching")}),Object(f.jsx)(v,{items:t,id:"inProgress"})]}),c.length>0&&Object(f.jsxs)("section",{children:[Object(f.jsx)("h2",{children:s("Recently watched")}),Object(f.jsx)(v,{items:c,id:"recentlyWatched"})]})]})}),F=(c(183),function(e){var t=e.movies,c=e.shows,s=Object(p.a)().t;return Object(f.jsxs)("div",{className:"Setup",children:[Object(f.jsx)("h2",{children:s("Get started")}),Object(f.jsx)("p",{children:s("Here, you'll be able to find your recently watched movie or the show you didn't finish yet.")}),Object(f.jsxs)("div",{className:"Setup__buttons",children:[t.length>0&&Object(f.jsx)(m.b,{to:"/app/movies",className:"button",children:s("Discover your movies")}),c.length>0&&Object(f.jsx)(m.b,{to:"/app/shows",className:"button",children:s("Discover your shows")})]})]})}),I=(c(184),c(75)),L=function(){var e=Object(p.a)().t;return Object(f.jsxs)("div",{className:"Unauthenticated",children:[Object(f.jsx)("h2",{children:e("Get started")}),Object(f.jsx)("p",{children:e("To watch your movies and TV shows, you first have to sign in with the cloud service that hosts your media.")}),Object(f.jsx)(m.b,{to:"/app/settings",className:"button",children:e("Authenticate")}),Object(f.jsx)("p",{className:"small",children:Object(f.jsxs)(I.a,{children:["Note that Plaain may ",Object(f.jsx)("span",{className:"bold",children:"not"})," be used to stream pirated content or publicly share your private media library. You may only connect to your private cloud storage."]})})]})},V=c(148),Y=c(149),T=c(133),E=function(){var e=Object(y.b)(),t=Object(y.c)((function(e){return{inProgress:Object(O.m)(S(e)),movies:Object(b.e)(e.movies),providers:Object(T.b)(e.auth),recentlyWatched:Object(O.m)(M(e)),shows:Object(d.b)(e.shows)}})),c=t.inProgress,s=t.movies,n=t.providers,i=t.recentlyWatched,a=t.shows,r=Object(l.useCallback)((function(){e(Object(Y.a)(Object(V.b)(n)))}),[e,n]);return c.length>0||i.length>0?Object(f.jsx)(D,{inProgress:c,recentlyWatched:i}):0===n.length?Object(f.jsx)(L,{}):0===s.length&&0===a.length?Object(f.jsx)(A,{onIndex:r}):Object(f.jsx)(F,{movies:s,shows:a})},U=(c(191),c(192),function(e){var t=e.url;return Object(f.jsx)("picture",{className:"Backdrop",children:Object(f.jsx)("img",{src:t,alt:"backdrop"})})}),W=function(e){var t=e.files,c=Object(p.a)().t;return Object(f.jsxs)("div",{className:"FileList",children:[t.map((function(e,t){return Object(f.jsx)("p",{className:"small",children:e.name},t)})),0===t.length&&Object(f.jsx)("p",{className:"small",children:c("None")})]})},G=c(56),R=(c(193),function(e){var t=e.people,c=e.details,s=Object(p.a)().t,n=Object(l.useState)(!0),i=Object(r.a)(n,2),a=i[0],o=i[1],j=Object(l.useCallback)((function(){return o((function(e){return!e}))}),[o]),b=Object(l.useMemo)((function(){return t.slice(0,a?10:t.length)}),[a,t]);return Object(f.jsxs)("div",{className:"PersonList",children:[t.length>0?b.map((function(e,t){return Object(f.jsxs)("p",{children:[Object(f.jsx)(m.b,{to:Object(O.e)(e),children:e.name})," \xb7"," ",Object(f.jsx)("span",{children:c(e)})]},t)})):Object(f.jsx)("p",{children:s("None")}),t.length>10&&Object(f.jsx)("span",{onClick:j,children:s(a?"Show more":"Show less")})]})}),B=c(55),H=c.n(B),z=function(e){var t=e.match,c=Object(p.a)().t,n=Object(s.g)(),i=Object(y.c)((function(e){return Object(b.b)(t.params.id)(e.movies)})),a=Object(l.useCallback)((function(){void 0!==i&&n.push("/player?id=".concat(i.id,"&type=").concat(i.kind,"&s=").concat(i.usage.progress))}),[n,i]),r=Object(l.useCallback)((function(){void 0!==i&&n.push("/player?id=".concat(i.id,"&type=").concat(i.kind))}),[n,i]);return void 0!==i?Object(f.jsxs)("div",{className:"Movie",children:[Object(f.jsx)(U,{url:Object(O.a)(i.backdropPath)}),Object(f.jsxs)("div",{className:"Movie__details",children:[Object(f.jsx)(x,{url:Object(O.c)(i.posterPath),alt:"poster"}),Object(f.jsx)("h1",{children:i.title}),Object(f.jsxs)("div",{className:"Movie__information",children:[Object(f.jsx)("p",{className:"small",children:new Date(i.releaseDate).getFullYear()}),i.duration&&Object(f.jsx)("p",{className:"small",children:Object(O.o)(c,i.duration)})]}),Object(f.jsxs)("div",{className:"Movie__actions",children:[Object(O.j)(i)&&Object(f.jsx)("button",{className:"primary",onClick:a,disabled:0===i.sources.length,children:c("Continue")}),Object(f.jsx)("button",{className:H()({primary:!Object(O.j)(i)}),onClick:r,disabled:0===i.sources.length,children:c("Watch")}),Object(f.jsx)("a",{className:"button",href:i.trailerUrl,target:"_blank",rel:"noopener noreferrer",children:c("Play trailer")})]}),Object(f.jsx)("p",{className:"Movie__overview",children:i.summary}),Object(f.jsxs)("div",{className:"Movie__people",children:[Object(f.jsxs)("div",{className:"Movie__people__cast",children:[Object(f.jsx)("h4",{children:c("Starring")}),Object(f.jsx)(R,{people:i.cast,details:function(e){return e.character}})]}),Object(f.jsxs)("div",{className:"Movie__people__crew",children:[Object(f.jsx)("h4",{children:c("Crew")}),Object(f.jsx)(R,{people:i.crew,details:function(e){return e.job}})]})]})]}),Object(f.jsx)("div",{className:"Movie__sources",children:Object(f.jsxs)("div",{children:[Object(f.jsx)("h4",{children:c("Sources")}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"Movie__sources__versions",children:[Object(f.jsx)("h5",{children:c("Versions")}),Object(f.jsx)(W,{files:i.sources})]}),Object(f.jsxs)("div",{className:"Movie__sources__captions",children:[Object(f.jsx)("h5",{children:c("Subtitles")}),Object(f.jsx)(W,{files:i.captions})]})]})]})})]}):Object(f.jsx)(G.a,{})},Z=(c(194),c(25)),q=function(){return Object(f.jsxs)(Z.a,{className:"zoom",width:24,height:24,children:[Object(f.jsx)("title",{children:"Find"}),Object(f.jsxs)("g",{fill:"#ffffff",children:[Object(f.jsx)("line",{fill:"none",stroke:"#ffffff",x1:"22",x2:"15.656",y1:"22",y2:"15.656"}),Object(f.jsx)("circle",{cx:"10",cy:"10",fill:"none",r:"8",stroke:"#ffffff"})]})]})},J=(c(195),function(e){var t=e.items,c=Object(p.a)().t;return Object(f.jsx)("div",{className:"ItemGrid",children:t.length>0?t.map((function(e,t){return Object(f.jsx)("div",{className:"ItemGrid__item",children:Object(f.jsx)(m.b,{to:Object(O.e)(e),children:Object(f.jsx)(x,{url:Object(O.c)(e.posterPath),alt:e.title})})},t)})):Object(f.jsx)("div",{className:"ItemGrid__item",children:Object(f.jsx)("h3",{children:c("Nothing found.")})})})}),K=(c(196),c(221)),Q=c(219);K.a.use([Q.a]);var X=function(e){var t=e.id,c=e.items,s=e.path,n=Object(p.a)().t;return Object(f.jsx)("div",{className:"VerticalSlide",id:t,children:Object(f.jsx)(u.a,{direction:"vertical",slidesPerView:"auto",grabCursor:!0,effect:"coverflow",coverflowEffect:{rotate:0,stretch:425,depth:150,modifier:1,slideShadows:!1},history:{replaceState:!0,key:s},children:c.length>0?c.map((function(e,t){return Object(f.jsx)(h.a,{"data-history":e.id,children:Object(f.jsx)(m.b,{to:Object(O.e)(e),children:Object(f.jsx)(x,{url:Object(O.c)(e.posterPath),alt:e.title})})},t)})):Object(f.jsx)(h.a,{children:Object(f.jsx)("h3",{children:n("Nothing found.")})})})})},$=function(){var e=Object(y.c)((function(e){return Object(O.l)(Object(b.e)(e.movies),(function(e){return e.title}))}));return e.length>0?Object(f.jsxs)("div",{className:"Movies",children:[Object(f.jsx)("div",{className:"Movies__find",children:Object(f.jsx)(m.b,{to:"/app/find",children:Object(f.jsx)(q,{})})}),Object(f.jsx)(X,{items:e,path:"movies",id:"movies"}),Object(f.jsx)(J,{items:e})]}):Object(f.jsx)(s.a,{to:"/app"})},ee=(c(197),function(){return Object(f.jsxs)(Z.a,{className:"popcorn",width:24,height:24,children:[Object(f.jsx)("title",{children:"For You"}),Object(f.jsxs)("g",{fill:"#ffffff",children:[Object(f.jsx)("polygon",{fill:"none",points:"21 7 3 7 5 23 19 23 21 7",stroke:"#ffffff"}),Object(f.jsx)("path",{d:"M19,5a3,3,0,0,0-3-3,2.97,2.97,0,0,0-1.47.4,2.986,2.986,0,0,0-5.06,0A2.97,2.97,0,0,0,8,2,3,3,0,0,0,5,5",fill:"none",stroke:"#ffffff"}),Object(f.jsx)("line",{fill:"none",stroke:"#ffffff",x1:"9",x2:"8",y1:"23",y2:"7"}),Object(f.jsx)("line",{fill:"none",stroke:"#ffffff",x1:"15",x2:"16",y1:"23",y2:"7"})]})]})}),te=function(){return Object(f.jsxs)(Z.a,{className:"movie-61",width:24,height:24,children:[Object(f.jsx)("title",{children:"Movie"}),Object(f.jsxs)("g",{fill:"#ffffff",children:[Object(f.jsx)("line",{fill:"none",stroke:"#ffffff",x1:"1",x2:"1",y1:"1",y2:"23"}),Object(f.jsx)("line",{fill:"none",stroke:"#ffffff",x1:"23",x2:"23",y1:"1",y2:"23"}),Object(f.jsx)("rect",{height:"22",width:"14",fill:"none",stroke:"#ffffff",x:"5",y:"1"}),Object(f.jsx)("line",{fill:"none",stroke:"#ffffff",x1:"1",x2:"23",y1:"12",y2:"12"}),Object(f.jsx)("line",{fill:"none",stroke:"#ffffff",x1:"1",x2:"5",y1:"8",y2:"8"}),Object(f.jsx)("line",{fill:"none",stroke:"#ffffff",x1:"1",x2:"5",y1:"4",y2:"4"}),Object(f.jsx)("line",{fill:"none",stroke:"#ffffff",x1:"19",x2:"23",y1:"8",y2:"8"}),Object(f.jsx)("line",{fill:"none",stroke:"#ffffff",x1:"19",x2:"23",y1:"4",y2:"4"}),Object(f.jsx)("line",{fill:"none",stroke:"#ffffff",x1:"19",x2:"23",y1:"20",y2:"20"}),Object(f.jsx)("line",{fill:"none",stroke:"#ffffff",x1:"19",x2:"23",y1:"16",y2:"16"}),Object(f.jsx)("line",{fill:"none",stroke:"#ffffff",x1:"1",x2:"5",y1:"20",y2:"20"}),Object(f.jsx)("line",{fill:"none",stroke:"#ffffff",x1:"1",x2:"5",y1:"16",y2:"16"})]})]})},ce=function(){return Object(f.jsxs)(Z.a,{className:"settings-gear",width:24,height:24,children:[Object(f.jsx)("title",{children:"Settings"}),Object(f.jsxs)("g",{fill:"#ffffff",stroke:"#ffffff",children:[Object(f.jsx)("circle",{cx:"12",cy:"12",fill:"none",r:"3"}),Object(f.jsx)("path",{d:"M20,12a8.049,8.049,0,0,0-.188-1.713l2.714-2.055-2-3.464L17.383,6.094a7.987,7.987,0,0,0-2.961-1.719L14,1H10L9.578,4.375A7.987,7.987,0,0,0,6.617,6.094L3.474,4.768l-2,3.464,2.714,2.055a7.9,7.9,0,0,0,0,3.426L1.474,15.768l2,3.464,3.143-1.326a7.987,7.987,0,0,0,2.961,1.719L10,23h4l.422-3.375a7.987,7.987,0,0,0,2.961-1.719l3.143,1.326,2-3.464-2.714-2.055A8.049,8.049,0,0,0,20,12Z",fill:"none",stroke:"#ffffff"})]})]})},se=function(){return Object(f.jsxs)(Z.a,{className:"desktop-screen",width:24,height:24,children:[Object(f.jsx)("title",{children:"Show"}),Object(f.jsxs)("g",{fill:"#ffffff",children:[Object(f.jsx)("line",{fill:"none",stroke:"#ffffff",x1:"12",x2:"12",y1:"22",y2:"18"}),Object(f.jsx)("line",{fill:"none",stroke:"#ffffff",x1:"6",x2:"18",y1:"22",y2:"22"}),Object(f.jsx)("rect",{height:"16",width:"22",fill:"none",stroke:"#ffffff",x:"1",y:"2"})]})]})},ne=(c(198),function(e){var t=e.children,c=e.to,n=e.exact,i=e.disabled,a=Object(s.h)(),r=!!Object(s.f)(a.pathname,{path:c,exact:n});return Object(f.jsx)(m.b,{className:H()("Tab",{active:r,disabled:i}),to:c,children:t})}),ie=function(e){var t=e.moviesDisabled,c=e.showsDisabled;return Object(f.jsxs)("div",{className:"Nav",children:[Object(f.jsxs)(ne,{to:"/app",exact:!0,children:[Object(f.jsx)(ee,{}),Object(f.jsx)("p",{children:"For you"})]}),Object(f.jsxs)(ne,{disabled:t,to:"/app/movies",children:[Object(f.jsx)(te,{}),Object(f.jsx)("p",{children:"Movies"})]}),Object(f.jsxs)(ne,{disabled:c,to:"/app/shows",children:[Object(f.jsx)(se,{}),Object(f.jsx)("p",{children:"Shows"})]}),Object(f.jsxs)(ne,{to:"/app/settings",children:[Object(f.jsx)(ce,{}),Object(f.jsx)("p",{children:"Settings"})]})]})},ae=(c(199),function(e){var t=e.match,c=Object(p.a)().t,s=Object(y.c)((function(e){return(c=t.params.id,Object(P.a)([function(e){var t=e.movies;return Object(b.d)(c,(function(e){return e.cast}))(t)},function(e){var t=e.movies;return Object(b.d)(c,(function(e){return e.crew}))(t)},function(e){var t=e.seasons;return Object(k.f)(c,(function(e){return e.cast}))(t)},function(e){var t=e.seasons;return Object(k.f)(c,(function(e){return e.crew}))(t)}],(function(e,t,s,n){return[].concat(Object(N.a)(e),Object(N.a)(t),Object(N.a)(s),Object(N.a)(n)).reduce((function(e,t){return{kind:C.a.Person,id:c,tmdbId:t.tmdbId,name:t.name,gender:t.gender,profilePath:t.profilePath,jobs:void 0!==e?Object(N.a)(new Set([].concat(Object(N.a)(e.jobs),[t.job]))):[t.job]}}),void 0)})))(e);var c})),n=Object(y.c)((function(e){return{movies:s&&Object(b.c)(s.id)(e.movies),seasons:s&&Object(k.d)(s.id)(e.seasons)}})),i=n.movies,a=n.seasons,r=Object(l.useMemo)((function(){return void 0!==i&&i.length>0?i[0].backdropPath:void 0!==a&&a.length>0?a[0].showBackdropPath:void 0}),[i,a]);return void 0!==s&&void 0!==i&&void 0!==a?Object(f.jsxs)("div",{className:"Person",children:[Object(f.jsx)(U,{url:Object(O.a)(r)}),Object(f.jsxs)("div",{className:"Person__details",children:[Object(f.jsx)(x,{url:Object(O.c)(s.profilePath),alt:"profile"}),Object(f.jsx)("h1",{children:s.name}),Object(f.jsx)("h5",{children:c("Known as")}),Object(f.jsx)("p",{children:s.jobs.join(", ")})]}),i.length>0&&Object(f.jsxs)("div",{className:"Person__movies",children:[Object(f.jsx)("h2",{children:c("Movies")}),Object(f.jsx)(v,{items:i,id:"movies"})]}),a.length>0&&Object(f.jsxs)("div",{className:"Person__seasons",children:[Object(f.jsx)("h2",{children:c("TV seasons")}),Object(f.jsx)(v,{items:a,id:"seasons"})]})]}):Object(f.jsx)(G.a,{})}),re=(c(200),c(201),function(e){var t=e.episode,c=e.onClick,s=Object(p.a)().t;return Object(f.jsxs)("div",{className:H()("EpisodeEntry",{disabled:0===t.sources.length}),onClick:c,children:[Object(f.jsx)("div",{className:"EpisodeEntry__number",children:t.number}),Object(f.jsxs)("div",{className:"EpisodeEntry__details",children:[Object(f.jsx)("h2",{children:t.title}),Object(f.jsxs)("p",{className:"small",children:[s("Aired")," ",new Date(t.airDate).toDateString()]}),Object(f.jsx)("p",{children:t.summary})]})]})}),oe=c(141),je=function(e){var t=e.match,c=Object(p.a)().t,n=Object(s.g)(),i=Object(y.c)((function(e){return Object(k.c)(t.params.id)(e.seasons)})),a=Object(y.c)((function(e){return{show:i&&Object(d.a)(i.showId)(e.shows),episodes:i&&Object(O.n)(Object(oe.b)(i.id)(e.episodes),(function(e){return e.number}))}})),o=a.show,j=a.episodes,b=Object(l.useMemo)((function(){if(void 0!==i&&void 0!==j)return j.find((function(e){return e.number===i.usage.progress}))}),[i,j]),u=Object(l.useState)(!1),h=Object(r.a)(u,2),m=h[0],v=h[1],g=Object(l.useCallback)((function(){return v((function(e){return!e}))}),[v]),_=Object(l.useCallback)((function(e){return function(){n.push("/player?id=".concat(e.id,"&type=").concat(e.kind,"&s=").concat(e.usage.progress))}}),[n]),w=Object(l.useCallback)((function(e){return function(){if(void 0!==j){var t=j.find((function(t){return t.number===e}));n.push("/player?id=".concat(t.id,"&type=").concat(t.kind))}}}),[j,n]);return void 0!==o&&void 0!==i&&void 0!==j?Object(f.jsxs)("div",{className:"Season",children:[Object(f.jsx)(U,{url:Object(O.a)(i.showBackdropPath)}),Object(f.jsxs)("div",{className:"Season__details",children:[Object(f.jsx)(x,{url:Object(O.c)(i.posterPath),alt:"poster"}),Object(f.jsxs)("h1",{children:[c("Season")," ",i.number]}),Object(f.jsxs)("div",{className:"Season__information",children:[Object(f.jsx)("p",{className:"small",children:o.title}),Object(f.jsx)("p",{className:"small",children:new Date(i.airDate).getFullYear()})]}),Object(f.jsxs)("div",{className:"Season__actions",children:[void 0!==b&&Object(f.jsxs)("button",{className:"primary",onClick:_(b),disabled:0===b.sources.length,children:[c("Continue episode")," ",b.number]}),j.length>0&&Object(f.jsx)("button",{className:H()({primary:void 0===b}),onClick:w(0),disabled:0===j[0].sources.length,children:c("Watch")}),Object(f.jsx)("a",{className:"button",id:"trailer",href:i.trailerUrl,target:"_blank",rel:"noopener noreferrer",children:c("Play trailer")})]}),Object(f.jsxs)("div",{className:"Season__episodes",children:[Object(f.jsx)("div",{className:H()("Season__episodes__list",{shown:m}),children:j.slice(0,m?j.length:0).map((function(e,t){return Object(f.jsx)(re,{episode:e,onClick:w(e.number)},t)}))}),j.length>0&&Object(f.jsx)("div",{className:"Season__episodes__toggle",onClick:g,children:c(m?"Hide episodes":"Show all episodes")})]}),Object(f.jsx)("p",{className:"Season__overview",children:i.summary}),Object(f.jsxs)("div",{className:"Season__people",children:[Object(f.jsxs)("div",{className:"Season__people__cast",children:[Object(f.jsx)("h4",{children:c("Starring")}),Object(f.jsx)(R,{people:i.cast,details:function(e){return e.character}})]}),Object(f.jsxs)("div",{className:"Season__people__crew",children:[Object(f.jsx)("h4",{children:c("Crew")}),Object(f.jsx)(R,{people:i.crew,details:function(e){return e.job}})]})]})]})]}):Object(f.jsx)(G.a,{})},le=c(5),be=c(2),de=(c(202),c(144)),ue=function(){return Object(f.jsxs)(Z.a,{className:"e-add",width:32,height:32,children:[Object(f.jsx)("title",{children:"Add"}),Object(f.jsxs)("g",{fill:"#ffffff",stroke:"#ffffff",children:[Object(f.jsx)("line",{fill:"none",stroke:"#ffffff",x1:"16",x2:"16",y1:"2",y2:"30"}),Object(f.jsx)("line",{fill:"none",stroke:"#ffffff",x1:"30",x2:"2",y1:"16",y2:"16"})]})]})},he=(c(203),c(204),c(29)),Oe=(c(205),function(e){var t=e.className,c=e.icon,s=e.title,n=e.onClick;return Object(f.jsx)("div",{className:H()("ProviderButton",{large:void 0!==s}),children:Object(f.jsxs)("button",{className:t,onClick:n,children:[c,s&&Object(f.jsx)("h3",{children:s})]})})}),fe=function(e){var t=e.onChoose,c=Object(p.a)().t,s=Object(l.useCallback)((function(e){return function(){return t(e)}}),[t]);return Object(f.jsxs)("div",{className:"ChooseProvider",children:[Object(f.jsx)("h2",{children:c("Add a provider")}),Object(f.jsx)("p",{children:c("Select which service you want to use to stream your movies & shows.")}),Object(f.jsx)("div",{className:"ChooseProvider__providers",children:he.a.map((function(e,t){return Object(f.jsx)(Oe,{icon:Object(O.f)(e),title:Object(O.g)(e),onClick:s(e)},t)}))})]})},xe=(c(206),c(216)),me=function(e){var t=e.isActive,c=e.onClose,s=e.children,n=Object(l.useRef)(null);return Object(xe.a)(n,c),Object(f.jsx)("div",{className:H()("Modal",{active:t}),children:Object(f.jsx)("div",{className:"Modal__wrapper",ref:n,children:s})})},pe=(c(207),c(208),function(){return Object(f.jsxs)(Z.a,{className:"c-check",width:24,height:24,children:[Object(f.jsx)("title",{children:"Check"}),Object(f.jsx)("g",{fill:"#ffffff",children:Object(f.jsx)("path",{d:"M12,0A12,12,0,1,0,24,12,12.035,12.035,0,0,0,12,0ZM10,17.414,4.586,12,6,10.586l4,4,8-8L19.414,8Z",fill:"#ffffff"})})]})}),ve=function(e){var t=e.submitCaption,c=e.provider,s=e.onSubmit,n=Object(p.a)().t,i=Object(l.useMemo)((function(){return{moviesPath:null===c||void 0===c?void 0:c.moviesPath,showsPath:null===c||void 0===c?void 0:c.showsPath}}),[c]),a=Object(l.useState)(i),o=Object(r.a)(a,2),j=o[0],b=o[1],d=Object(l.useCallback)((function(e){var t=e.currentTarget;b((function(e){return Object(be.a)(Object(be.a)({},e),{},Object(le.a)({},t.name,""===t.value?void 0:t.value))}))}),[b]),u=Object(l.useCallback)((function(e){e.preventDefault(),s(j.moviesPath,j.showsPath)}),[s,j]),h=Object(l.useCallback)((function(e){return void 0!==e}),[]),O=Object(l.useCallback)((function(e){return void 0!==e&&e.startsWith("/")}),[]),x=Object(l.useMemo)((function(){return(!h(j.moviesPath)||O(j.moviesPath))&&(!h(j.showsPath)||O(j.showsPath))}),[h,O,j]);return Object(l.useEffect)((function(){b(i)}),[i,b]),Object(f.jsxs)("form",{className:"ProviderForm",onSubmit:u,children:[Object(f.jsxs)("label",{children:[n("Movies path"),Object(f.jsx)("p",{className:"small",children:n("The path from your home directory to where you keep your movies.")}),Object(f.jsxs)("div",{className:H()("ProviderForm__input",{setup:h(j.moviesPath),valid:O(j.moviesPath)}),children:[Object(f.jsx)("input",{type:"text",name:"moviesPath",value:j.moviesPath||"",placeholder:"/Plaain/movies",onChange:d}),Object(f.jsx)(pe,{})]})]}),Object(f.jsxs)("label",{children:[n("Shows path"),Object(f.jsx)("p",{className:"small",children:n("The path from your home directory to where you keep your shows.")}),Object(f.jsxs)("div",{className:H()("ProviderForm__input",{setup:h(j.showsPath),valid:O(j.showsPath)}),children:[Object(f.jsx)("input",{type:"text",name:"showsPath",value:j.showsPath||"",placeholder:"/Plaain/shows",onChange:d}),Object(f.jsx)(pe,{})]})]}),Object(f.jsx)("div",{className:"ProviderForm__actions",children:Object(f.jsx)("button",{type:"submit",disabled:!x,children:t})})]})},ge=function(e){var t=e.onSetup,c=Object(p.a)().t;return Object(f.jsxs)("div",{className:"SetupProvider",children:[Object(f.jsx)("h2",{children:c("Setup your provider")}),Object(f.jsx)("p",{children:c("All that's left is to tell Plaain where to look for your movies and shows. You can always skip this step and come back later.")}),Object(f.jsx)(ve,{submitCaption:c("Complete"),onSubmit:t})]})},ye=function(e){var t=e.isActive,c=e.onClose,s=e.onSetupAuth,n=e.onAddProvider,o=Object(l.useState)(),j=Object(r.a)(o,2),b=j[0],d=j[1],u=Object(l.useCallback)(function(){var e=Object(a.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:c=e.sent,d(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[d,s]),h=Object(l.useCallback)((function(e,t){if(void 0!==b){var s=Object(be.a)(Object(be.a)({},b),{},{moviesPath:e,showsPath:t});n(s),c()}}),[b,n,c]);return Object(f.jsx)("div",{className:"AddProviderModal",children:Object(f.jsx)(me,{isActive:t,onClose:c,children:void 0===b?Object(f.jsx)(fe,{onChoose:u}):Object(f.jsx)(ge,{onSetup:h})})})},_e=c(76),we=c(58),Ne=function(){var e=Object(p.a)().t,t=Object(l.useCallback)((function(e){return we.a.changeLanguage(e.target.value)}),[]);return Object(f.jsx)("div",{className:"LanguageSelector",children:Object(f.jsx)("select",{defaultValue:we.a.language,onChange:t,children:_e.a.map((function(t){return Object(f.jsx)("option",{value:t,children:e(t)},t)}))})})},ke=(c(209),function(e){var t=e.isActive,c=e.provider,s=e.onClose,n=e.onUpdateProvider,i=e.onRemoveProvider,a=Object(p.a)().t,r=Object(l.useCallback)((function(e,t){n(Object(be.a)(Object(be.a)({},c),{},{moviesPath:e,showsPath:t})),s()}),[s,n,c]),o=Object(l.useCallback)((function(){window.confirm(a("Are you sure?"))&&(i(),s())}),[s,i,a]);return Object(f.jsx)("div",{className:"UpdateProviderModal",children:Object(f.jsxs)(me,{isActive:t,onClose:s,children:[Object(f.jsx)("h2",{children:Object(O.g)(c.kind)}),Object(f.jsx)("p",{children:c.name}),Object(f.jsx)(ve,{submitCaption:a("Update"),provider:c,onSubmit:r}),Object(f.jsx)("button",{className:"secondary",onClick:o,children:a("Remove")})]})})}),Ce=c(30),Pe=c(172),Se=function(){var e=Object(y.b)(),t=Object(p.a)().t,c=Object(y.c)((function(e){return Object(T.b)(e.auth)})),s=Object(l.useCallback)((function(t){return e(Object(Y.a)(Object(Pe.b)(t)))}),[e]),n=Object(l.useCallback)((function(t){e(Object(de.b)(t)),e(Object(Y.a)(Object(V.b)([t])))}),[e]),i=Object(l.useCallback)((function(){return e(Object(Y.a)(Object(V.b)(c)))}),[e,c]),a=Object(l.useCallback)((function(){return e(Object(Y.a)(Object(V.a)()))}),[e]),o=Object(l.useCallback)((function(t){return function(){return e(Object(de.a)(t))}}),[e]),j=Object(l.useState)(!1),b=Object(r.a)(j,2),d=b[0],u=b[1],h=Object(l.useState)(c.reduce((function(e,t,c){return Object(be.a)(Object(be.a)({},e),{},Object(le.a)({},c,!1))}),{})),x=Object(r.a)(h,2),m=x[0],v=x[1],g=Object(l.useCallback)((function(e){return function(){return v((function(t){return Object(be.a)(Object(be.a)({},t),{},Object(le.a)({},e,!0))}))}}),[v]),_=Object(l.useCallback)((function(e){return function(){return v((function(t){return Object(be.a)(Object(be.a)({},t),{},Object(le.a)({},e,!1))}))}}),[v]),w=Object(l.useCallback)((function(){return u(!0)}),[u]),N=Object(l.useCallback)((function(){return u(!1)}),[u]);return Object(f.jsxs)("div",{className:"Settings",children:[Object(f.jsxs)("section",{className:"Settings__auth",children:[Object(f.jsx)("h2",{children:t("Authentication")}),Object(f.jsx)("p",{children:t("Sign into your cloud to add your movies and TV shows to your library.")}),Object(f.jsx)("div",{className:"Settings__auth__scroll",children:Object(f.jsxs)("div",{className:"Settings__auth__providers",children:[c.map((function(e,t){return Object(f.jsxs)("div",{className:"Settings__auth__provider",children:[Object(f.jsx)(Oe,{className:H()("primary",{warn:void 0===e.moviesPath&&void 0===e.showsPath}),icon:Object(O.f)(e.kind),onClick:g(t)}),Object(f.jsx)(ke,{isActive:m[t],provider:e,onClose:_(t),onUpdateProvider:n,onRemoveProvider:o(e.id)},7)]},t)})),Object(f.jsxs)("div",{className:"Settings__auth__provider",children:[Object(f.jsx)(Oe,{icon:Object(f.jsx)(ue,{}),onClick:w},5),Object(f.jsx)(ye,{isActive:d,onClose:N,onSetupAuth:s,onAddProvider:n},7)]},c.length)]})})]}),Object(f.jsxs)("section",{className:"Settings__indexing",children:[Object(f.jsx)("h2",{children:t("Indexing")}),Object(f.jsx)("p",{children:t("Index to look for new media on your linked services or fetch the latest metadata.")}),Object(f.jsxs)("div",{className:"Settings__indexing__actions",children:[Object(f.jsx)("button",{disabled:0===c.length,onClick:i,children:t("Index")}),Object(f.jsx)("button",{disabled:0===c.length,onClick:a,children:t("Update metadata")})]})]}),Object(f.jsxs)("section",{className:"Settings__language",children:[Object(f.jsx)("h2",{children:t("Language")}),Object(f.jsx)("p",{children:t("Change the display language.")}),Object(f.jsx)(Ne,{})]}),Object(f.jsxs)("section",{className:"Settings__version",children:[Object(f.jsx)("h2",{children:t("Version")}),Object(f.jsx)("p",{children:t("Plaain {{version}}.",{version:Ce.d})}),Object(f.jsx)("p",{className:"small",children:Object(f.jsxs)(I.a,{children:["Plaain is"," ",Object(f.jsx)("a",{href:"https://github.com/jonhue/plaain",target:"_blank",rel:"noopener noreferrer",children:"open-source"}),". See the"," ",Object(f.jsx)("a",{href:"https://github.com/jonhue/plaain/releases",target:"_blank",rel:"noopener noreferrer",children:"changelog"}),"."]})}),Object(f.jsx)("p",{className:"small",children:Object(f.jsxs)(I.a,{children:["You are running commit"," ",Object(f.jsx)("a",{href:"https://github.com/jonhue/plaain/commit/".concat("c3e8114394de9b99bac4a811643cafe404ade389"),target:"_blank",rel:"noopener noreferrer",children:"c3e8114394de9b99bac4a811643cafe404ade389"}),"."]})}),Object(f.jsx)("p",{className:"small",children:Object(f.jsxs)(I.a,{children:["Note that Plaain may ",Object(f.jsx)("span",{className:"bold",children:"not"})," be used to stream pirated content or publicly share your private media library. You may only connect to your private cloud storage."]})})]})]})},Me=(c(210),function(e){var t=e.match,c=Object(p.a)().t,s=Object(y.c)((function(e){return Object(d.a)(t.params.id)(e.shows)})),n=Object(y.c)((function(e){return s&&Object(O.n)(Object(k.e)(s.id)(e.seasons),(function(e){return e.number}))}));return void 0!==s&&void 0!==n?Object(f.jsxs)("div",{className:"Show",children:[Object(f.jsx)(U,{url:Object(O.a)(s.backdropPath)}),Object(f.jsxs)("div",{className:"Show__details",children:[Object(f.jsx)(x,{url:Object(O.c)(s.posterPath),alt:"poster"}),Object(f.jsx)("h1",{children:s.title}),Object(f.jsx)("div",{className:"Show__information",children:Object(f.jsxs)("p",{className:"small",children:[new Date(s.firstAirDate).getFullYear()," -"," ",new Date(s.lastAirDate).getFullYear()]})}),Object(f.jsx)("p",{className:"Show__overview",children:s.summary})]}),n.length>0&&Object(f.jsxs)("div",{className:"Show__seasons",children:[Object(f.jsx)("h2",{children:c("Seasons")}),Object(f.jsx)(v,{items:n,id:"seasons"})]})]}):Object(f.jsx)(G.a,{})}),Ae=(c(211),function(){var e=Object(y.c)((function(e){return Object(O.l)(Object(d.b)(e.shows),(function(e){return e.title}))}));return e.length>0?Object(f.jsxs)("div",{className:"Shows",children:[Object(f.jsx)("div",{className:"Shows__find",children:Object(f.jsx)(m.b,{to:"/app/find",children:Object(f.jsx)(q,{})})}),Object(f.jsx)(X,{items:e,path:"shows",id:"shows"}),Object(f.jsx)(J,{items:e})]}):Object(f.jsx)(s.a,{to:"/app"})});t.default=function(e){var t=e.match,c=Object(y.c)((function(e){return{moviesCount:Object.keys(e.movies).length,showsCount:Object.keys(e.shows).length}})),n=c.moviesCount,i=c.showsCount;return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsxs)(s.d,{children:[Object(f.jsx)(s.b,{path:"".concat(t.path,"/"),exact:!0,component:E}),Object(f.jsx)(s.b,{path:"".concat(t.path,"/movies/:id"),exact:!0,component:z}),Object(f.jsx)(s.b,{path:"".concat(t.path,"/movies"),component:$}),Object(f.jsx)(s.b,{path:"".concat(t.path,"/shows/:id"),exact:!0,component:Me}),Object(f.jsx)(s.b,{path:"".concat(t.path,"/shows"),component:Ae}),Object(f.jsx)(s.b,{path:"".concat(t.path,"/seasons/:id"),exact:!0,component:je}),Object(f.jsx)(s.b,{path:"".concat(t.path,"/people/:id"),exact:!0,component:ae}),Object(f.jsx)(s.b,{path:"".concat(t.path,"/settings"),exact:!0,component:Se}),Object(f.jsx)(s.b,{path:"".concat(t.path,"/find"),exact:!0,component:w}),Object(f.jsx)(s.b,{component:G.a})]}),Object(f.jsx)(ie,{moviesDisabled:0===n,showsDisabled:0===i})]})}}}]);
//# sourceMappingURL=5.214c0aa0.chunk.js.map