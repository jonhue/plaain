(this.webpackJsonpplaain=this.webpackJsonpplaain||[]).push([[5],{169:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},171:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},173:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},174:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},175:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},176:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},177:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},178:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},185:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},186:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},187:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},188:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},189:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},190:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},191:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},192:function(e,t,a){},193:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},194:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},195:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},196:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},197:function(e,t,a){},198:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},199:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},200:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},201:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},202:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},203:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},204:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},205:function(e,t,a){e.exports={white:"#fff",light:"#e3e4e9",background:"#283057",dark:"#182047",black:"#000",highlight:"#ff2fc1",warn:"#fe8a27",brPhone:"600px",brPhablet:"800px",brTablet:"1200px",brLaptop:"1600px",brDesktop:"2000px"}},212:function(e,t,a){"use strict";a.r(t);a(169);var n=a(2),r=a(0),c=a.n(r),l=a(109),o=a.n(l),i=a(110),s=a(112),u=(a(171),a(172)),m=a.n(u),b=a(111),p=a(113),h=(a(173),a(144),a(13)),f=(a(174),function(e){var t=e.url,a=e.alt;return c.a.createElement("img",{className:"Cover",src:t,alt:a})}),d=a(24),v=a(167),E=a(107),g=function(e){var t=e.id,a=e.items,n=Object(E.a)().t;return Object(r.useEffect)((function(){new v.a(".HorizontalSlide#".concat(t," .swiper-container"),{spaceBetween:15,slidesPerView:"auto",slidesOffsetBefore:20,slidesOffsetAfter:20,grabCursor:!0})}),[t]),c.a.createElement("div",{className:"HorizontalSlide",id:t},c.a.createElement("div",{className:"swiper-container"},c.a.createElement("div",{className:"swiper-wrapper"},a.length>0?a.map((function(e,t){return c.a.createElement("div",{className:"swiper-slide",key:t},c.a.createElement(d.b,{to:Object(h.e)(e)},c.a.createElement(f,{url:Object(h.c)(e.posterPath),alt:e.title})))})):c.a.createElement("div",{className:"swiper-slide"},c.a.createElement("h3",null,n("Nothing found."))))))},k=a(147),x=a(22),w=function(e,t){var a=m.a.create();return e.forEach((function(e){var n=e.id;a.add(n,t(e))})),a},j=function(e){var t=e.query,a=Object(E.a)().t,l=Object(n.g)(),u=Object(x.c)((function(e){return{movies:e.movies,shows:e.shows}})),m=u.movies,f=u.shows,d=Object(r.useState)(t||""),v=Object(s.a)(d,2),j=v[0],O=v[1],y=Object(r.useMemo)((function(){return w(Object(b.e)(m),(function(e){return"".concat(e.title,";").concat(e.summary)}))}),[m]),P=Object(r.useMemo)((function(){return w(Object(p.b)(f),(function(e){return"".concat(e.title,";").concat(e.summary)}))}),[f]),N=Object(k.useAsyncMemo)(Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.search(j);case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return Object(b.b)(e)(m)})).filter(h.k));case 4:case"end":return e.stop()}}),e)}))),[y,j]),_=Object(k.useAsyncMemo)(Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.search(j);case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return Object(p.a)(e)(f)})).filter(h.k));case 4:case"end":return e.stop()}}),e)}))),[P,j]),S=Object(r.useCallback)((function(e){l.replace("/app/find?".concat("q","=").concat(e.target.value)),O(e.target.value)}),[l,O]);return c.a.createElement("div",{className:"Find"},c.a.createElement("form",null,c.a.createElement("input",{autoFocus:!0,value:j,placeholder:a("Search your library"),onChange:S})),N&&Object.keys(N).length>0&&c.a.createElement("section",null,c.a.createElement("h2",null,a("Movies")),c.a.createElement(g,{items:N,id:"movies"})),_&&Object.keys(_).length>0&&c.a.createElement("section",null,c.a.createElement("h2",null,a("TV shows")),c.a.createElement(g,{items:_,id:"shows"})))},O=function(){var e=Object(n.h)(),t=Object(r.useMemo)((function(){return new URLSearchParams(e.search).get("q")}),[e]);return c.a.createElement(j,{query:t})},y=a(58),P=a(118),N=a(6),_=a(124),S=Object(_.a)([function(e){return Object(b.a)(e.movies)},function(e){return Object(P.a)(e.seasons)}],(function(e,t){return[].concat(Object(y.a)(e),Object(y.a)(t))})),C=Object(_.a)([function(e){return Object(b.f)(e.movies)},function(e){return Object(P.b)(e.seasons)}],(function(e,t){return[].concat(Object(y.a)(e),Object(y.a)(t))})),D=(a(175),function(e){var t=e.onIndex,a=Object(E.a)().t;return c.a.createElement("div",{className:"Authenticated"},c.a.createElement("h2",null,a("Get started")),c.a.createElement("p",null,a("You signed into a cloud service, but we didn't find any movies or TV shows.")),c.a.createElement("p",null,a("It's likely that you just have to move some of your files around and create some folders to make it work.")),c.a.createElement("p",null,a("Reference the getting started guide to learn how to organize your files so that Plaain finds them. After you're done, just re-index.")),c.a.createElement("div",{className:"Authenticated__buttons"},c.a.createElement("a",{className:"button primary",href:"https://github.com/jonhue/plaain#getting-started",target:"_blank",rel:"noopener noreferrer"},a("Getting started")),c.a.createElement("button",{onClick:t},a("Index"))))}),M=(a(176),function(e){var t=e.inProgress,a=e.recentlyWatched,n=Object(E.a)().t;return c.a.createElement("div",{className:"ForYou"},t.length>0&&c.a.createElement("section",null,c.a.createElement("h2",null,n("Continue watching")),c.a.createElement(g,{items:t,id:"inProgress"})),a.length>0&&c.a.createElement("section",null,c.a.createElement("h2",null,n("Recently watched")),c.a.createElement(g,{items:a,id:"recentlyWatched"})))}),A=(a(177),function(e){var t=e.movies,a=e.shows,n=Object(E.a)().t;return c.a.createElement("div",{className:"Setup"},c.a.createElement("h2",null,n("Get started")),c.a.createElement("p",null,n("Here, you'll be able to find your recently watched movie or the show you didn't finish yet.")),c.a.createElement("div",{className:"Setup__buttons"},t.length>0&&c.a.createElement(d.b,{to:"/app/movies",className:"button"},n("Discover your movies")),a.length>0&&c.a.createElement(d.b,{to:"/app/shows",className:"button"},n("Discover your shows"))))}),L=(a(178),a(76)),T=function(){var e=Object(E.a)().t;return c.a.createElement("div",{className:"Unauthenticated"},c.a.createElement("h2",null,e("Get started")),c.a.createElement("p",null,e("To watch your movies and TV shows, you first have to sign in with the cloud service that hosts your media.")),c.a.createElement(d.b,{to:"/app/settings",className:"button"},e("Authenticate")),c.a.createElement("p",{className:"small"},c.a.createElement(L.a,null,"Note that Plaain may ",c.a.createElement("span",{className:"bold"},"not")," be used to stream pirated content or publicly share your private media library. You may only connect to your private cloud storage.")))},I=a(141),F=a(142),U=a(127),V=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return{inProgress:Object(h.m)(S(e)),movies:Object(b.e)(e.movies),providers:Object(U.b)(e.auth),recentlyWatched:Object(h.m)(C(e)),shows:Object(p.b)(e.shows)}})),a=t.inProgress,n=t.movies,l=t.providers,o=t.recentlyWatched,i=t.shows,s=Object(r.useCallback)((function(){e(Object(F.a)(Object(I.b)(l)))}),[e,l]);return a.length>0||o.length>0?c.a.createElement(M,{inProgress:a,recentlyWatched:o}):0===l.length?c.a.createElement(T,null):0===n.length&&0===i.length?c.a.createElement(D,{onIndex:s}):c.a.createElement(A,{movies:n,shows:i})},W=(a(185),a(186),function(e){var t=e.url;return c.a.createElement("picture",{className:"Backdrop"},c.a.createElement("img",{src:t,alt:"backdrop"}))}),R=function(e){var t=e.files,a=Object(E.a)().t;return c.a.createElement("div",{className:"FileList"},t.map((function(e,t){return c.a.createElement("p",{className:"small",key:t},e.name)})),0===t.length&&c.a.createElement("p",{className:"small"},a("None")))},Y=(a(187),function(e){var t=e.people,a=e.details,n=Object(E.a)().t,l=Object(r.useState)(!0),o=Object(s.a)(l,2),i=o[0],u=o[1],m=Object(r.useCallback)((function(){return u((function(e){return!e}))}),[u]),b=Object(r.useMemo)((function(){return t.slice(0,i?10:t.length)}),[i,t]);return c.a.createElement("div",{className:"PersonList"},t.length>0?b.map((function(e,t){return c.a.createElement("p",{key:t},c.a.createElement(d.b,{to:Object(h.e)(e)},e.name)," \xb7"," ",c.a.createElement("span",null,a(e)))})):c.a.createElement("p",null,n("None")),t.length>10&&c.a.createElement("span",{onClick:m},n(i?"Show more":"Show less")))}),G=a(55),B=a.n(G),z=function(e){var t=e.movie,a=Object(E.a)().t,l=Object(n.g)(),o=Object(r.useCallback)((function(){l.push("/player?id=".concat(t.id,"&type=").concat(t.kind,"&s=").concat(t.usage.progress))}),[l,t]),i=Object(r.useCallback)((function(){l.push("/player?id=".concat(t.id,"&type=").concat(t.kind))}),[l,t]);return c.a.createElement("div",{className:"Movie"},c.a.createElement(W,{url:Object(h.a)(t.backdropPath)}),c.a.createElement("div",{className:"Movie__details"},c.a.createElement(f,{url:Object(h.c)(t.posterPath),alt:"poster"}),c.a.createElement("h1",null,t.title),c.a.createElement("div",{className:"Movie__information"},c.a.createElement("p",{className:"small"},new Date(t.releaseDate).getFullYear()),t.duration&&c.a.createElement("p",{className:"small"},Object(h.o)(a,t.duration))),c.a.createElement("div",{className:"Movie__actions"},Object(h.j)(t)&&c.a.createElement("button",{className:"primary",onClick:o,disabled:0===t.sources.length},a("Continue")),c.a.createElement("button",{className:B()({primary:!Object(h.j)(t)}),onClick:i,disabled:0===t.sources.length},a("Watch")),c.a.createElement("a",{className:"button",href:t.trailerUrl,target:"_blank",rel:"noopener noreferrer"},a("Play trailer"))),c.a.createElement("p",{className:"Movie__overview"},t.summary),c.a.createElement("div",{className:"Movie__people"},c.a.createElement("div",{className:"Movie__people__cast"},c.a.createElement("h4",null,a("Starring")),c.a.createElement(Y,{people:t.cast,details:function(e){return e.character}})),c.a.createElement("div",{className:"Movie__people__crew"},c.a.createElement("h4",null,a("Crew")),c.a.createElement(Y,{people:t.crew,details:function(e){return e.job}})))),c.a.createElement("div",{className:"Movie__sources"},c.a.createElement("div",null,c.a.createElement("h4",null,a("Sources")),c.a.createElement("div",null,c.a.createElement("div",{className:"Movie__sources__versions"},c.a.createElement("h5",null,a("Versions")),c.a.createElement(R,{files:t.sources})),c.a.createElement("div",{className:"Movie__sources__captions"},c.a.createElement("h5",null,a("Subtitles")),c.a.createElement(R,{files:t.captions}))))))},H=a(56),q=function(e){var t=e.match,a=Object(x.c)((function(e){return Object(b.b)(t.params.id)(e.movies)}));return void 0!==a?c.a.createElement(z,{movie:a}):c.a.createElement(H.a,null)},Z=(a(188),a(189),function(e){var t=e.items,a=Object(E.a)().t;return c.a.createElement("div",{className:"ItemGrid"},t.length>0?t.map((function(e,t){return c.a.createElement("div",{className:"ItemGrid__item",key:t},c.a.createElement(d.b,{to:Object(h.e)(e)},c.a.createElement(f,{url:Object(h.c)(e.posterPath),alt:e.title})))})):c.a.createElement("div",{className:"ItemGrid__item"},c.a.createElement("h3",null,a("Nothing found."))))}),J=(a(190),function(e){var t=e.id,a=e.items,n=e.path,l=Object(E.a)().t;return Object(r.useEffect)((function(){new v.a(".VerticalSlide#".concat(t," .swiper-container"),{direction:"vertical",slidesPerView:"auto",grabCursor:!0,effect:"coverflow",coverflowEffect:{rotate:0,stretch:425,depth:150,modifier:1,slideShadows:!1},history:{replaceState:!0,key:n}})}),[t,n]),c.a.createElement("div",{className:"VerticalSlide",id:t},c.a.createElement("div",{className:"swiper-container"},c.a.createElement("div",{className:"swiper-wrapper"},a.length>0?a.map((function(e,t){return c.a.createElement("div",{className:"swiper-slide","data-history":e.id,key:t},c.a.createElement(d.b,{to:Object(h.e)(e)},c.a.createElement(f,{url:Object(h.c)(e.posterPath),alt:e.title})))})):c.a.createElement("div",{className:"swiper-slide"},c.a.createElement("h3",null,l("Nothing found."))))))}),K=a(25),Q=function(e){var t=e.color;return c.a.createElement(K.a,{className:"zoom",width:24,height:24},c.a.createElement("title",null,"zoom"),c.a.createElement("g",{fill:t},c.a.createElement("line",{fill:"none",stroke:t,x1:"22",x2:"15.656",y1:"22",y2:"15.656"}),c.a.createElement("circle",{cx:"10",cy:"10",fill:"none",r:"8",stroke:t})))},X=a(34),$=a.n(X),ee=function(e){var t=e.movies;return c.a.createElement("div",{className:"Movies"},c.a.createElement("div",{className:"Movies__find"},c.a.createElement(d.b,{to:"/app/find"},c.a.createElement(Q,{color:$.a.white}))),window.innerWidth<Number.parseInt($.a.brPhone)?c.a.createElement(J,{items:t,path:"movies",id:"movies"}):c.a.createElement(Z,{items:t}))},te=function(){var e=Object(x.c)((function(e){return Object(h.l)(Object(b.e)(e.movies),(function(e){return e.title}))}));return e.length>0?c.a.createElement(ee,{movies:e}):c.a.createElement(n.a,{to:"/app"})},ae=(a(191),function(e){var t=e.color;return c.a.createElement(K.a,{className:"settings-gear",width:24,height:24},c.a.createElement("title",null,"settings gear"),c.a.createElement("g",{fill:t,stroke:t},c.a.createElement("circle",{cx:"12",cy:"12",fill:"none",r:"3"}),c.a.createElement("path",{d:"M20,12a8.049,8.049,0,0,0-.188-1.713l2.714-2.055-2-3.464L17.383,6.094a7.987,7.987,0,0,0-2.961-1.719L14,1H10L9.578,4.375A7.987,7.987,0,0,0,6.617,6.094L3.474,4.768l-2,3.464,2.714,2.055a7.9,7.9,0,0,0,0,3.426L1.474,15.768l2,3.464,3.143-1.326a7.987,7.987,0,0,0,2.961,1.719L10,23h4l.422-3.375a7.987,7.987,0,0,0,2.961-1.719l3.143,1.326,2-3.464-2.714-2.055A8.049,8.049,0,0,0,20,12Z",fill:"none",stroke:t})))}),ne=function(e){var t=e.color;return c.a.createElement(K.a,{className:"movie-61",width:24,height:24},c.a.createElement("title",null,"movie 61"),c.a.createElement("g",{fill:t},c.a.createElement("line",{fill:"none",stroke:t,x1:"1",x2:"1",y1:"1",y2:"23"}),c.a.createElement("line",{fill:"none",stroke:t,x1:"23",x2:"23",y1:"1",y2:"23"}),c.a.createElement("rect",{height:"22",width:"14",fill:"none",stroke:t,x:"5",y:"1"}),c.a.createElement("line",{fill:"none",stroke:t,x1:"1",x2:"23",y1:"12",y2:"12"}),c.a.createElement("line",{fill:"none",stroke:t,x1:"1",x2:"5",y1:"8",y2:"8"}),c.a.createElement("line",{fill:"none",stroke:t,x1:"1",x2:"5",y1:"4",y2:"4"}),c.a.createElement("line",{fill:"none",stroke:t,x1:"19",x2:"23",y1:"8",y2:"8"}),c.a.createElement("line",{fill:"none",stroke:t,x1:"19",x2:"23",y1:"4",y2:"4"}),c.a.createElement("line",{fill:"none",stroke:t,x1:"19",x2:"23",y1:"20",y2:"20"}),c.a.createElement("line",{fill:"none",stroke:t,x1:"19",x2:"23",y1:"16",y2:"16"}),c.a.createElement("line",{fill:"none",stroke:t,x1:"1",x2:"5",y1:"20",y2:"20"}),c.a.createElement("line",{fill:"none",stroke:t,x1:"1",x2:"5",y1:"16",y2:"16"})))},re=function(e){var t=e.color;return c.a.createElement(K.a,{className:"popcorn",width:24,height:24},c.a.createElement("title",null,"popcorn"),c.a.createElement("g",{fill:t},c.a.createElement("polygon",{fill:"none",points:"21 7 3 7 5 23 19 23 21 7",stroke:t}),c.a.createElement("path",{d:"M19,5a3,3,0,0,0-3-3,2.97,2.97,0,0,0-1.47.4,2.986,2.986,0,0,0-5.06,0A2.97,2.97,0,0,0,8,2,3,3,0,0,0,5,5",fill:"none",stroke:t}),c.a.createElement("line",{fill:"none",stroke:t,x1:"9",x2:"8",y1:"23",y2:"7"}),c.a.createElement("line",{fill:"none",stroke:t,x1:"15",x2:"16",y1:"23",y2:"7"})))},ce=function(e){var t=e.color;return c.a.createElement(K.a,{className:"desktop-screen",width:24,height:24},c.a.createElement("title",null,"desktop screen"),c.a.createElement("g",{fill:t},c.a.createElement("line",{fill:"none",stroke:t,x1:"12",x2:"12",y1:"22",y2:"18"}),c.a.createElement("line",{fill:"none",stroke:t,x1:"6",x2:"18",y1:"22",y2:"22"}),c.a.createElement("rect",{height:"16",width:"22",fill:"none",stroke:t,x:"1",y:"2"})))},le=(a(192),function(e){var t=e.children,a=e.to,r=e.exact,l=e.disabled,o=Object(n.h)(),i=!!Object(n.f)(o.pathname,{path:a,exact:r});return c.a.createElement(d.b,{className:B()("Tab",{active:i,disabled:l}),to:a},t)}),oe=function(e){var t=e.moviesDisabled,a=e.showsDisabled;return c.a.createElement("div",{className:"Nav"},c.a.createElement(le,{to:"/app",exact:!0},c.a.createElement(re,{color:$.a.white}),c.a.createElement("p",null,"For you")),c.a.createElement(le,{disabled:t,to:"/app/movies"},c.a.createElement(ne,{color:$.a.white}),c.a.createElement("p",null,"Movies")),c.a.createElement(le,{disabled:a,to:"/app/shows"},c.a.createElement(ce,{color:$.a.white}),c.a.createElement("p",null,"Shows")),c.a.createElement(le,{to:"/app/settings"},c.a.createElement(ae,{color:$.a.white}),c.a.createElement("p",null,"Settings")))},ie=(a(193),function(e){var t=e.person,a=e.movies,n=e.seasons,l=Object(E.a)().t,o=Object(r.useMemo)((function(){return a.length>0?a[0].backdropPath:n.length>0?n[0].showBackdropPath:void 0}),[a,n]);return c.a.createElement("div",{className:"Person"},c.a.createElement(W,{url:Object(h.a)(o)}),c.a.createElement("div",{className:"Person__details"},c.a.createElement(f,{url:Object(h.c)(t.profilePath),alt:"profile"}),c.a.createElement("h1",null,t.name),c.a.createElement("h5",null,l("Known as")),c.a.createElement("p",null,t.jobs.join(", "))),a.length>0&&c.a.createElement("div",{className:"Person__movies"},c.a.createElement("h2",null,l("Movies")),c.a.createElement(g,{items:a,id:"movies"})),n.length>0&&c.a.createElement("div",{className:"Person__seasons"},c.a.createElement("h2",null,l("TV seasons")),c.a.createElement(g,{items:n,id:"seasons"})))}),se=function(e){var t=e.match,a=Object(x.c)((function(e){return(a=t.params.id,Object(_.a)([function(e){var t=e.movies;return Object(b.d)(a,(function(e){return e.cast}))(t)},function(e){var t=e.movies;return Object(b.d)(a,(function(e){return e.crew}))(t)},function(e){var t=e.seasons;return Object(P.f)(a,(function(e){return e.cast}))(t)},function(e){var t=e.seasons;return Object(P.f)(a,(function(e){return e.crew}))(t)}],(function(e,t,n,r){return[].concat(Object(y.a)(e),Object(y.a)(t),Object(y.a)(n),Object(y.a)(r)).reduce((function(e,t){return{kind:N.a.Person,id:a,tmdbId:t.tmdbId,name:t.name,gender:t.gender,profilePath:t.profilePath,jobs:void 0!==e?Object(y.a)(new Set([].concat(Object(y.a)(e.jobs),[t.job]))):[t.job]}}),void 0)})))(e);var a})),n=Object(x.c)((function(e){return{involvedMovies:a&&Object(b.c)(a.id)(e.movies),involvedSeasons:a&&Object(P.d)(a.id)(e.seasons)}})),r=n.involvedMovies,l=n.involvedSeasons;return void 0!==a&&void 0!==r&&void 0!==l?c.a.createElement(ie,{person:a,movies:r,seasons:l}):c.a.createElement(H.a,null)},ue=(a(194),a(195),function(e){var t=e.episode,a=e.onClick,n=Object(E.a)().t;return c.a.createElement("div",{className:B()("EpisodeEntry",{disabled:0===t.sources.length}),onClick:a},c.a.createElement("div",{className:"EpisodeEntry__number"},t.number),c.a.createElement("div",{className:"EpisodeEntry__details"},c.a.createElement("h2",null,t.title),c.a.createElement("p",{className:"small"},n("Aired")," ",new Date(t.airDate).toDateString()),c.a.createElement("p",null,t.summary)))}),me=function(e){var t=e.show,a=e.season,l=e.episodes,o=e.currentEpisode,i=Object(E.a)().t,u=Object(n.g)(),m=Object(r.useState)(!1),b=Object(s.a)(m,2),p=b[0],d=b[1],v=Object(r.useCallback)((function(){return d((function(e){return!e}))}),[d]),g=Object(r.useCallback)((function(e){return function(){u.push("/player?id=".concat(e.id,"&type=").concat(e.kind,"&s=").concat(e.usage.progress))}}),[u]),k=Object(r.useCallback)((function(e){return function(){var t=l.find((function(t){return t.number===e}));u.push("/player?id=".concat(t.id,"&type=").concat(t.kind))}}),[l,u]);return c.a.createElement("div",{className:"Season"},c.a.createElement(W,{url:Object(h.a)(a.showBackdropPath)}),c.a.createElement("div",{className:"Season__details"},c.a.createElement(f,{url:Object(h.c)(a.posterPath),alt:"poster"}),c.a.createElement("h1",null,i("Season")," ",a.number),c.a.createElement("div",{className:"Season__information"},c.a.createElement("p",{className:"small"},t.title),c.a.createElement("p",{className:"small"},new Date(a.airDate).getFullYear())),c.a.createElement("div",{className:"Season__actions"},void 0!==o&&c.a.createElement("button",{className:"primary",onClick:g(o),disabled:0===o.sources.length},i("Continue episode")," ",o.number),l.length>0&&c.a.createElement("button",{className:B()({primary:void 0===o}),onClick:k(0),disabled:0===l[0].sources.length},i("Watch")),c.a.createElement("a",{className:"button",id:"trailer",href:a.trailerUrl,target:"_blank",rel:"noopener noreferrer"},i("Play trailer"))),c.a.createElement("div",{className:"Season__episodes"},c.a.createElement("div",{className:B()("Season__episodes__list",{shown:p})},l.slice(0,p?l.length:0).map((function(e,t){return c.a.createElement(ue,{episode:e,onClick:k(e.number),key:t})}))),l.length>0&&c.a.createElement("div",{className:"Season__episodes__toggle",onClick:v},i(p?"Hide episodes":"Show all episodes"))),c.a.createElement("p",{className:"Season__overview"},a.summary),c.a.createElement("div",{className:"Season__people"},c.a.createElement("div",{className:"Season__people__cast"},c.a.createElement("h4",null,i("Starring")),c.a.createElement(Y,{people:a.cast,details:function(e){return e.character}})),c.a.createElement("div",{className:"Season__people__crew"},c.a.createElement("h4",null,i("Crew")),c.a.createElement(Y,{people:a.crew,details:function(e){return e.job}})))))},be=a(135),pe=function(e){var t=e.match,a=Object(x.c)((function(e){return Object(P.c)(t.params.id)(e.seasons)})),n=Object(x.c)((function(e){return{show:a&&Object(p.a)(a.showId)(e.shows),seasonEpisodes:a&&Object(h.n)(Object(be.b)(a.id)(e.episodes),(function(e){return e.number}))}})),l=n.show,o=n.seasonEpisodes,i=Object(r.useMemo)((function(){if(void 0!==a&&void 0!==o)return o.find((function(e){return e.number===a.usage.progress}))}),[a,o]);return void 0!==l&&void 0!==a&&void 0!==o?c.a.createElement(me,{show:l,season:a,episodes:o,currentEpisode:i}):c.a.createElement(H.a,null)},he=a(4),fe=a(3),de=(a(196),function(e){var t=e.color;return c.a.createElement(K.a,{className:"e-add",width:32,height:32},c.a.createElement("title",null,"e add"),c.a.createElement("g",{fill:t,stroke:t},c.a.createElement("line",{fill:"none",stroke:t,x1:"16",x2:"16",y1:"2",y2:"30"}),c.a.createElement("line",{fill:"none",stroke:t,x1:"30",x2:"2",y1:"16",y2:"16"})))}),ve=(a(197),a(198),a(28)),Ee=(a(199),function(e){var t=e.className,a=e.icon,n=e.onClick;return c.a.createElement("div",{className:"ProviderButton"},c.a.createElement("button",{className:t,onClick:n},a))}),ge=function(e){var t=e.onChoose,a=Object(E.a)().t,n=Object(r.useCallback)((function(e){return function(){return t(e)}}),[t]);return c.a.createElement("div",{className:"ChooseProvider"},c.a.createElement("h2",null,a("Add a provider")),c.a.createElement("p",null,a("Select which service you want to use to stream your movies & shows.")),c.a.createElement("div",{className:"ChooseProvider__providers"},ve.a.map((function(e,t){return c.a.createElement(Ee,{icon:Object(h.f)(e,$.a.white),onClick:n(e),key:t})}))))},ke=(a(200),a(210)),xe=function(e){var t=e.isActive,a=e.onClose,n=e.children,l=Object(r.useRef)(null);return Object(ke.a)(l,a),c.a.createElement("div",{className:B()("Modal",{active:t})},c.a.createElement("div",{className:"Modal__wrapper",ref:l},n))},we=(a(201),a(202),function(e){var t=e.color;return c.a.createElement(K.a,{className:"c-check",width:24,height:24},c.a.createElement("title",null,"c check"),c.a.createElement("g",{fill:t},c.a.createElement("path",{d:"M12,0A12,12,0,1,0,24,12,12.035,12.035,0,0,0,12,0ZM10,17.414,4.586,12,6,10.586l4,4,8-8L19.414,8Z",fill:t})))}),je=function(e){var t=e.submitCaption,a=e.provider,n=e.onSubmit,l=Object(E.a)().t,o=Object(r.useMemo)((function(){return{moviesPath:null===a||void 0===a?void 0:a.moviesPath,showsPath:null===a||void 0===a?void 0:a.showsPath}}),[a]),i=Object(r.useState)(o),u=Object(s.a)(i,2),m=u[0],b=u[1],p=Object(r.useCallback)((function(e){var t=e.currentTarget;b((function(e){return Object(fe.a)({},e,Object(he.a)({},t.name,""===t.value?void 0:t.value))}))}),[b]),h=Object(r.useCallback)((function(e){e.preventDefault(),n(m.moviesPath,m.showsPath)}),[n,m]),f=Object(r.useCallback)((function(e){return void 0!==e}),[]),d=Object(r.useCallback)((function(e){return void 0!==e&&e.startsWith("/")}),[]),v=Object(r.useMemo)((function(){return(!f(m.moviesPath)||d(m.moviesPath))&&(!f(m.showsPath)||d(m.showsPath))}),[f,d,m]);return Object(r.useEffect)((function(){b(o)}),[o,b]),c.a.createElement("form",{className:"ProviderForm",onSubmit:h},c.a.createElement("label",null,l("Movies path"),c.a.createElement("p",{className:"small"},l("The path from your home directory to where you keep your movies.")),c.a.createElement("div",{className:B()("ProviderForm__input",{setup:f(m.moviesPath),valid:d(m.moviesPath)})},c.a.createElement("input",{type:"text",name:"moviesPath",value:m.moviesPath||"",placeholder:"/Plaain/movies",onChange:p}),c.a.createElement(we,{color:$.a.white}))),c.a.createElement("label",null,l("Shows path"),c.a.createElement("p",{className:"small"},l("The path from your home directory to where you keep your shows.")),c.a.createElement("div",{className:B()("ProviderForm__input",{setup:f(m.showsPath),valid:d(m.showsPath)})},c.a.createElement("input",{type:"text",name:"showsPath",value:m.showsPath||"",placeholder:"/Plaain/shows",onChange:p}),c.a.createElement(we,{color:$.a.white}))),c.a.createElement("div",{className:"ProviderForm__actions"},c.a.createElement("button",{type:"submit",disabled:!v},t)))},Oe=function(e){var t=e.onSetup,a=Object(E.a)().t;return c.a.createElement("div",{className:"SetupProvider"},c.a.createElement("h2",null,a("Setup your provider")),c.a.createElement("p",null,a("All that's left is to tell Plaain where to look for your movies and shows. You can always skip this step and come back later.")),c.a.createElement(je,{submitCaption:a("Complete"),onSubmit:t}))},ye=function(e){var t=e.isActive,a=e.onClose,n=e.onSetupAuth,l=e.onAddProvider,u=Object(r.useState)(),m=Object(s.a)(u,2),b=m[0],p=m[1],h=Object(r.useCallback)(function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:a=e.sent,p(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[p,n]),f=Object(r.useCallback)((function(e,t){if(void 0!==b){var n=Object(fe.a)({},b,{moviesPath:e,showsPath:t});l(n),a()}}),[b,l,a]);return c.a.createElement("div",{className:"AddProviderModal"},c.a.createElement(xe,{isActive:t,onClose:a},void 0===b?c.a.createElement(ge,{onChoose:h}):c.a.createElement(Oe,{onSetup:f})))},Pe=(a(203),function(e){var t=e.isActive,a=e.provider,n=e.onClose,l=e.onUpdateProvider,o=e.onRemoveProvider,i=Object(E.a)().t,s=Object(r.useCallback)((function(e,t){l(Object(fe.a)({},a,{moviesPath:e,showsPath:t})),n()}),[n,l,a]),u=Object(r.useCallback)((function(){window.confirm(i("Are you sure?"))&&(o(),n())}),[n,o,i]);return c.a.createElement("div",{className:"UpdateProviderModal"},c.a.createElement(xe,{isActive:t,onClose:n},c.a.createElement("h2",null,Object(h.g)(a.kind)),c.a.createElement("p",null,a.name),c.a.createElement(je,{submitCaption:i("Update"),provider:a,onSubmit:s}),c.a.createElement("button",{className:"secondary",onClick:u},i("Remove"))))}),Ne=a(29),_e=function(e){var t=e.providers,a=e.onSetupAuth,n=e.onAddProvider,l=e.onUpdateProvider,o=e.onRemoveProvider,i=e.onIndex,u=e.onFetchMetadataAll,m=Object(E.a)().t,b=Object(r.useState)(!1),p=Object(s.a)(b,2),f=p[0],d=p[1],v=Object(r.useState)(t.reduce((function(e,t,a){return Object(fe.a)({},e,Object(he.a)({},a,!1))}),{})),g=Object(s.a)(v,2),k=g[0],x=g[1],w=Object(r.useCallback)((function(e){return function(){return x((function(t){return Object(fe.a)({},t,Object(he.a)({},e,!0))}))}}),[x]),j=Object(r.useCallback)((function(e){return function(){return x((function(t){return Object(fe.a)({},t,Object(he.a)({},e,!1))}))}}),[x]),O=Object(r.useCallback)((function(){return d(!0)}),[d]),y=Object(r.useCallback)((function(){return d(!1)}),[d]),P=Object(r.useCallback)((function(e){return function(){return o(e)}}),[o]);return c.a.createElement("div",{className:"Settings"},c.a.createElement("section",{className:"Settings__auth"},c.a.createElement("h2",null,m("Authentication")),c.a.createElement("p",null,m("Sign into your cloud to add your movies and TV shows to your library.")),c.a.createElement("div",{className:"Settings__auth__scroll"},c.a.createElement("div",{className:"Settings__auth__providers"},t.map((function(e,t){return c.a.createElement("div",{className:"Settings__auth__provider",key:t},c.a.createElement(Ee,{className:B()("primary",{warn:void 0===e.moviesPath&&void 0===e.showsPath}),icon:Object(h.f)(e.kind,$.a.white),onClick:w(t)}),c.a.createElement(Pe,{isActive:k[t],provider:e,onClose:j(t),onUpdateProvider:l,onRemoveProvider:P(e.id),key:7}))})),c.a.createElement("div",{className:"Settings__auth__provider",key:t.length},c.a.createElement(Ee,{icon:c.a.createElement(de,{color:$.a.white}),onClick:O,key:5}),c.a.createElement(ye,{isActive:f,onClose:y,onSetupAuth:a,onAddProvider:n,key:7}))))),c.a.createElement("section",{className:"Settings__indexing"},c.a.createElement("h2",null,m("Indexing")),c.a.createElement("p",null,m("Index to look for new media on your linked services or fetch the latest metadata.")),c.a.createElement("div",{className:"Settings__indexing__actions"},c.a.createElement("button",{onClick:i},m("Index")),c.a.createElement("button",{onClick:u},m("Update metadata")))),c.a.createElement("section",{className:"Settings__version"},c.a.createElement("h2",null,m("Version")),c.a.createElement("p",null,m("Plaain {{version}}.",{version:Ne.d})),c.a.createElement("p",{className:"small"},c.a.createElement(L.a,null,"Plaain is"," ",c.a.createElement("a",{href:"https://github.com/jonhue/plaain",target:"_blank",rel:"noopener noreferrer"},"open-source"),". See the"," ",c.a.createElement("a",{href:"https://github.com/jonhue/plaain/releases",target:"_blank",rel:"noopener noreferrer"},"changelog"),".")),c.a.createElement("p",{className:"small"},c.a.createElement(L.a,null,"Note that Plaain may ",c.a.createElement("span",{className:"bold"},"not")," be used to stream pirated content or publicly share your private media library. You may only connect to your private cloud storage."))))},Se=a(166),Ce=a(137),De=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return Object(U.b)(e.auth)})),a=Object(r.useCallback)((function(t){return e(Object(F.a)(Object(Se.b)(t)))}),[e]),n=Object(r.useCallback)((function(t){e(Object(Ce.b)(t)),e(Object(F.a)(Object(I.b)([t])))}),[e]),l=Object(r.useCallback)((function(){return e(Object(F.a)(Object(I.b)(t)))}),[e,t]),o=Object(r.useCallback)((function(){return e(Object(F.a)(Object(I.a)()))}),[e]);return c.a.createElement(_e,{providers:t,onSetupAuth:a,onAddProvider:n,onUpdateProvider:n,onRemoveProvider:I.c,onIndex:l,onFetchMetadataAll:o})},Me=(a(204),function(e){var t=e.show,a=e.seasons,n=Object(E.a)().t;return c.a.createElement("div",{className:"Show"},c.a.createElement(W,{url:Object(h.a)(t.backdropPath)}),c.a.createElement("div",{className:"Show__details"},c.a.createElement(f,{url:Object(h.c)(t.posterPath),alt:"poster"}),c.a.createElement("h1",null,t.title),c.a.createElement("div",{className:"Show__information"},c.a.createElement("p",{className:"small"},new Date(t.firstAirDate).getFullYear()," -"," ",new Date(t.lastAirDate).getFullYear())),c.a.createElement("p",{className:"Show__overview"},t.summary)),a.length>0&&c.a.createElement("div",{className:"Show__seasons"},c.a.createElement("h2",null,n("Seasons")),c.a.createElement(g,{items:a,id:"seasons"})))}),Ae=function(e){var t=e.match,a=Object(x.c)((function(e){return Object(p.a)(t.params.id)(e.shows)})),n=Object(x.c)((function(e){return a&&Object(h.n)(Object(P.e)(a.id)(e.seasons),(function(e){return e.number}))}));return void 0!==a&&void 0!==n?c.a.createElement(Me,{show:a,seasons:n}):c.a.createElement(H.a,null)},Le=(a(205),function(e){var t=e.shows;return c.a.createElement("div",{className:"Shows"},c.a.createElement("div",{className:"Shows__find"},c.a.createElement(d.b,{to:"/app/find"},c.a.createElement(Q,{color:$.a.white}))),window.innerWidth<Number.parseInt($.a.brPhone)?c.a.createElement(J,{items:t,path:"shows",id:"shows"}):c.a.createElement(Z,{items:t}))}),Te=function(){var e=Object(x.c)((function(e){return Object(h.l)(Object(p.b)(e.shows),(function(e){return e.title}))}));return e.length>0?c.a.createElement(Le,{shows:e}):c.a.createElement(n.a,{to:"/app"})};t.default=function(e){var t=e.match,a=Object(x.c)((function(e){return{moviesCount:Object.keys(e.movies).length,showsCount:Object.keys(e.shows).length}})),r=a.moviesCount,l=a.showsCount;return c.a.createElement("div",{className:"App"},c.a.createElement(n.d,null,c.a.createElement(n.b,{path:"".concat(t.path,"/"),exact:!0,component:V}),c.a.createElement(n.b,{path:"".concat(t.path,"/movies/:id"),exact:!0,component:q}),c.a.createElement(n.b,{path:"".concat(t.path,"/movies"),component:te}),c.a.createElement(n.b,{path:"".concat(t.path,"/shows/:id"),exact:!0,component:Ae}),c.a.createElement(n.b,{path:"".concat(t.path,"/shows"),component:Te}),c.a.createElement(n.b,{path:"".concat(t.path,"/seasons/:id"),exact:!0,component:pe}),c.a.createElement(n.b,{path:"".concat(t.path,"/people/:id"),exact:!0,component:se}),c.a.createElement(n.b,{path:"".concat(t.path,"/settings"),exact:!0,component:De}),c.a.createElement(n.b,{path:"".concat(t.path,"/find"),exact:!0,component:O}),c.a.createElement(n.b,{component:H.a})),c.a.createElement(oe,{moviesDisabled:0===r,showsDisabled:0===l}))}}}]);
//# sourceMappingURL=5.c04c7f50.chunk.js.map